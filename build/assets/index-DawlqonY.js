function TC(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(n,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();function v_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Nm={exports:{}},$l={},Sm={exports:{}},Ct={};var Gy;function RC(){if(Gy)return Ct;Gy=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.iterator;function y(A){return A===null||typeof A!="object"?null:(A=g&&A[g]||A["@@iterator"],typeof A=="function"?A:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function j(A,$,J){this.props=A,this.context=$,this.refs=_,this.updater=J||b}j.prototype.isReactComponent={},j.prototype.setState=function(A,$){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,$,"setState")},j.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function k(){}k.prototype=j.prototype;function C(A,$,J){this.props=A,this.context=$,this.refs=_,this.updater=J||b}var E=C.prototype=new k;E.constructor=C,S(E,j.prototype),E.isPureReactComponent=!0;var N=Array.isArray,O=Object.prototype.hasOwnProperty,R={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function I(A,$,J){var ce,G={},pe=null,oe=null;if($!=null)for(ce in $.ref!==void 0&&(oe=$.ref),$.key!==void 0&&(pe=""+$.key),$)O.call($,ce)&&!P.hasOwnProperty(ce)&&(G[ce]=$[ce]);var ue=arguments.length-2;if(ue===1)G.children=J;else if(1<ue){for(var Re=Array(ue),ve=0;ve<ue;ve++)Re[ve]=arguments[ve+2];G.children=Re}if(A&&A.defaultProps)for(ce in ue=A.defaultProps,ue)G[ce]===void 0&&(G[ce]=ue[ce]);return{$$typeof:e,type:A,key:pe,ref:oe,props:G,_owner:R.current}}function Z(A,$){return{$$typeof:e,type:A.type,key:$,ref:A.ref,props:A.props,_owner:A._owner}}function B(A){return typeof A=="object"&&A!==null&&A.$$typeof===e}function X(A){var $={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(J){return $[J]})}var z=/\/+/g;function F(A,$){return typeof A=="object"&&A!==null&&A.key!=null?X(""+A.key):$.toString(36)}function U(A,$,J,ce,G){var pe=typeof A;(pe==="undefined"||pe==="boolean")&&(A=null);var oe=!1;if(A===null)oe=!0;else switch(pe){case"string":case"number":oe=!0;break;case"object":switch(A.$$typeof){case e:case t:oe=!0}}if(oe)return oe=A,G=G(oe),A=ce===""?"."+F(oe,0):ce,N(G)?(J="",A!=null&&(J=A.replace(z,"$&/")+"/"),U(G,$,J,"",function(ve){return ve})):G!=null&&(B(G)&&(G=Z(G,J+(!G.key||oe&&oe.key===G.key?"":(""+G.key).replace(z,"$&/")+"/")+A)),$.push(G)),1;if(oe=0,ce=ce===""?".":ce+":",N(A))for(var ue=0;ue<A.length;ue++){pe=A[ue];var Re=ce+F(pe,ue);oe+=U(pe,$,J,Re,G)}else if(Re=y(A),typeof Re=="function")for(A=Re.call(A),ue=0;!(pe=A.next()).done;)pe=pe.value,Re=ce+F(pe,ue++),oe+=U(pe,$,J,Re,G);else if(pe==="object")throw $=String(A),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return oe}function le(A,$,J){if(A==null)return A;var ce=[],G=0;return U(A,ce,"","",function(pe){return $.call(J,pe,G++)}),ce}function V(A){if(A._status===-1){var $=A._result;$=$(),$.then(function(J){(A._status===0||A._status===-1)&&(A._status=1,A._result=J)},function(J){(A._status===0||A._status===-1)&&(A._status=2,A._result=J)}),A._status===-1&&(A._status=0,A._result=$)}if(A._status===1)return A._result.default;throw A._result}var ee={current:null},D={transition:null},H={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:D,ReactCurrentOwner:R};function te(){throw Error("act(...) is not supported in production builds of React.")}return Ct.Children={map:le,forEach:function(A,$,J){le(A,function(){$.apply(this,arguments)},J)},count:function(A){var $=0;return le(A,function(){$++}),$},toArray:function(A){return le(A,function($){return $})||[]},only:function(A){if(!B(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Ct.Component=j,Ct.Fragment=r,Ct.Profiler=o,Ct.PureComponent=C,Ct.StrictMode=n,Ct.Suspense=h,Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,Ct.act=te,Ct.cloneElement=function(A,$,J){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var ce=S({},A.props),G=A.key,pe=A.ref,oe=A._owner;if($!=null){if($.ref!==void 0&&(pe=$.ref,oe=R.current),$.key!==void 0&&(G=""+$.key),A.type&&A.type.defaultProps)var ue=A.type.defaultProps;for(Re in $)O.call($,Re)&&!P.hasOwnProperty(Re)&&(ce[Re]=$[Re]===void 0&&ue!==void 0?ue[Re]:$[Re])}var Re=arguments.length-2;if(Re===1)ce.children=J;else if(1<Re){ue=Array(Re);for(var ve=0;ve<Re;ve++)ue[ve]=arguments[ve+2];ce.children=ue}return{$$typeof:e,type:A.type,key:G,ref:pe,props:ce,_owner:oe}},Ct.createContext=function(A){return A={$$typeof:c,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:l,_context:A},A.Consumer=A},Ct.createElement=I,Ct.createFactory=function(A){var $=I.bind(null,A);return $.type=A,$},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(A){return{$$typeof:d,render:A}},Ct.isValidElement=B,Ct.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:V}},Ct.memo=function(A,$){return{$$typeof:p,type:A,compare:$===void 0?null:$}},Ct.startTransition=function(A){var $=D.transition;D.transition={};try{A()}finally{D.transition=$}},Ct.unstable_act=te,Ct.useCallback=function(A,$){return ee.current.useCallback(A,$)},Ct.useContext=function(A){return ee.current.useContext(A)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(A){return ee.current.useDeferredValue(A)},Ct.useEffect=function(A,$){return ee.current.useEffect(A,$)},Ct.useId=function(){return ee.current.useId()},Ct.useImperativeHandle=function(A,$,J){return ee.current.useImperativeHandle(A,$,J)},Ct.useInsertionEffect=function(A,$){return ee.current.useInsertionEffect(A,$)},Ct.useLayoutEffect=function(A,$){return ee.current.useLayoutEffect(A,$)},Ct.useMemo=function(A,$){return ee.current.useMemo(A,$)},Ct.useReducer=function(A,$,J){return ee.current.useReducer(A,$,J)},Ct.useRef=function(A){return ee.current.useRef(A)},Ct.useState=function(A){return ee.current.useState(A)},Ct.useSyncExternalStore=function(A,$,J){return ee.current.useSyncExternalStore(A,$,J)},Ct.useTransition=function(){return ee.current.useTransition()},Ct.version="18.3.1",Ct}var Ky;function nh(){return Ky||(Ky=1,Sm.exports=RC()),Sm.exports}var Yy;function AC(){if(Yy)return $l;Yy=1;var e=nh(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,h,p){var v,g={},y=null,b=null;p!==void 0&&(y=""+p),h.key!==void 0&&(y=""+h.key),h.ref!==void 0&&(b=h.ref);for(v in h)n.call(h,v)&&!l.hasOwnProperty(v)&&(g[v]=h[v]);if(d&&d.defaultProps)for(v in h=d.defaultProps,h)g[v]===void 0&&(g[v]=h[v]);return{$$typeof:t,type:d,key:y,ref:b,props:g,_owner:o.current}}return $l.Fragment=r,$l.jsx=c,$l.jsxs=c,$l}var Qy;function PC(){return Qy||(Qy=1,Nm.exports=AC()),Nm.exports}var s=PC(),ed={},Em={exports:{}},Nn={},km={exports:{}},Cm={};var Jy;function OC(){return Jy||(Jy=1,(function(e){function t(D,H){var te=D.length;D.push(H);e:for(;0<te;){var A=te-1>>>1,$=D[A];if(0<o($,H))D[A]=H,D[te]=$,te=A;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var H=D[0],te=D.pop();if(te!==H){D[0]=te;e:for(var A=0,$=D.length,J=$>>>1;A<J;){var ce=2*(A+1)-1,G=D[ce],pe=ce+1,oe=D[pe];if(0>o(G,te))pe<$&&0>o(oe,G)?(D[A]=oe,D[pe]=te,A=pe):(D[A]=G,D[ce]=te,A=ce);else if(pe<$&&0>o(oe,te))D[A]=oe,D[pe]=te,A=pe;else break e}}return H}function o(D,H){var te=D.sortIndex-H.sortIndex;return te!==0?te:D.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var h=[],p=[],v=1,g=null,y=3,b=!1,S=!1,_=!1,j=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(D){for(var H=r(p);H!==null;){if(H.callback===null)n(p);else if(H.startTime<=D)n(p),H.sortIndex=H.expirationTime,t(h,H);else break;H=r(p)}}function N(D){if(_=!1,E(D),!S)if(r(h)!==null)S=!0,V(O);else{var H=r(p);H!==null&&ee(N,H.startTime-D)}}function O(D,H){S=!1,_&&(_=!1,k(I),I=-1),b=!0;var te=y;try{for(E(H),g=r(h);g!==null&&(!(g.expirationTime>H)||D&&!X());){var A=g.callback;if(typeof A=="function"){g.callback=null,y=g.priorityLevel;var $=A(g.expirationTime<=H);H=e.unstable_now(),typeof $=="function"?g.callback=$:g===r(h)&&n(h),E(H)}else n(h);g=r(h)}if(g!==null)var J=!0;else{var ce=r(p);ce!==null&&ee(N,ce.startTime-H),J=!1}return J}finally{g=null,y=te,b=!1}}var R=!1,P=null,I=-1,Z=5,B=-1;function X(){return!(e.unstable_now()-B<Z)}function z(){if(P!==null){var D=e.unstable_now();B=D;var H=!0;try{H=P(!0,D)}finally{H?F():(R=!1,P=null)}}else R=!1}var F;if(typeof C=="function")F=function(){C(z)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,le=U.port2;U.port1.onmessage=z,F=function(){le.postMessage(null)}}else F=function(){j(z,0)};function V(D){P=D,R||(R=!0,F())}function ee(D,H){I=j(function(){D(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){S||b||(S=!0,V(O))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(h)},e.unstable_next=function(D){switch(y){case 1:case 2:case 3:var H=3;break;default:H=y}var te=y;y=H;try{return D()}finally{y=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,H){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var te=y;y=D;try{return H()}finally{y=te}},e.unstable_scheduleCallback=function(D,H,te){var A=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?A+te:A):te=A,D){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=te+$,D={id:v++,callback:H,priorityLevel:D,startTime:te,expirationTime:$,sortIndex:-1},te>A?(D.sortIndex=te,t(p,D),r(h)===null&&D===r(p)&&(_?(k(I),I=-1):_=!0,ee(N,te-A))):(D.sortIndex=$,t(h,D),S||b||(S=!0,V(O))),D},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(D){var H=y;return function(){var te=y;y=H;try{return D.apply(this,arguments)}finally{y=te}}}})(Cm)),Cm}var Zy;function DC(){return Zy||(Zy=1,km.exports=OC()),km.exports}var Xy;function IC(){if(Xy)return Nn;Xy=1;var e=nh(),t=DC();function r(a){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+a,u=1;u<arguments.length;u++)i+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+a+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function l(a,i){c(a,i),c(a+"Capture",i)}function c(a,i){for(o[a]=i,a=0;a<i.length;a++)n.add(i[a])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},g={};function y(a){return h.call(g,a)?!0:h.call(v,a)?!1:p.test(a)?g[a]=!0:(v[a]=!0,!1)}function b(a,i,u,m){if(u!==null&&u.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return m?!1:u!==null?!u.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function S(a,i,u,m){if(i===null||typeof i>"u"||b(a,i,u,m))return!0;if(m)return!1;if(u!==null)switch(u.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function _(a,i,u,m,x,w,T){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=m,this.attributeNamespace=x,this.mustUseProperty=u,this.propertyName=a,this.type=i,this.sanitizeURL=w,this.removeEmptyString=T}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){j[a]=new _(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var i=a[0];j[i]=new _(i,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){j[a]=new _(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){j[a]=new _(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){j[a]=new _(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){j[a]=new _(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){j[a]=new _(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){j[a]=new _(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){j[a]=new _(a,5,!1,a.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function C(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var i=a.replace(k,C);j[i]=new _(i,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var i=a.replace(k,C);j[i]=new _(i,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var i=a.replace(k,C);j[i]=new _(i,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){j[a]=new _(a,1,!1,a.toLowerCase(),null,!1,!1)}),j.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){j[a]=new _(a,1,!1,a.toLowerCase(),null,!0,!0)});function E(a,i,u,m){var x=j.hasOwnProperty(i)?j[i]:null;(x!==null?x.type!==0:m||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(S(i,u,x,m)&&(u=null),m||x===null?y(i)&&(u===null?a.removeAttribute(i):a.setAttribute(i,""+u)):x.mustUseProperty?a[x.propertyName]=u===null?x.type===3?!1:"":u:(i=x.attributeName,m=x.attributeNamespace,u===null?a.removeAttribute(i):(x=x.type,u=x===3||x===4&&u===!0?"":""+u,m?a.setAttributeNS(m,i,u):a.setAttribute(i,u))))}var N=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),R=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),X=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),D=Symbol.iterator;function H(a){return a===null||typeof a!="object"?null:(a=D&&a[D]||a["@@iterator"],typeof a=="function"?a:null)}var te=Object.assign,A;function $(a){if(A===void 0)try{throw Error()}catch(u){var i=u.stack.trim().match(/\n( *(at )?)/);A=i&&i[1]||""}return`
`+A+a}var J=!1;function ce(a,i){if(!a||J)return"";J=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(ie){var m=ie}Reflect.construct(a,[],i)}else{try{i.call()}catch(ie){m=ie}a.call(i.prototype)}else{try{throw Error()}catch(ie){m=ie}a()}}catch(ie){if(ie&&m&&typeof ie.stack=="string"){for(var x=ie.stack.split(`
`),w=m.stack.split(`
`),T=x.length-1,L=w.length-1;1<=T&&0<=L&&x[T]!==w[L];)L--;for(;1<=T&&0<=L;T--,L--)if(x[T]!==w[L]){if(T!==1||L!==1)do if(T--,L--,0>L||x[T]!==w[L]){var W=`
`+x[T].replace(" at new "," at ");return a.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",a.displayName)),W}while(1<=T&&0<=L);break}}}finally{J=!1,Error.prepareStackTrace=u}return(a=a?a.displayName||a.name:"")?$(a):""}function G(a){switch(a.tag){case 5:return $(a.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return a=ce(a.type,!1),a;case 11:return a=ce(a.type.render,!1),a;case 1:return a=ce(a.type,!0),a;default:return""}}function pe(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case P:return"Fragment";case R:return"Portal";case Z:return"Profiler";case I:return"StrictMode";case F:return"Suspense";case U:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case X:return(a.displayName||"Context")+".Consumer";case B:return(a._context.displayName||"Context")+".Provider";case z:var i=a.render;return a=a.displayName,a||(a=i.displayName||i.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case le:return i=a.displayName||null,i!==null?i:pe(a.type)||"Memo";case V:i=a._payload,a=a._init;try{return pe(a(i))}catch{}}return null}function oe(a){var i=a.type;switch(a.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=i.render,a=a.displayName||a.name||"",i.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(i);case 8:return i===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ue(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Re(a){var i=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ve(a){var i=Re(a)?"checked":"value",u=Object.getOwnPropertyDescriptor(a.constructor.prototype,i),m=""+a[i];if(!a.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var x=u.get,w=u.set;return Object.defineProperty(a,i,{configurable:!0,get:function(){return x.call(this)},set:function(T){m=""+T,w.call(this,T)}}),Object.defineProperty(a,i,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(T){m=""+T},stopTracking:function(){a._valueTracker=null,delete a[i]}}}}function re(a){a._valueTracker||(a._valueTracker=ve(a))}function he(a){if(!a)return!1;var i=a._valueTracker;if(!i)return!0;var u=i.getValue(),m="";return a&&(m=Re(a)?a.checked?"true":"false":a.value),a=m,a!==u?(i.setValue(a),!0):!1}function Ne(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function dt(a,i){var u=i.checked;return te({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??a._wrapperState.initialChecked})}function pt(a,i){var u=i.defaultValue==null?"":i.defaultValue,m=i.checked!=null?i.checked:i.defaultChecked;u=ue(i.value!=null?i.value:u),a._wrapperState={initialChecked:m,initialValue:u,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function jt(a,i){i=i.checked,i!=null&&E(a,"checked",i,!1)}function St(a,i){jt(a,i);var u=ue(i.value),m=i.type;if(u!=null)m==="number"?(u===0&&a.value===""||a.value!=u)&&(a.value=""+u):a.value!==""+u&&(a.value=""+u);else if(m==="submit"||m==="reset"){a.removeAttribute("value");return}i.hasOwnProperty("value")?Ze(a,i.type,u):i.hasOwnProperty("defaultValue")&&Ze(a,i.type,ue(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(a.defaultChecked=!!i.defaultChecked)}function De(a,i,u){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var m=i.type;if(!(m!=="submit"&&m!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+a._wrapperState.initialValue,u||i===a.value||(a.value=i),a.defaultValue=i}u=a.name,u!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,u!==""&&(a.name=u)}function Ze(a,i,u){(i!=="number"||Ne(a.ownerDocument)!==a)&&(u==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+u&&(a.defaultValue=""+u))}var Y=Array.isArray;function me(a,i,u,m){if(a=a.options,i){i={};for(var x=0;x<u.length;x++)i["$"+u[x]]=!0;for(u=0;u<a.length;u++)x=i.hasOwnProperty("$"+a[u].value),a[u].selected!==x&&(a[u].selected=x),x&&m&&(a[u].defaultSelected=!0)}else{for(u=""+ue(u),i=null,x=0;x<a.length;x++){if(a[x].value===u){a[x].selected=!0,m&&(a[x].defaultSelected=!0);return}i!==null||a[x].disabled||(i=a[x])}i!==null&&(i.selected=!0)}}function He(a,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return te({},i,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function at(a,i){var u=i.value;if(u==null){if(u=i.children,i=i.defaultValue,u!=null){if(i!=null)throw Error(r(92));if(Y(u)){if(1<u.length)throw Error(r(93));u=u[0]}i=u}i==null&&(i=""),u=i}a._wrapperState={initialValue:ue(u)}}function nt(a,i){var u=ue(i.value),m=ue(i.defaultValue);u!=null&&(u=""+u,u!==a.value&&(a.value=u),i.defaultValue==null&&a.defaultValue!==u&&(a.defaultValue=u)),m!=null&&(a.defaultValue=""+m)}function dr(a){var i=a.textContent;i===a._wrapperState.initialValue&&i!==""&&i!==null&&(a.value=i)}function er(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zt(a,i){return a==null||a==="http://www.w3.org/1999/xhtml"?er(i):a==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var se,_e=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,u,m,x){MSApp.execUnsafeLocalFunction(function(){return a(i,u,m,x)})}:a})(function(a,i){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=i;else{for(se=se||document.createElement("div"),se.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=se.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;i.firstChild;)a.appendChild(i.firstChild)}});function Oe(a,i){if(i){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=i;return}}a.textContent=i}var Se={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},It=["Webkit","ms","Moz","O"];Object.keys(Se).forEach(function(a){It.forEach(function(i){i=i+a.charAt(0).toUpperCase()+a.substring(1),Se[i]=Se[a]})});function Q(a,i,u){return i==null||typeof i=="boolean"||i===""?"":u||typeof i!="number"||i===0||Se.hasOwnProperty(a)&&Se[a]?(""+i).trim():i+"px"}function xe(a,i){a=a.style;for(var u in i)if(i.hasOwnProperty(u)){var m=u.indexOf("--")===0,x=Q(u,i[u],m);u==="float"&&(u="cssFloat"),m?a.setProperty(u,x):a[u]=x}}var Xe=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function it(a,i){if(i){if(Xe[a]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,a));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function Ot(a,i){if(a.indexOf("-")===-1)return typeof i.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _t=null;function Mt(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Hr=null,Fr=null,br=null;function ge(a){if(a=jl(a)){if(typeof Hr!="function")throw Error(r(280));var i=a.stateNode;i&&(i=pu(i),Hr(a.stateNode,a.type,i))}}function fe(a){Fr?br?br.push(a):br=[a]:Fr=a}function Pe(){if(Fr){var a=Fr,i=br;if(br=Fr=null,ge(a),i)for(a=0;a<i.length;a++)ge(i[a])}}function Ie(a,i){return a(i)}function et(){}var mt=!1;function lt(a,i,u){if(mt)return a(i,u);mt=!0;try{return Ie(a,i,u)}finally{mt=!1,(Fr!==null||br!==null)&&(et(),Pe())}}function bt(a,i){var u=a.stateNode;if(u===null)return null;var m=pu(u);if(m===null)return null;u=m[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,i,typeof u));return u}var Yt=!1;if(d)try{var vt={};Object.defineProperty(vt,"passive",{get:function(){Yt=!0}}),window.addEventListener("test",vt,vt),window.removeEventListener("test",vt,vt)}catch{Yt=!1}function Wt(a,i,u,m,x,w,T,L,W){var ie=Array.prototype.slice.call(arguments,3);try{i.apply(u,ie)}catch(we){this.onError(we)}}var Nt=!1,Dt=null,Gr=!1,Bt=null,Qt={onError:function(a){Nt=!0,Dt=a}};function zs(a,i,u,m,x,w,T,L,W){Nt=!1,Dt=null,Wt.apply(Qt,arguments)}function Rn(a,i,u,m,x,w,T,L,W){if(zs.apply(this,arguments),Nt){if(Nt){var ie=Dt;Nt=!1,Dt=null}else throw Error(r(198));Gr||(Gr=!0,Bt=ie)}}function Ns(a){var i=a,u=a;if(a.alternate)for(;i.return;)i=i.return;else{a=i;do i=a,(i.flags&4098)!==0&&(u=i.return),a=i.return;while(a)}return i.tag===3?u:null}function rl(a){if(a.tag===13){var i=a.memoizedState;if(i===null&&(a=a.alternate,a!==null&&(i=a.memoizedState)),i!==null)return i.dehydrated}return null}function nl(a){if(Ns(a)!==a)throw Error(r(188))}function Yc(a){var i=a.alternate;if(!i){if(i=Ns(a),i===null)throw Error(r(188));return i!==a?null:a}for(var u=a,m=i;;){var x=u.return;if(x===null)break;var w=x.alternate;if(w===null){if(m=x.return,m!==null){u=m;continue}break}if(x.child===w.child){for(w=x.child;w;){if(w===u)return nl(x),a;if(w===m)return nl(x),i;w=w.sibling}throw Error(r(188))}if(u.return!==m.return)u=x,m=w;else{for(var T=!1,L=x.child;L;){if(L===u){T=!0,u=x,m=w;break}if(L===m){T=!0,m=x,u=w;break}L=L.sibling}if(!T){for(L=w.child;L;){if(L===u){T=!0,u=w,m=x;break}if(L===m){T=!0,m=w,u=x;break}L=L.sibling}if(!T)throw Error(r(189))}}if(u.alternate!==m)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:i}function Qc(a){return a=Yc(a),a!==null?tt(a):null}function tt(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var i=tt(a);if(i!==null)return i;a=a.sibling}return null}var q=t.unstable_scheduleCallback,je=t.unstable_cancelCallback,Ve=t.unstable_shouldYield,tr=t.unstable_requestPaint,kt=t.unstable_now,gr=t.unstable_getCurrentPriorityLevel,Ur=t.unstable_ImmediatePriority,zn=t.unstable_UserBlockingPriority,ss=t.unstable_NormalPriority,sl=t.unstable_LowPriority,Er=t.unstable_IdlePriority,eo=null,An=null;function VE(a){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(eo,a,void 0,(a.current.flags&128)===128)}catch{}}var as=Math.clz32?Math.clz32:GE,qE=Math.log,HE=Math.LN2;function GE(a){return a>>>=0,a===0?32:31-(qE(a)/HE|0)|0}var Jc=64,Zc=4194304;function al(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Xc(a,i){var u=a.pendingLanes;if(u===0)return 0;var m=0,x=a.suspendedLanes,w=a.pingedLanes,T=u&268435455;if(T!==0){var L=T&~x;L!==0?m=al(L):(w&=T,w!==0&&(m=al(w)))}else T=u&~x,T!==0?m=al(T):w!==0&&(m=al(w));if(m===0)return 0;if(i!==0&&i!==m&&(i&x)===0&&(x=m&-m,w=i&-i,x>=w||x===16&&(w&4194240)!==0))return i;if((m&4)!==0&&(m|=u&16),i=a.entangledLanes,i!==0)for(a=a.entanglements,i&=m;0<i;)u=31-as(i),x=1<<u,m|=a[u],i&=~x;return m}function KE(a,i){switch(a){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YE(a,i){for(var u=a.suspendedLanes,m=a.pingedLanes,x=a.expirationTimes,w=a.pendingLanes;0<w;){var T=31-as(w),L=1<<T,W=x[T];W===-1?((L&u)===0||(L&m)!==0)&&(x[T]=KE(L,i)):W<=i&&(a.expiredLanes|=L),w&=~L}}function Vh(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Nv(){var a=Jc;return Jc<<=1,(Jc&4194240)===0&&(Jc=64),a}function qh(a){for(var i=[],u=0;31>u;u++)i.push(a);return i}function ol(a,i,u){a.pendingLanes|=i,i!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,i=31-as(i),a[i]=u}function QE(a,i){var u=a.pendingLanes&~i;a.pendingLanes=i,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=i,a.mutableReadLanes&=i,a.entangledLanes&=i,i=a.entanglements;var m=a.eventTimes;for(a=a.expirationTimes;0<u;){var x=31-as(u),w=1<<x;i[x]=0,m[x]=-1,a[x]=-1,u&=~w}}function Hh(a,i){var u=a.entangledLanes|=i;for(a=a.entanglements;u;){var m=31-as(u),x=1<<m;x&i|a[m]&i&&(a[m]|=i),u&=~x}}var Ht=0;function Sv(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Ev,Gh,kv,Cv,Tv,Kh=!1,eu=[],da=null,ha=null,fa=null,il=new Map,ll=new Map,ma=[],JE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rv(a,i){switch(a){case"focusin":case"focusout":da=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":fa=null;break;case"pointerover":case"pointerout":il.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(i.pointerId)}}function cl(a,i,u,m,x,w){return a===null||a.nativeEvent!==w?(a={blockedOn:i,domEventName:u,eventSystemFlags:m,nativeEvent:w,targetContainers:[x]},i!==null&&(i=jl(i),i!==null&&Gh(i)),a):(a.eventSystemFlags|=m,i=a.targetContainers,x!==null&&i.indexOf(x)===-1&&i.push(x),a)}function ZE(a,i,u,m,x){switch(i){case"focusin":return da=cl(da,a,i,u,m,x),!0;case"dragenter":return ha=cl(ha,a,i,u,m,x),!0;case"mouseover":return fa=cl(fa,a,i,u,m,x),!0;case"pointerover":var w=x.pointerId;return il.set(w,cl(il.get(w)||null,a,i,u,m,x)),!0;case"gotpointercapture":return w=x.pointerId,ll.set(w,cl(ll.get(w)||null,a,i,u,m,x)),!0}return!1}function Av(a){var i=to(a.target);if(i!==null){var u=Ns(i);if(u!==null){if(i=u.tag,i===13){if(i=rl(u),i!==null){a.blockedOn=i,Tv(a.priority,function(){kv(u)});return}}else if(i===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function tu(a){if(a.blockedOn!==null)return!1;for(var i=a.targetContainers;0<i.length;){var u=Qh(a.domEventName,a.eventSystemFlags,i[0],a.nativeEvent);if(u===null){u=a.nativeEvent;var m=new u.constructor(u.type,u);_t=m,u.target.dispatchEvent(m),_t=null}else return i=jl(u),i!==null&&Gh(i),a.blockedOn=u,!1;i.shift()}return!0}function Pv(a,i,u){tu(a)&&u.delete(i)}function XE(){Kh=!1,da!==null&&tu(da)&&(da=null),ha!==null&&tu(ha)&&(ha=null),fa!==null&&tu(fa)&&(fa=null),il.forEach(Pv),ll.forEach(Pv)}function ul(a,i){a.blockedOn===i&&(a.blockedOn=null,Kh||(Kh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,XE)))}function dl(a){function i(x){return ul(x,a)}if(0<eu.length){ul(eu[0],a);for(var u=1;u<eu.length;u++){var m=eu[u];m.blockedOn===a&&(m.blockedOn=null)}}for(da!==null&&ul(da,a),ha!==null&&ul(ha,a),fa!==null&&ul(fa,a),il.forEach(i),ll.forEach(i),u=0;u<ma.length;u++)m=ma[u],m.blockedOn===a&&(m.blockedOn=null);for(;0<ma.length&&(u=ma[0],u.blockedOn===null);)Av(u),u.blockedOn===null&&ma.shift()}var $o=N.ReactCurrentBatchConfig,ru=!0;function ek(a,i,u,m){var x=Ht,w=$o.transition;$o.transition=null;try{Ht=1,Yh(a,i,u,m)}finally{Ht=x,$o.transition=w}}function tk(a,i,u,m){var x=Ht,w=$o.transition;$o.transition=null;try{Ht=4,Yh(a,i,u,m)}finally{Ht=x,$o.transition=w}}function Yh(a,i,u,m){if(ru){var x=Qh(a,i,u,m);if(x===null)mf(a,i,m,nu,u),Rv(a,m);else if(ZE(x,a,i,u,m))m.stopPropagation();else if(Rv(a,m),i&4&&-1<JE.indexOf(a)){for(;x!==null;){var w=jl(x);if(w!==null&&Ev(w),w=Qh(a,i,u,m),w===null&&mf(a,i,m,nu,u),w===x)break;x=w}x!==null&&m.stopPropagation()}else mf(a,i,m,null,u)}}var nu=null;function Qh(a,i,u,m){if(nu=null,a=Mt(m),a=to(a),a!==null)if(i=Ns(a),i===null)a=null;else if(u=i.tag,u===13){if(a=rl(i),a!==null)return a;a=null}else if(u===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null);return nu=a,null}function Ov(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gr()){case Ur:return 1;case zn:return 4;case ss:case sl:return 16;case Er:return 536870912;default:return 16}default:return 16}}var pa=null,Jh=null,su=null;function Dv(){if(su)return su;var a,i=Jh,u=i.length,m,x="value"in pa?pa.value:pa.textContent,w=x.length;for(a=0;a<u&&i[a]===x[a];a++);var T=u-a;for(m=1;m<=T&&i[u-m]===x[w-m];m++);return su=x.slice(a,1<m?1-m:void 0)}function au(a){var i=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&i===13&&(a=13)):a=i,a===10&&(a=13),32<=a||a===13?a:0}function ou(){return!0}function Iv(){return!1}function Pn(a){function i(u,m,x,w,T){this._reactName=u,this._targetInst=x,this.type=m,this.nativeEvent=w,this.target=T,this.currentTarget=null;for(var L in a)a.hasOwnProperty(L)&&(u=a[L],this[L]=u?u(w):w[L]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ou:Iv,this.isPropagationStopped=Iv,this}return te(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ou)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ou)},persist:function(){},isPersistent:ou}),i}var Fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zh=Pn(Fo),hl=te({},Fo,{view:0,detail:0}),rk=Pn(hl),Xh,ef,fl,iu=te({},hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rf,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==fl&&(fl&&a.type==="mousemove"?(Xh=a.screenX-fl.screenX,ef=a.screenY-fl.screenY):ef=Xh=0,fl=a),Xh)},movementY:function(a){return"movementY"in a?a.movementY:ef}}),Mv=Pn(iu),nk=te({},iu,{dataTransfer:0}),sk=Pn(nk),ak=te({},hl,{relatedTarget:0}),tf=Pn(ak),ok=te({},Fo,{animationName:0,elapsedTime:0,pseudoElement:0}),ik=Pn(ok),lk=te({},Fo,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),ck=Pn(lk),uk=te({},Fo,{data:0}),Lv=Pn(uk),dk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mk(a){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(a):(a=fk[a])?!!i[a]:!1}function rf(){return mk}var pk=te({},hl,{key:function(a){if(a.key){var i=dk[a.key]||a.key;if(i!=="Unidentified")return i}return a.type==="keypress"?(a=au(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?hk[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rf,charCode:function(a){return a.type==="keypress"?au(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?au(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),gk=Pn(pk),vk=te({},iu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$v=Pn(vk),xk=te({},hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rf}),yk=Pn(xk),wk=te({},Fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),_k=Pn(wk),bk=te({},iu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),jk=Pn(bk),Nk=[9,13,27,32],nf=d&&"CompositionEvent"in window,ml=null;d&&"documentMode"in document&&(ml=document.documentMode);var Sk=d&&"TextEvent"in window&&!ml,Fv=d&&(!nf||ml&&8<ml&&11>=ml),Uv=" ",Bv=!1;function zv(a,i){switch(a){case"keyup":return Nk.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wv(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Uo=!1;function Ek(a,i){switch(a){case"compositionend":return Wv(i);case"keypress":return i.which!==32?null:(Bv=!0,Uv);case"textInput":return a=i.data,a===Uv&&Bv?null:a;default:return null}}function kk(a,i){if(Uo)return a==="compositionend"||!nf&&zv(a,i)?(a=Dv(),su=Jh=pa=null,Uo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Fv&&i.locale!=="ko"?null:i.data;default:return null}}var Ck={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vv(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i==="input"?!!Ck[a.type]:i==="textarea"}function qv(a,i,u,m){fe(m),i=hu(i,"onChange"),0<i.length&&(u=new Zh("onChange","change",null,u,m),a.push({event:u,listeners:i}))}var pl=null,gl=null;function Tk(a){cx(a,0)}function lu(a){var i=qo(a);if(he(i))return a}function Rk(a,i){if(a==="change")return i}var Hv=!1;if(d){var sf;if(d){var af="oninput"in document;if(!af){var Gv=document.createElement("div");Gv.setAttribute("oninput","return;"),af=typeof Gv.oninput=="function"}sf=af}else sf=!1;Hv=sf&&(!document.documentMode||9<document.documentMode)}function Kv(){pl&&(pl.detachEvent("onpropertychange",Yv),gl=pl=null)}function Yv(a){if(a.propertyName==="value"&&lu(gl)){var i=[];qv(i,gl,a,Mt(a)),lt(Tk,i)}}function Ak(a,i,u){a==="focusin"?(Kv(),pl=i,gl=u,pl.attachEvent("onpropertychange",Yv)):a==="focusout"&&Kv()}function Pk(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return lu(gl)}function Ok(a,i){if(a==="click")return lu(i)}function Dk(a,i){if(a==="input"||a==="change")return lu(i)}function Ik(a,i){return a===i&&(a!==0||1/a===1/i)||a!==a&&i!==i}var os=typeof Object.is=="function"?Object.is:Ik;function vl(a,i){if(os(a,i))return!0;if(typeof a!="object"||a===null||typeof i!="object"||i===null)return!1;var u=Object.keys(a),m=Object.keys(i);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var x=u[m];if(!h.call(i,x)||!os(a[x],i[x]))return!1}return!0}function Qv(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Jv(a,i){var u=Qv(a);a=0;for(var m;u;){if(u.nodeType===3){if(m=a+u.textContent.length,a<=i&&m>=i)return{node:u,offset:i-a};a=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Qv(u)}}function Zv(a,i){return a&&i?a===i?!0:a&&a.nodeType===3?!1:i&&i.nodeType===3?Zv(a,i.parentNode):"contains"in a?a.contains(i):a.compareDocumentPosition?!!(a.compareDocumentPosition(i)&16):!1:!1}function Xv(){for(var a=window,i=Ne();i instanceof a.HTMLIFrameElement;){try{var u=typeof i.contentWindow.location.href=="string"}catch{u=!1}if(u)a=i.contentWindow;else break;i=Ne(a.document)}return i}function of(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i&&(i==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||i==="textarea"||a.contentEditable==="true")}function Mk(a){var i=Xv(),u=a.focusedElem,m=a.selectionRange;if(i!==u&&u&&u.ownerDocument&&Zv(u.ownerDocument.documentElement,u)){if(m!==null&&of(u)){if(i=m.start,a=m.end,a===void 0&&(a=i),"selectionStart"in u)u.selectionStart=i,u.selectionEnd=Math.min(a,u.value.length);else if(a=(i=u.ownerDocument||document)&&i.defaultView||window,a.getSelection){a=a.getSelection();var x=u.textContent.length,w=Math.min(m.start,x);m=m.end===void 0?w:Math.min(m.end,x),!a.extend&&w>m&&(x=m,m=w,w=x),x=Jv(u,w);var T=Jv(u,m);x&&T&&(a.rangeCount!==1||a.anchorNode!==x.node||a.anchorOffset!==x.offset||a.focusNode!==T.node||a.focusOffset!==T.offset)&&(i=i.createRange(),i.setStart(x.node,x.offset),a.removeAllRanges(),w>m?(a.addRange(i),a.extend(T.node,T.offset)):(i.setEnd(T.node,T.offset),a.addRange(i)))}}for(i=[],a=u;a=a.parentNode;)a.nodeType===1&&i.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<i.length;u++)a=i[u],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Lk=d&&"documentMode"in document&&11>=document.documentMode,Bo=null,lf=null,xl=null,cf=!1;function ex(a,i,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;cf||Bo==null||Bo!==Ne(m)||(m=Bo,"selectionStart"in m&&of(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),xl&&vl(xl,m)||(xl=m,m=hu(lf,"onSelect"),0<m.length&&(i=new Zh("onSelect","select",null,i,u),a.push({event:i,listeners:m}),i.target=Bo)))}function cu(a,i){var u={};return u[a.toLowerCase()]=i.toLowerCase(),u["Webkit"+a]="webkit"+i,u["Moz"+a]="moz"+i,u}var zo={animationend:cu("Animation","AnimationEnd"),animationiteration:cu("Animation","AnimationIteration"),animationstart:cu("Animation","AnimationStart"),transitionend:cu("Transition","TransitionEnd")},uf={},tx={};d&&(tx=document.createElement("div").style,"AnimationEvent"in window||(delete zo.animationend.animation,delete zo.animationiteration.animation,delete zo.animationstart.animation),"TransitionEvent"in window||delete zo.transitionend.transition);function uu(a){if(uf[a])return uf[a];if(!zo[a])return a;var i=zo[a],u;for(u in i)if(i.hasOwnProperty(u)&&u in tx)return uf[a]=i[u];return a}var rx=uu("animationend"),nx=uu("animationiteration"),sx=uu("animationstart"),ax=uu("transitionend"),ox=new Map,ix="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ga(a,i){ox.set(a,i),l(i,[a])}for(var df=0;df<ix.length;df++){var hf=ix[df],$k=hf.toLowerCase(),Fk=hf[0].toUpperCase()+hf.slice(1);ga($k,"on"+Fk)}ga(rx,"onAnimationEnd"),ga(nx,"onAnimationIteration"),ga(sx,"onAnimationStart"),ga("dblclick","onDoubleClick"),ga("focusin","onFocus"),ga("focusout","onBlur"),ga(ax,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uk=new Set("cancel close invalid load scroll toggle".split(" ").concat(yl));function lx(a,i,u){var m=a.type||"unknown-event";a.currentTarget=u,Rn(m,i,void 0,a),a.currentTarget=null}function cx(a,i){i=(i&4)!==0;for(var u=0;u<a.length;u++){var m=a[u],x=m.event;m=m.listeners;e:{var w=void 0;if(i)for(var T=m.length-1;0<=T;T--){var L=m[T],W=L.instance,ie=L.currentTarget;if(L=L.listener,W!==w&&x.isPropagationStopped())break e;lx(x,L,ie),w=W}else for(T=0;T<m.length;T++){if(L=m[T],W=L.instance,ie=L.currentTarget,L=L.listener,W!==w&&x.isPropagationStopped())break e;lx(x,L,ie),w=W}}}if(Gr)throw a=Bt,Gr=!1,Bt=null,a}function sr(a,i){var u=i[wf];u===void 0&&(u=i[wf]=new Set);var m=a+"__bubble";u.has(m)||(ux(i,a,2,!1),u.add(m))}function ff(a,i,u){var m=0;i&&(m|=4),ux(u,a,m,i)}var du="_reactListening"+Math.random().toString(36).slice(2);function wl(a){if(!a[du]){a[du]=!0,n.forEach(function(u){u!=="selectionchange"&&(Uk.has(u)||ff(u,!1,a),ff(u,!0,a))});var i=a.nodeType===9?a:a.ownerDocument;i===null||i[du]||(i[du]=!0,ff("selectionchange",!1,i))}}function ux(a,i,u,m){switch(Ov(i)){case 1:var x=ek;break;case 4:x=tk;break;default:x=Yh}u=x.bind(null,i,u,a),x=void 0,!Yt||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(x=!0),m?x!==void 0?a.addEventListener(i,u,{capture:!0,passive:x}):a.addEventListener(i,u,!0):x!==void 0?a.addEventListener(i,u,{passive:x}):a.addEventListener(i,u,!1)}function mf(a,i,u,m,x){var w=m;if((i&1)===0&&(i&2)===0&&m!==null)e:for(;;){if(m===null)return;var T=m.tag;if(T===3||T===4){var L=m.stateNode.containerInfo;if(L===x||L.nodeType===8&&L.parentNode===x)break;if(T===4)for(T=m.return;T!==null;){var W=T.tag;if((W===3||W===4)&&(W=T.stateNode.containerInfo,W===x||W.nodeType===8&&W.parentNode===x))return;T=T.return}for(;L!==null;){if(T=to(L),T===null)return;if(W=T.tag,W===5||W===6){m=w=T;continue e}L=L.parentNode}}m=m.return}lt(function(){var ie=w,we=Mt(u),be=[];e:{var ye=ox.get(a);if(ye!==void 0){var Le=Zh,Be=a;switch(a){case"keypress":if(au(u)===0)break e;case"keydown":case"keyup":Le=gk;break;case"focusin":Be="focus",Le=tf;break;case"focusout":Be="blur",Le=tf;break;case"beforeblur":case"afterblur":Le=tf;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Le=Mv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Le=sk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Le=yk;break;case rx:case nx:case sx:Le=ik;break;case ax:Le=_k;break;case"scroll":Le=rk;break;case"wheel":Le=jk;break;case"copy":case"cut":case"paste":Le=ck;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Le=$v}var Ge=(i&4)!==0,jr=!Ge&&a==="scroll",ne=Ge?ye!==null?ye+"Capture":null:ye;Ge=[];for(var K=ie,ae;K!==null;){ae=K;var ke=ae.stateNode;if(ae.tag===5&&ke!==null&&(ae=ke,ne!==null&&(ke=bt(K,ne),ke!=null&&Ge.push(_l(K,ke,ae)))),jr)break;K=K.return}0<Ge.length&&(ye=new Le(ye,Be,null,u,we),be.push({event:ye,listeners:Ge}))}}if((i&7)===0){e:{if(ye=a==="mouseover"||a==="pointerover",Le=a==="mouseout"||a==="pointerout",ye&&u!==_t&&(Be=u.relatedTarget||u.fromElement)&&(to(Be)||Be[Ws]))break e;if((Le||ye)&&(ye=we.window===we?we:(ye=we.ownerDocument)?ye.defaultView||ye.parentWindow:window,Le?(Be=u.relatedTarget||u.toElement,Le=ie,Be=Be?to(Be):null,Be!==null&&(jr=Ns(Be),Be!==jr||Be.tag!==5&&Be.tag!==6)&&(Be=null)):(Le=null,Be=ie),Le!==Be)){if(Ge=Mv,ke="onMouseLeave",ne="onMouseEnter",K="mouse",(a==="pointerout"||a==="pointerover")&&(Ge=$v,ke="onPointerLeave",ne="onPointerEnter",K="pointer"),jr=Le==null?ye:qo(Le),ae=Be==null?ye:qo(Be),ye=new Ge(ke,K+"leave",Le,u,we),ye.target=jr,ye.relatedTarget=ae,ke=null,to(we)===ie&&(Ge=new Ge(ne,K+"enter",Be,u,we),Ge.target=ae,Ge.relatedTarget=jr,ke=Ge),jr=ke,Le&&Be)t:{for(Ge=Le,ne=Be,K=0,ae=Ge;ae;ae=Wo(ae))K++;for(ae=0,ke=ne;ke;ke=Wo(ke))ae++;for(;0<K-ae;)Ge=Wo(Ge),K--;for(;0<ae-K;)ne=Wo(ne),ae--;for(;K--;){if(Ge===ne||ne!==null&&Ge===ne.alternate)break t;Ge=Wo(Ge),ne=Wo(ne)}Ge=null}else Ge=null;Le!==null&&dx(be,ye,Le,Ge,!1),Be!==null&&jr!==null&&dx(be,jr,Be,Ge,!0)}}e:{if(ye=ie?qo(ie):window,Le=ye.nodeName&&ye.nodeName.toLowerCase(),Le==="select"||Le==="input"&&ye.type==="file")var Qe=Rk;else if(Vv(ye))if(Hv)Qe=Dk;else{Qe=Pk;var ct=Ak}else(Le=ye.nodeName)&&Le.toLowerCase()==="input"&&(ye.type==="checkbox"||ye.type==="radio")&&(Qe=Ok);if(Qe&&(Qe=Qe(a,ie))){qv(be,Qe,u,we);break e}ct&&ct(a,ye,ie),a==="focusout"&&(ct=ye._wrapperState)&&ct.controlled&&ye.type==="number"&&Ze(ye,"number",ye.value)}switch(ct=ie?qo(ie):window,a){case"focusin":(Vv(ct)||ct.contentEditable==="true")&&(Bo=ct,lf=ie,xl=null);break;case"focusout":xl=lf=Bo=null;break;case"mousedown":cf=!0;break;case"contextmenu":case"mouseup":case"dragend":cf=!1,ex(be,u,we);break;case"selectionchange":if(Lk)break;case"keydown":case"keyup":ex(be,u,we)}var ut;if(nf)e:{switch(a){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else Uo?zv(a,u)&&(gt="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(gt="onCompositionStart");gt&&(Fv&&u.locale!=="ko"&&(Uo||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Uo&&(ut=Dv()):(pa=we,Jh="value"in pa?pa.value:pa.textContent,Uo=!0)),ct=hu(ie,gt),0<ct.length&&(gt=new Lv(gt,a,null,u,we),be.push({event:gt,listeners:ct}),ut?gt.data=ut:(ut=Wv(u),ut!==null&&(gt.data=ut)))),(ut=Sk?Ek(a,u):kk(a,u))&&(ie=hu(ie,"onBeforeInput"),0<ie.length&&(we=new Lv("onBeforeInput","beforeinput",null,u,we),be.push({event:we,listeners:ie}),we.data=ut))}cx(be,i)})}function _l(a,i,u){return{instance:a,listener:i,currentTarget:u}}function hu(a,i){for(var u=i+"Capture",m=[];a!==null;){var x=a,w=x.stateNode;x.tag===5&&w!==null&&(x=w,w=bt(a,u),w!=null&&m.unshift(_l(a,w,x)),w=bt(a,i),w!=null&&m.push(_l(a,w,x))),a=a.return}return m}function Wo(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function dx(a,i,u,m,x){for(var w=i._reactName,T=[];u!==null&&u!==m;){var L=u,W=L.alternate,ie=L.stateNode;if(W!==null&&W===m)break;L.tag===5&&ie!==null&&(L=ie,x?(W=bt(u,w),W!=null&&T.unshift(_l(u,W,L))):x||(W=bt(u,w),W!=null&&T.push(_l(u,W,L)))),u=u.return}T.length!==0&&a.push({event:i,listeners:T})}var Bk=/\r\n?/g,zk=/\u0000|\uFFFD/g;function hx(a){return(typeof a=="string"?a:""+a).replace(Bk,`
`).replace(zk,"")}function fu(a,i,u){if(i=hx(i),hx(a)!==i&&u)throw Error(r(425))}function mu(){}var pf=null,gf=null;function vf(a,i){return a==="textarea"||a==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var xf=typeof setTimeout=="function"?setTimeout:void 0,Wk=typeof clearTimeout=="function"?clearTimeout:void 0,fx=typeof Promise=="function"?Promise:void 0,Vk=typeof queueMicrotask=="function"?queueMicrotask:typeof fx<"u"?function(a){return fx.resolve(null).then(a).catch(qk)}:xf;function qk(a){setTimeout(function(){throw a})}function yf(a,i){var u=i,m=0;do{var x=u.nextSibling;if(a.removeChild(u),x&&x.nodeType===8)if(u=x.data,u==="/$"){if(m===0){a.removeChild(x),dl(i);return}m--}else u!=="$"&&u!=="$?"&&u!=="$!"||m++;u=x}while(u);dl(i)}function va(a){for(;a!=null;a=a.nextSibling){var i=a.nodeType;if(i===1||i===3)break;if(i===8){if(i=a.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return a}function mx(a){a=a.previousSibling;for(var i=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"){if(i===0)return a;i--}else u==="/$"&&i++}a=a.previousSibling}return null}var Vo=Math.random().toString(36).slice(2),Ss="__reactFiber$"+Vo,bl="__reactProps$"+Vo,Ws="__reactContainer$"+Vo,wf="__reactEvents$"+Vo,Hk="__reactListeners$"+Vo,Gk="__reactHandles$"+Vo;function to(a){var i=a[Ss];if(i)return i;for(var u=a.parentNode;u;){if(i=u[Ws]||u[Ss]){if(u=i.alternate,i.child!==null||u!==null&&u.child!==null)for(a=mx(a);a!==null;){if(u=a[Ss])return u;a=mx(a)}return i}a=u,u=a.parentNode}return null}function jl(a){return a=a[Ss]||a[Ws],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function qo(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(r(33))}function pu(a){return a[bl]||null}var _f=[],Ho=-1;function xa(a){return{current:a}}function ar(a){0>Ho||(a.current=_f[Ho],_f[Ho]=null,Ho--)}function rr(a,i){Ho++,_f[Ho]=a.current,a.current=i}var ya={},Xr=xa(ya),yn=xa(!1),ro=ya;function Go(a,i){var u=a.type.contextTypes;if(!u)return ya;var m=a.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===i)return m.__reactInternalMemoizedMaskedChildContext;var x={},w;for(w in u)x[w]=i[w];return m&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=i,a.__reactInternalMemoizedMaskedChildContext=x),x}function wn(a){return a=a.childContextTypes,a!=null}function gu(){ar(yn),ar(Xr)}function px(a,i,u){if(Xr.current!==ya)throw Error(r(168));rr(Xr,i),rr(yn,u)}function gx(a,i,u){var m=a.stateNode;if(i=i.childContextTypes,typeof m.getChildContext!="function")return u;m=m.getChildContext();for(var x in m)if(!(x in i))throw Error(r(108,oe(a)||"Unknown",x));return te({},u,m)}function vu(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||ya,ro=Xr.current,rr(Xr,a),rr(yn,yn.current),!0}function vx(a,i,u){var m=a.stateNode;if(!m)throw Error(r(169));u?(a=gx(a,i,ro),m.__reactInternalMemoizedMergedChildContext=a,ar(yn),ar(Xr),rr(Xr,a)):ar(yn),rr(yn,u)}var Vs=null,xu=!1,bf=!1;function xx(a){Vs===null?Vs=[a]:Vs.push(a)}function Kk(a){xu=!0,xx(a)}function wa(){if(!bf&&Vs!==null){bf=!0;var a=0,i=Ht;try{var u=Vs;for(Ht=1;a<u.length;a++){var m=u[a];do m=m(!0);while(m!==null)}Vs=null,xu=!1}catch(x){throw Vs!==null&&(Vs=Vs.slice(a+1)),q(Ur,wa),x}finally{Ht=i,bf=!1}}return null}var Ko=[],Yo=0,yu=null,wu=0,Wn=[],Vn=0,no=null,qs=1,Hs="";function so(a,i){Ko[Yo++]=wu,Ko[Yo++]=yu,yu=a,wu=i}function yx(a,i,u){Wn[Vn++]=qs,Wn[Vn++]=Hs,Wn[Vn++]=no,no=a;var m=qs;a=Hs;var x=32-as(m)-1;m&=~(1<<x),u+=1;var w=32-as(i)+x;if(30<w){var T=x-x%5;w=(m&(1<<T)-1).toString(32),m>>=T,x-=T,qs=1<<32-as(i)+x|u<<x|m,Hs=w+a}else qs=1<<w|u<<x|m,Hs=a}function jf(a){a.return!==null&&(so(a,1),yx(a,1,0))}function Nf(a){for(;a===yu;)yu=Ko[--Yo],Ko[Yo]=null,wu=Ko[--Yo],Ko[Yo]=null;for(;a===no;)no=Wn[--Vn],Wn[Vn]=null,Hs=Wn[--Vn],Wn[Vn]=null,qs=Wn[--Vn],Wn[Vn]=null}var On=null,Dn=null,ir=!1,is=null;function wx(a,i){var u=Kn(5,null,null,0);u.elementType="DELETED",u.stateNode=i,u.return=a,i=a.deletions,i===null?(a.deletions=[u],a.flags|=16):i.push(u)}function _x(a,i){switch(a.tag){case 5:var u=a.type;return i=i.nodeType!==1||u.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(a.stateNode=i,On=a,Dn=va(i.firstChild),!0):!1;case 6:return i=a.pendingProps===""||i.nodeType!==3?null:i,i!==null?(a.stateNode=i,On=a,Dn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(u=no!==null?{id:qs,overflow:Hs}:null,a.memoizedState={dehydrated:i,treeContext:u,retryLane:1073741824},u=Kn(18,null,null,0),u.stateNode=i,u.return=a,a.child=u,On=a,Dn=null,!0):!1;default:return!1}}function Sf(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Ef(a){if(ir){var i=Dn;if(i){var u=i;if(!_x(a,i)){if(Sf(a))throw Error(r(418));i=va(u.nextSibling);var m=On;i&&_x(a,i)?wx(m,u):(a.flags=a.flags&-4097|2,ir=!1,On=a)}}else{if(Sf(a))throw Error(r(418));a.flags=a.flags&-4097|2,ir=!1,On=a}}}function bx(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;On=a}function _u(a){if(a!==On)return!1;if(!ir)return bx(a),ir=!0,!1;var i;if((i=a.tag!==3)&&!(i=a.tag!==5)&&(i=a.type,i=i!=="head"&&i!=="body"&&!vf(a.type,a.memoizedProps)),i&&(i=Dn)){if(Sf(a))throw jx(),Error(r(418));for(;i;)wx(a,i),i=va(i.nextSibling)}if(bx(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,i=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"){if(i===0){Dn=va(a.nextSibling);break e}i--}else u!=="$"&&u!=="$!"&&u!=="$?"||i++}a=a.nextSibling}Dn=null}}else Dn=On?va(a.stateNode.nextSibling):null;return!0}function jx(){for(var a=Dn;a;)a=va(a.nextSibling)}function Qo(){Dn=On=null,ir=!1}function kf(a){is===null?is=[a]:is.push(a)}var Yk=N.ReactCurrentBatchConfig;function Nl(a,i,u){if(a=u.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(r(309));var m=u.stateNode}if(!m)throw Error(r(147,a));var x=m,w=""+a;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===w?i.ref:(i=function(T){var L=x.refs;T===null?delete L[w]:L[w]=T},i._stringRef=w,i)}if(typeof a!="string")throw Error(r(284));if(!u._owner)throw Error(r(290,a))}return a}function bu(a,i){throw a=Object.prototype.toString.call(i),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":a))}function Nx(a){var i=a._init;return i(a._payload)}function Sx(a){function i(ne,K){if(a){var ae=ne.deletions;ae===null?(ne.deletions=[K],ne.flags|=16):ae.push(K)}}function u(ne,K){if(!a)return null;for(;K!==null;)i(ne,K),K=K.sibling;return null}function m(ne,K){for(ne=new Map;K!==null;)K.key!==null?ne.set(K.key,K):ne.set(K.index,K),K=K.sibling;return ne}function x(ne,K){return ne=Ca(ne,K),ne.index=0,ne.sibling=null,ne}function w(ne,K,ae){return ne.index=ae,a?(ae=ne.alternate,ae!==null?(ae=ae.index,ae<K?(ne.flags|=2,K):ae):(ne.flags|=2,K)):(ne.flags|=1048576,K)}function T(ne){return a&&ne.alternate===null&&(ne.flags|=2),ne}function L(ne,K,ae,ke){return K===null||K.tag!==6?(K=xm(ae,ne.mode,ke),K.return=ne,K):(K=x(K,ae),K.return=ne,K)}function W(ne,K,ae,ke){var Qe=ae.type;return Qe===P?we(ne,K,ae.props.children,ke,ae.key):K!==null&&(K.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===V&&Nx(Qe)===K.type)?(ke=x(K,ae.props),ke.ref=Nl(ne,K,ae),ke.return=ne,ke):(ke=Hu(ae.type,ae.key,ae.props,null,ne.mode,ke),ke.ref=Nl(ne,K,ae),ke.return=ne,ke)}function ie(ne,K,ae,ke){return K===null||K.tag!==4||K.stateNode.containerInfo!==ae.containerInfo||K.stateNode.implementation!==ae.implementation?(K=ym(ae,ne.mode,ke),K.return=ne,K):(K=x(K,ae.children||[]),K.return=ne,K)}function we(ne,K,ae,ke,Qe){return K===null||K.tag!==7?(K=fo(ae,ne.mode,ke,Qe),K.return=ne,K):(K=x(K,ae),K.return=ne,K)}function be(ne,K,ae){if(typeof K=="string"&&K!==""||typeof K=="number")return K=xm(""+K,ne.mode,ae),K.return=ne,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case O:return ae=Hu(K.type,K.key,K.props,null,ne.mode,ae),ae.ref=Nl(ne,null,K),ae.return=ne,ae;case R:return K=ym(K,ne.mode,ae),K.return=ne,K;case V:var ke=K._init;return be(ne,ke(K._payload),ae)}if(Y(K)||H(K))return K=fo(K,ne.mode,ae,null),K.return=ne,K;bu(ne,K)}return null}function ye(ne,K,ae,ke){var Qe=K!==null?K.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return Qe!==null?null:L(ne,K,""+ae,ke);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case O:return ae.key===Qe?W(ne,K,ae,ke):null;case R:return ae.key===Qe?ie(ne,K,ae,ke):null;case V:return Qe=ae._init,ye(ne,K,Qe(ae._payload),ke)}if(Y(ae)||H(ae))return Qe!==null?null:we(ne,K,ae,ke,null);bu(ne,ae)}return null}function Le(ne,K,ae,ke,Qe){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return ne=ne.get(ae)||null,L(K,ne,""+ke,Qe);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case O:return ne=ne.get(ke.key===null?ae:ke.key)||null,W(K,ne,ke,Qe);case R:return ne=ne.get(ke.key===null?ae:ke.key)||null,ie(K,ne,ke,Qe);case V:var ct=ke._init;return Le(ne,K,ae,ct(ke._payload),Qe)}if(Y(ke)||H(ke))return ne=ne.get(ae)||null,we(K,ne,ke,Qe,null);bu(K,ke)}return null}function Be(ne,K,ae,ke){for(var Qe=null,ct=null,ut=K,gt=K=0,Wr=null;ut!==null&&gt<ae.length;gt++){ut.index>gt?(Wr=ut,ut=null):Wr=ut.sibling;var Ft=ye(ne,ut,ae[gt],ke);if(Ft===null){ut===null&&(ut=Wr);break}a&&ut&&Ft.alternate===null&&i(ne,ut),K=w(Ft,K,gt),ct===null?Qe=Ft:ct.sibling=Ft,ct=Ft,ut=Wr}if(gt===ae.length)return u(ne,ut),ir&&so(ne,gt),Qe;if(ut===null){for(;gt<ae.length;gt++)ut=be(ne,ae[gt],ke),ut!==null&&(K=w(ut,K,gt),ct===null?Qe=ut:ct.sibling=ut,ct=ut);return ir&&so(ne,gt),Qe}for(ut=m(ne,ut);gt<ae.length;gt++)Wr=Le(ut,ne,gt,ae[gt],ke),Wr!==null&&(a&&Wr.alternate!==null&&ut.delete(Wr.key===null?gt:Wr.key),K=w(Wr,K,gt),ct===null?Qe=Wr:ct.sibling=Wr,ct=Wr);return a&&ut.forEach(function(Ta){return i(ne,Ta)}),ir&&so(ne,gt),Qe}function Ge(ne,K,ae,ke){var Qe=H(ae);if(typeof Qe!="function")throw Error(r(150));if(ae=Qe.call(ae),ae==null)throw Error(r(151));for(var ct=Qe=null,ut=K,gt=K=0,Wr=null,Ft=ae.next();ut!==null&&!Ft.done;gt++,Ft=ae.next()){ut.index>gt?(Wr=ut,ut=null):Wr=ut.sibling;var Ta=ye(ne,ut,Ft.value,ke);if(Ta===null){ut===null&&(ut=Wr);break}a&&ut&&Ta.alternate===null&&i(ne,ut),K=w(Ta,K,gt),ct===null?Qe=Ta:ct.sibling=Ta,ct=Ta,ut=Wr}if(Ft.done)return u(ne,ut),ir&&so(ne,gt),Qe;if(ut===null){for(;!Ft.done;gt++,Ft=ae.next())Ft=be(ne,Ft.value,ke),Ft!==null&&(K=w(Ft,K,gt),ct===null?Qe=Ft:ct.sibling=Ft,ct=Ft);return ir&&so(ne,gt),Qe}for(ut=m(ne,ut);!Ft.done;gt++,Ft=ae.next())Ft=Le(ut,ne,gt,Ft.value,ke),Ft!==null&&(a&&Ft.alternate!==null&&ut.delete(Ft.key===null?gt:Ft.key),K=w(Ft,K,gt),ct===null?Qe=Ft:ct.sibling=Ft,ct=Ft);return a&&ut.forEach(function(CC){return i(ne,CC)}),ir&&so(ne,gt),Qe}function jr(ne,K,ae,ke){if(typeof ae=="object"&&ae!==null&&ae.type===P&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case O:e:{for(var Qe=ae.key,ct=K;ct!==null;){if(ct.key===Qe){if(Qe=ae.type,Qe===P){if(ct.tag===7){u(ne,ct.sibling),K=x(ct,ae.props.children),K.return=ne,ne=K;break e}}else if(ct.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===V&&Nx(Qe)===ct.type){u(ne,ct.sibling),K=x(ct,ae.props),K.ref=Nl(ne,ct,ae),K.return=ne,ne=K;break e}u(ne,ct);break}else i(ne,ct);ct=ct.sibling}ae.type===P?(K=fo(ae.props.children,ne.mode,ke,ae.key),K.return=ne,ne=K):(ke=Hu(ae.type,ae.key,ae.props,null,ne.mode,ke),ke.ref=Nl(ne,K,ae),ke.return=ne,ne=ke)}return T(ne);case R:e:{for(ct=ae.key;K!==null;){if(K.key===ct)if(K.tag===4&&K.stateNode.containerInfo===ae.containerInfo&&K.stateNode.implementation===ae.implementation){u(ne,K.sibling),K=x(K,ae.children||[]),K.return=ne,ne=K;break e}else{u(ne,K);break}else i(ne,K);K=K.sibling}K=ym(ae,ne.mode,ke),K.return=ne,ne=K}return T(ne);case V:return ct=ae._init,jr(ne,K,ct(ae._payload),ke)}if(Y(ae))return Be(ne,K,ae,ke);if(H(ae))return Ge(ne,K,ae,ke);bu(ne,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,K!==null&&K.tag===6?(u(ne,K.sibling),K=x(K,ae),K.return=ne,ne=K):(u(ne,K),K=xm(ae,ne.mode,ke),K.return=ne,ne=K),T(ne)):u(ne,K)}return jr}var Jo=Sx(!0),Ex=Sx(!1),ju=xa(null),Nu=null,Zo=null,Cf=null;function Tf(){Cf=Zo=Nu=null}function Rf(a){var i=ju.current;ar(ju),a._currentValue=i}function Af(a,i,u){for(;a!==null;){var m=a.alternate;if((a.childLanes&i)!==i?(a.childLanes|=i,m!==null&&(m.childLanes|=i)):m!==null&&(m.childLanes&i)!==i&&(m.childLanes|=i),a===u)break;a=a.return}}function Xo(a,i){Nu=a,Cf=Zo=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&i)!==0&&(_n=!0),a.firstContext=null)}function qn(a){var i=a._currentValue;if(Cf!==a)if(a={context:a,memoizedValue:i,next:null},Zo===null){if(Nu===null)throw Error(r(308));Zo=a,Nu.dependencies={lanes:0,firstContext:a}}else Zo=Zo.next=a;return i}var ao=null;function Pf(a){ao===null?ao=[a]:ao.push(a)}function kx(a,i,u,m){var x=i.interleaved;return x===null?(u.next=u,Pf(i)):(u.next=x.next,x.next=u),i.interleaved=u,Gs(a,m)}function Gs(a,i){a.lanes|=i;var u=a.alternate;for(u!==null&&(u.lanes|=i),u=a,a=a.return;a!==null;)a.childLanes|=i,u=a.alternate,u!==null&&(u.childLanes|=i),u=a,a=a.return;return u.tag===3?u.stateNode:null}var _a=!1;function Of(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cx(a,i){a=a.updateQueue,i.updateQueue===a&&(i.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Ks(a,i){return{eventTime:a,lane:i,tag:0,payload:null,callback:null,next:null}}function ba(a,i,u){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(Lt&2)!==0){var x=m.pending;return x===null?i.next=i:(i.next=x.next,x.next=i),m.pending=i,Gs(a,u)}return x=m.interleaved,x===null?(i.next=i,Pf(m)):(i.next=x.next,x.next=i),m.interleaved=i,Gs(a,u)}function Su(a,i,u){if(i=i.updateQueue,i!==null&&(i=i.shared,(u&4194240)!==0)){var m=i.lanes;m&=a.pendingLanes,u|=m,i.lanes=u,Hh(a,u)}}function Tx(a,i){var u=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var x=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var T={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?x=w=T:w=w.next=T,u=u.next}while(u!==null);w===null?x=w=i:w=w.next=i}else x=w=i;u={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:w,shared:m.shared,effects:m.effects},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=i:a.next=i,u.lastBaseUpdate=i}function Eu(a,i,u,m){var x=a.updateQueue;_a=!1;var w=x.firstBaseUpdate,T=x.lastBaseUpdate,L=x.shared.pending;if(L!==null){x.shared.pending=null;var W=L,ie=W.next;W.next=null,T===null?w=ie:T.next=ie,T=W;var we=a.alternate;we!==null&&(we=we.updateQueue,L=we.lastBaseUpdate,L!==T&&(L===null?we.firstBaseUpdate=ie:L.next=ie,we.lastBaseUpdate=W))}if(w!==null){var be=x.baseState;T=0,we=ie=W=null,L=w;do{var ye=L.lane,Le=L.eventTime;if((m&ye)===ye){we!==null&&(we=we.next={eventTime:Le,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var Be=a,Ge=L;switch(ye=i,Le=u,Ge.tag){case 1:if(Be=Ge.payload,typeof Be=="function"){be=Be.call(Le,be,ye);break e}be=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Ge.payload,ye=typeof Be=="function"?Be.call(Le,be,ye):Be,ye==null)break e;be=te({},be,ye);break e;case 2:_a=!0}}L.callback!==null&&L.lane!==0&&(a.flags|=64,ye=x.effects,ye===null?x.effects=[L]:ye.push(L))}else Le={eventTime:Le,lane:ye,tag:L.tag,payload:L.payload,callback:L.callback,next:null},we===null?(ie=we=Le,W=be):we=we.next=Le,T|=ye;if(L=L.next,L===null){if(L=x.shared.pending,L===null)break;ye=L,L=ye.next,ye.next=null,x.lastBaseUpdate=ye,x.shared.pending=null}}while(!0);if(we===null&&(W=be),x.baseState=W,x.firstBaseUpdate=ie,x.lastBaseUpdate=we,i=x.shared.interleaved,i!==null){x=i;do T|=x.lane,x=x.next;while(x!==i)}else w===null&&(x.shared.lanes=0);lo|=T,a.lanes=T,a.memoizedState=be}}function Rx(a,i,u){if(a=i.effects,i.effects=null,a!==null)for(i=0;i<a.length;i++){var m=a[i],x=m.callback;if(x!==null){if(m.callback=null,m=u,typeof x!="function")throw Error(r(191,x));x.call(m)}}}var Sl={},Es=xa(Sl),El=xa(Sl),kl=xa(Sl);function oo(a){if(a===Sl)throw Error(r(174));return a}function Df(a,i){switch(rr(kl,i),rr(El,a),rr(Es,Sl),a=i.nodeType,a){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:zt(null,"");break;default:a=a===8?i.parentNode:i,i=a.namespaceURI||null,a=a.tagName,i=zt(i,a)}ar(Es),rr(Es,i)}function ei(){ar(Es),ar(El),ar(kl)}function Ax(a){oo(kl.current);var i=oo(Es.current),u=zt(i,a.type);i!==u&&(rr(El,a),rr(Es,u))}function If(a){El.current===a&&(ar(Es),ar(El))}var hr=xa(0);function ku(a){for(var i=a;i!==null;){if(i.tag===13){var u=i.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Mf=[];function Lf(){for(var a=0;a<Mf.length;a++)Mf[a]._workInProgressVersionPrimary=null;Mf.length=0}var Cu=N.ReactCurrentDispatcher,$f=N.ReactCurrentBatchConfig,io=0,fr=null,Dr=null,Br=null,Tu=!1,Cl=!1,Tl=0,Qk=0;function en(){throw Error(r(321))}function Ff(a,i){if(i===null)return!1;for(var u=0;u<i.length&&u<a.length;u++)if(!os(a[u],i[u]))return!1;return!0}function Uf(a,i,u,m,x,w){if(io=w,fr=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Cu.current=a===null||a.memoizedState===null?eC:tC,a=u(m,x),Cl){w=0;do{if(Cl=!1,Tl=0,25<=w)throw Error(r(301));w+=1,Br=Dr=null,i.updateQueue=null,Cu.current=rC,a=u(m,x)}while(Cl)}if(Cu.current=Pu,i=Dr!==null&&Dr.next!==null,io=0,Br=Dr=fr=null,Tu=!1,i)throw Error(r(300));return a}function Bf(){var a=Tl!==0;return Tl=0,a}function ks(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Br===null?fr.memoizedState=Br=a:Br=Br.next=a,Br}function Hn(){if(Dr===null){var a=fr.alternate;a=a!==null?a.memoizedState:null}else a=Dr.next;var i=Br===null?fr.memoizedState:Br.next;if(i!==null)Br=i,Dr=a;else{if(a===null)throw Error(r(310));Dr=a,a={memoizedState:Dr.memoizedState,baseState:Dr.baseState,baseQueue:Dr.baseQueue,queue:Dr.queue,next:null},Br===null?fr.memoizedState=Br=a:Br=Br.next=a}return Br}function Rl(a,i){return typeof i=="function"?i(a):i}function zf(a){var i=Hn(),u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var m=Dr,x=m.baseQueue,w=u.pending;if(w!==null){if(x!==null){var T=x.next;x.next=w.next,w.next=T}m.baseQueue=x=w,u.pending=null}if(x!==null){w=x.next,m=m.baseState;var L=T=null,W=null,ie=w;do{var we=ie.lane;if((io&we)===we)W!==null&&(W=W.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),m=ie.hasEagerState?ie.eagerState:a(m,ie.action);else{var be={lane:we,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};W===null?(L=W=be,T=m):W=W.next=be,fr.lanes|=we,lo|=we}ie=ie.next}while(ie!==null&&ie!==w);W===null?T=m:W.next=L,os(m,i.memoizedState)||(_n=!0),i.memoizedState=m,i.baseState=T,i.baseQueue=W,u.lastRenderedState=m}if(a=u.interleaved,a!==null){x=a;do w=x.lane,fr.lanes|=w,lo|=w,x=x.next;while(x!==a)}else x===null&&(u.lanes=0);return[i.memoizedState,u.dispatch]}function Wf(a){var i=Hn(),u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var m=u.dispatch,x=u.pending,w=i.memoizedState;if(x!==null){u.pending=null;var T=x=x.next;do w=a(w,T.action),T=T.next;while(T!==x);os(w,i.memoizedState)||(_n=!0),i.memoizedState=w,i.baseQueue===null&&(i.baseState=w),u.lastRenderedState=w}return[w,m]}function Px(){}function Ox(a,i){var u=fr,m=Hn(),x=i(),w=!os(m.memoizedState,x);if(w&&(m.memoizedState=x,_n=!0),m=m.queue,Vf(Mx.bind(null,u,m,a),[a]),m.getSnapshot!==i||w||Br!==null&&Br.memoizedState.tag&1){if(u.flags|=2048,Al(9,Ix.bind(null,u,m,x,i),void 0,null),zr===null)throw Error(r(349));(io&30)!==0||Dx(u,i,x)}return x}function Dx(a,i,u){a.flags|=16384,a={getSnapshot:i,value:u},i=fr.updateQueue,i===null?(i={lastEffect:null,stores:null},fr.updateQueue=i,i.stores=[a]):(u=i.stores,u===null?i.stores=[a]:u.push(a))}function Ix(a,i,u,m){i.value=u,i.getSnapshot=m,Lx(i)&&$x(a)}function Mx(a,i,u){return u(function(){Lx(i)&&$x(a)})}function Lx(a){var i=a.getSnapshot;a=a.value;try{var u=i();return!os(a,u)}catch{return!0}}function $x(a){var i=Gs(a,1);i!==null&&ds(i,a,1,-1)}function Fx(a){var i=ks();return typeof a=="function"&&(a=a()),i.memoizedState=i.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rl,lastRenderedState:a},i.queue=a,a=a.dispatch=Xk.bind(null,fr,a),[i.memoizedState,a]}function Al(a,i,u,m){return a={tag:a,create:i,destroy:u,deps:m,next:null},i=fr.updateQueue,i===null?(i={lastEffect:null,stores:null},fr.updateQueue=i,i.lastEffect=a.next=a):(u=i.lastEffect,u===null?i.lastEffect=a.next=a:(m=u.next,u.next=a,a.next=m,i.lastEffect=a)),a}function Ux(){return Hn().memoizedState}function Ru(a,i,u,m){var x=ks();fr.flags|=a,x.memoizedState=Al(1|i,u,void 0,m===void 0?null:m)}function Au(a,i,u,m){var x=Hn();m=m===void 0?null:m;var w=void 0;if(Dr!==null){var T=Dr.memoizedState;if(w=T.destroy,m!==null&&Ff(m,T.deps)){x.memoizedState=Al(i,u,w,m);return}}fr.flags|=a,x.memoizedState=Al(1|i,u,w,m)}function Bx(a,i){return Ru(8390656,8,a,i)}function Vf(a,i){return Au(2048,8,a,i)}function zx(a,i){return Au(4,2,a,i)}function Wx(a,i){return Au(4,4,a,i)}function Vx(a,i){if(typeof i=="function")return a=a(),i(a),function(){i(null)};if(i!=null)return a=a(),i.current=a,function(){i.current=null}}function qx(a,i,u){return u=u!=null?u.concat([a]):null,Au(4,4,Vx.bind(null,i,a),u)}function qf(){}function Hx(a,i){var u=Hn();i=i===void 0?null:i;var m=u.memoizedState;return m!==null&&i!==null&&Ff(i,m[1])?m[0]:(u.memoizedState=[a,i],a)}function Gx(a,i){var u=Hn();i=i===void 0?null:i;var m=u.memoizedState;return m!==null&&i!==null&&Ff(i,m[1])?m[0]:(a=a(),u.memoizedState=[a,i],a)}function Kx(a,i,u){return(io&21)===0?(a.baseState&&(a.baseState=!1,_n=!0),a.memoizedState=u):(os(u,i)||(u=Nv(),fr.lanes|=u,lo|=u,a.baseState=!0),i)}function Jk(a,i){var u=Ht;Ht=u!==0&&4>u?u:4,a(!0);var m=$f.transition;$f.transition={};try{a(!1),i()}finally{Ht=u,$f.transition=m}}function Yx(){return Hn().memoizedState}function Zk(a,i,u){var m=Ea(a);if(u={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null},Qx(a))Jx(i,u);else if(u=kx(a,i,u,m),u!==null){var x=an();ds(u,a,m,x),Zx(u,i,m)}}function Xk(a,i,u){var m=Ea(a),x={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null};if(Qx(a))Jx(i,x);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=i.lastRenderedReducer,w!==null))try{var T=i.lastRenderedState,L=w(T,u);if(x.hasEagerState=!0,x.eagerState=L,os(L,T)){var W=i.interleaved;W===null?(x.next=x,Pf(i)):(x.next=W.next,W.next=x),i.interleaved=x;return}}catch{}u=kx(a,i,x,m),u!==null&&(x=an(),ds(u,a,m,x),Zx(u,i,m))}}function Qx(a){var i=a.alternate;return a===fr||i!==null&&i===fr}function Jx(a,i){Cl=Tu=!0;var u=a.pending;u===null?i.next=i:(i.next=u.next,u.next=i),a.pending=i}function Zx(a,i,u){if((u&4194240)!==0){var m=i.lanes;m&=a.pendingLanes,u|=m,i.lanes=u,Hh(a,u)}}var Pu={readContext:qn,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},eC={readContext:qn,useCallback:function(a,i){return ks().memoizedState=[a,i===void 0?null:i],a},useContext:qn,useEffect:Bx,useImperativeHandle:function(a,i,u){return u=u!=null?u.concat([a]):null,Ru(4194308,4,Vx.bind(null,i,a),u)},useLayoutEffect:function(a,i){return Ru(4194308,4,a,i)},useInsertionEffect:function(a,i){return Ru(4,2,a,i)},useMemo:function(a,i){var u=ks();return i=i===void 0?null:i,a=a(),u.memoizedState=[a,i],a},useReducer:function(a,i,u){var m=ks();return i=u!==void 0?u(i):i,m.memoizedState=m.baseState=i,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:i},m.queue=a,a=a.dispatch=Zk.bind(null,fr,a),[m.memoizedState,a]},useRef:function(a){var i=ks();return a={current:a},i.memoizedState=a},useState:Fx,useDebugValue:qf,useDeferredValue:function(a){return ks().memoizedState=a},useTransition:function(){var a=Fx(!1),i=a[0];return a=Jk.bind(null,a[1]),ks().memoizedState=a,[i,a]},useMutableSource:function(){},useSyncExternalStore:function(a,i,u){var m=fr,x=ks();if(ir){if(u===void 0)throw Error(r(407));u=u()}else{if(u=i(),zr===null)throw Error(r(349));(io&30)!==0||Dx(m,i,u)}x.memoizedState=u;var w={value:u,getSnapshot:i};return x.queue=w,Bx(Mx.bind(null,m,w,a),[a]),m.flags|=2048,Al(9,Ix.bind(null,m,w,u,i),void 0,null),u},useId:function(){var a=ks(),i=zr.identifierPrefix;if(ir){var u=Hs,m=qs;u=(m&~(1<<32-as(m)-1)).toString(32)+u,i=":"+i+"R"+u,u=Tl++,0<u&&(i+="H"+u.toString(32)),i+=":"}else u=Qk++,i=":"+i+"r"+u.toString(32)+":";return a.memoizedState=i},unstable_isNewReconciler:!1},tC={readContext:qn,useCallback:Hx,useContext:qn,useEffect:Vf,useImperativeHandle:qx,useInsertionEffect:zx,useLayoutEffect:Wx,useMemo:Gx,useReducer:zf,useRef:Ux,useState:function(){return zf(Rl)},useDebugValue:qf,useDeferredValue:function(a){var i=Hn();return Kx(i,Dr.memoizedState,a)},useTransition:function(){var a=zf(Rl)[0],i=Hn().memoizedState;return[a,i]},useMutableSource:Px,useSyncExternalStore:Ox,useId:Yx,unstable_isNewReconciler:!1},rC={readContext:qn,useCallback:Hx,useContext:qn,useEffect:Vf,useImperativeHandle:qx,useInsertionEffect:zx,useLayoutEffect:Wx,useMemo:Gx,useReducer:Wf,useRef:Ux,useState:function(){return Wf(Rl)},useDebugValue:qf,useDeferredValue:function(a){var i=Hn();return Dr===null?i.memoizedState=a:Kx(i,Dr.memoizedState,a)},useTransition:function(){var a=Wf(Rl)[0],i=Hn().memoizedState;return[a,i]},useMutableSource:Px,useSyncExternalStore:Ox,useId:Yx,unstable_isNewReconciler:!1};function ls(a,i){if(a&&a.defaultProps){i=te({},i),a=a.defaultProps;for(var u in a)i[u]===void 0&&(i[u]=a[u]);return i}return i}function Hf(a,i,u,m){i=a.memoizedState,u=u(m,i),u=u==null?i:te({},i,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Ou={isMounted:function(a){return(a=a._reactInternals)?Ns(a)===a:!1},enqueueSetState:function(a,i,u){a=a._reactInternals;var m=an(),x=Ea(a),w=Ks(m,x);w.payload=i,u!=null&&(w.callback=u),i=ba(a,w,x),i!==null&&(ds(i,a,x,m),Su(i,a,x))},enqueueReplaceState:function(a,i,u){a=a._reactInternals;var m=an(),x=Ea(a),w=Ks(m,x);w.tag=1,w.payload=i,u!=null&&(w.callback=u),i=ba(a,w,x),i!==null&&(ds(i,a,x,m),Su(i,a,x))},enqueueForceUpdate:function(a,i){a=a._reactInternals;var u=an(),m=Ea(a),x=Ks(u,m);x.tag=2,i!=null&&(x.callback=i),i=ba(a,x,m),i!==null&&(ds(i,a,m,u),Su(i,a,m))}};function Xx(a,i,u,m,x,w,T){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,w,T):i.prototype&&i.prototype.isPureReactComponent?!vl(u,m)||!vl(x,w):!0}function ey(a,i,u){var m=!1,x=ya,w=i.contextType;return typeof w=="object"&&w!==null?w=qn(w):(x=wn(i)?ro:Xr.current,m=i.contextTypes,w=(m=m!=null)?Go(a,x):ya),i=new i(u,w),a.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ou,a.stateNode=i,i._reactInternals=a,m&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=x,a.__reactInternalMemoizedMaskedChildContext=w),i}function ty(a,i,u,m){a=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(u,m),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(u,m),i.state!==a&&Ou.enqueueReplaceState(i,i.state,null)}function Gf(a,i,u,m){var x=a.stateNode;x.props=u,x.state=a.memoizedState,x.refs={},Of(a);var w=i.contextType;typeof w=="object"&&w!==null?x.context=qn(w):(w=wn(i)?ro:Xr.current,x.context=Go(a,w)),x.state=a.memoizedState,w=i.getDerivedStateFromProps,typeof w=="function"&&(Hf(a,i,w,u),x.state=a.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(i=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),i!==x.state&&Ou.enqueueReplaceState(x,x.state,null),Eu(a,u,x,m),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308)}function ti(a,i){try{var u="",m=i;do u+=G(m),m=m.return;while(m);var x=u}catch(w){x=`
Error generating stack: `+w.message+`
`+w.stack}return{value:a,source:i,stack:x,digest:null}}function Kf(a,i,u){return{value:a,source:null,stack:u??null,digest:i??null}}function Yf(a,i){try{console.error(i.value)}catch(u){setTimeout(function(){throw u})}}var nC=typeof WeakMap=="function"?WeakMap:Map;function ry(a,i,u){u=Ks(-1,u),u.tag=3,u.payload={element:null};var m=i.value;return u.callback=function(){Uu||(Uu=!0,um=m),Yf(a,i)},u}function ny(a,i,u){u=Ks(-1,u),u.tag=3;var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var x=i.value;u.payload=function(){return m(x)},u.callback=function(){Yf(a,i)}}var w=a.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){Yf(a,i),typeof m!="function"&&(Na===null?Na=new Set([this]):Na.add(this));var T=i.stack;this.componentDidCatch(i.value,{componentStack:T!==null?T:""})}),u}function sy(a,i,u){var m=a.pingCache;if(m===null){m=a.pingCache=new nC;var x=new Set;m.set(i,x)}else x=m.get(i),x===void 0&&(x=new Set,m.set(i,x));x.has(u)||(x.add(u),a=vC.bind(null,a,i,u),i.then(a,a))}function ay(a){do{var i;if((i=a.tag===13)&&(i=a.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return a;a=a.return}while(a!==null);return null}function oy(a,i,u,m,x){return(a.mode&1)===0?(a===i?a.flags|=65536:(a.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(i=Ks(-1,1),i.tag=2,ba(u,i,1))),u.lanes|=1),a):(a.flags|=65536,a.lanes=x,a)}var sC=N.ReactCurrentOwner,_n=!1;function sn(a,i,u,m){i.child=a===null?Ex(i,null,u,m):Jo(i,a.child,u,m)}function iy(a,i,u,m,x){u=u.render;var w=i.ref;return Xo(i,x),m=Uf(a,i,u,m,w,x),u=Bf(),a!==null&&!_n?(i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~x,Ys(a,i,x)):(ir&&u&&jf(i),i.flags|=1,sn(a,i,m,x),i.child)}function ly(a,i,u,m,x){if(a===null){var w=u.type;return typeof w=="function"&&!vm(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(i.tag=15,i.type=w,cy(a,i,w,m,x)):(a=Hu(u.type,null,m,i,i.mode,x),a.ref=i.ref,a.return=i,i.child=a)}if(w=a.child,(a.lanes&x)===0){var T=w.memoizedProps;if(u=u.compare,u=u!==null?u:vl,u(T,m)&&a.ref===i.ref)return Ys(a,i,x)}return i.flags|=1,a=Ca(w,m),a.ref=i.ref,a.return=i,i.child=a}function cy(a,i,u,m,x){if(a!==null){var w=a.memoizedProps;if(vl(w,m)&&a.ref===i.ref)if(_n=!1,i.pendingProps=m=w,(a.lanes&x)!==0)(a.flags&131072)!==0&&(_n=!0);else return i.lanes=a.lanes,Ys(a,i,x)}return Qf(a,i,u,m,x)}function uy(a,i,u){var m=i.pendingProps,x=m.children,w=a!==null?a.memoizedState:null;if(m.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},rr(ni,In),In|=u;else{if((u&1073741824)===0)return a=w!==null?w.baseLanes|u:u,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:a,cachePool:null,transitions:null},i.updateQueue=null,rr(ni,In),In|=a,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=w!==null?w.baseLanes:u,rr(ni,In),In|=m}else w!==null?(m=w.baseLanes|u,i.memoizedState=null):m=u,rr(ni,In),In|=m;return sn(a,i,x,u),i.child}function dy(a,i){var u=i.ref;(a===null&&u!==null||a!==null&&a.ref!==u)&&(i.flags|=512,i.flags|=2097152)}function Qf(a,i,u,m,x){var w=wn(u)?ro:Xr.current;return w=Go(i,w),Xo(i,x),u=Uf(a,i,u,m,w,x),m=Bf(),a!==null&&!_n?(i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~x,Ys(a,i,x)):(ir&&m&&jf(i),i.flags|=1,sn(a,i,u,x),i.child)}function hy(a,i,u,m,x){if(wn(u)){var w=!0;vu(i)}else w=!1;if(Xo(i,x),i.stateNode===null)Iu(a,i),ey(i,u,m),Gf(i,u,m,x),m=!0;else if(a===null){var T=i.stateNode,L=i.memoizedProps;T.props=L;var W=T.context,ie=u.contextType;typeof ie=="object"&&ie!==null?ie=qn(ie):(ie=wn(u)?ro:Xr.current,ie=Go(i,ie));var we=u.getDerivedStateFromProps,be=typeof we=="function"||typeof T.getSnapshotBeforeUpdate=="function";be||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(L!==m||W!==ie)&&ty(i,T,m,ie),_a=!1;var ye=i.memoizedState;T.state=ye,Eu(i,m,T,x),W=i.memoizedState,L!==m||ye!==W||yn.current||_a?(typeof we=="function"&&(Hf(i,u,we,m),W=i.memoizedState),(L=_a||Xx(i,u,L,m,ye,W,ie))?(be||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(i.flags|=4194308)):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=m,i.memoizedState=W),T.props=m,T.state=W,T.context=ie,m=L):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),m=!1)}else{T=i.stateNode,Cx(a,i),L=i.memoizedProps,ie=i.type===i.elementType?L:ls(i.type,L),T.props=ie,be=i.pendingProps,ye=T.context,W=u.contextType,typeof W=="object"&&W!==null?W=qn(W):(W=wn(u)?ro:Xr.current,W=Go(i,W));var Le=u.getDerivedStateFromProps;(we=typeof Le=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(L!==be||ye!==W)&&ty(i,T,m,W),_a=!1,ye=i.memoizedState,T.state=ye,Eu(i,m,T,x);var Be=i.memoizedState;L!==be||ye!==Be||yn.current||_a?(typeof Le=="function"&&(Hf(i,u,Le,m),Be=i.memoizedState),(ie=_a||Xx(i,u,ie,m,ye,Be,W)||!1)?(we||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(m,Be,W),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(m,Be,W)),typeof T.componentDidUpdate=="function"&&(i.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof T.componentDidUpdate!="function"||L===a.memoizedProps&&ye===a.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||L===a.memoizedProps&&ye===a.memoizedState||(i.flags|=1024),i.memoizedProps=m,i.memoizedState=Be),T.props=m,T.state=Be,T.context=W,m=ie):(typeof T.componentDidUpdate!="function"||L===a.memoizedProps&&ye===a.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||L===a.memoizedProps&&ye===a.memoizedState||(i.flags|=1024),m=!1)}return Jf(a,i,u,m,w,x)}function Jf(a,i,u,m,x,w){dy(a,i);var T=(i.flags&128)!==0;if(!m&&!T)return x&&vx(i,u,!1),Ys(a,i,w);m=i.stateNode,sC.current=i;var L=T&&typeof u.getDerivedStateFromError!="function"?null:m.render();return i.flags|=1,a!==null&&T?(i.child=Jo(i,a.child,null,w),i.child=Jo(i,null,L,w)):sn(a,i,L,w),i.memoizedState=m.state,x&&vx(i,u,!0),i.child}function fy(a){var i=a.stateNode;i.pendingContext?px(a,i.pendingContext,i.pendingContext!==i.context):i.context&&px(a,i.context,!1),Df(a,i.containerInfo)}function my(a,i,u,m,x){return Qo(),kf(x),i.flags|=256,sn(a,i,u,m),i.child}var Zf={dehydrated:null,treeContext:null,retryLane:0};function Xf(a){return{baseLanes:a,cachePool:null,transitions:null}}function py(a,i,u){var m=i.pendingProps,x=hr.current,w=!1,T=(i.flags&128)!==0,L;if((L=T)||(L=a!==null&&a.memoizedState===null?!1:(x&2)!==0),L?(w=!0,i.flags&=-129):(a===null||a.memoizedState!==null)&&(x|=1),rr(hr,x&1),a===null)return Ef(i),a=i.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((i.mode&1)===0?i.lanes=1:a.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(T=m.children,a=m.fallback,w?(m=i.mode,w=i.child,T={mode:"hidden",children:T},(m&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=T):w=Gu(T,m,0,null),a=fo(a,m,u,null),w.return=i,a.return=i,w.sibling=a,i.child=w,i.child.memoizedState=Xf(u),i.memoizedState=Zf,a):em(i,T));if(x=a.memoizedState,x!==null&&(L=x.dehydrated,L!==null))return aC(a,i,T,m,L,x,u);if(w){w=m.fallback,T=i.mode,x=a.child,L=x.sibling;var W={mode:"hidden",children:m.children};return(T&1)===0&&i.child!==x?(m=i.child,m.childLanes=0,m.pendingProps=W,i.deletions=null):(m=Ca(x,W),m.subtreeFlags=x.subtreeFlags&14680064),L!==null?w=Ca(L,w):(w=fo(w,T,u,null),w.flags|=2),w.return=i,m.return=i,m.sibling=w,i.child=m,m=w,w=i.child,T=a.child.memoizedState,T=T===null?Xf(u):{baseLanes:T.baseLanes|u,cachePool:null,transitions:T.transitions},w.memoizedState=T,w.childLanes=a.childLanes&~u,i.memoizedState=Zf,m}return w=a.child,a=w.sibling,m=Ca(w,{mode:"visible",children:m.children}),(i.mode&1)===0&&(m.lanes=u),m.return=i,m.sibling=null,a!==null&&(u=i.deletions,u===null?(i.deletions=[a],i.flags|=16):u.push(a)),i.child=m,i.memoizedState=null,m}function em(a,i){return i=Gu({mode:"visible",children:i},a.mode,0,null),i.return=a,a.child=i}function Du(a,i,u,m){return m!==null&&kf(m),Jo(i,a.child,null,u),a=em(i,i.pendingProps.children),a.flags|=2,i.memoizedState=null,a}function aC(a,i,u,m,x,w,T){if(u)return i.flags&256?(i.flags&=-257,m=Kf(Error(r(422))),Du(a,i,T,m)):i.memoizedState!==null?(i.child=a.child,i.flags|=128,null):(w=m.fallback,x=i.mode,m=Gu({mode:"visible",children:m.children},x,0,null),w=fo(w,x,T,null),w.flags|=2,m.return=i,w.return=i,m.sibling=w,i.child=m,(i.mode&1)!==0&&Jo(i,a.child,null,T),i.child.memoizedState=Xf(T),i.memoizedState=Zf,w);if((i.mode&1)===0)return Du(a,i,T,null);if(x.data==="$!"){if(m=x.nextSibling&&x.nextSibling.dataset,m)var L=m.dgst;return m=L,w=Error(r(419)),m=Kf(w,m,void 0),Du(a,i,T,m)}if(L=(T&a.childLanes)!==0,_n||L){if(m=zr,m!==null){switch(T&-T){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(m.suspendedLanes|T))!==0?0:x,x!==0&&x!==w.retryLane&&(w.retryLane=x,Gs(a,x),ds(m,a,x,-1))}return gm(),m=Kf(Error(r(421))),Du(a,i,T,m)}return x.data==="$?"?(i.flags|=128,i.child=a.child,i=xC.bind(null,a),x._reactRetry=i,null):(a=w.treeContext,Dn=va(x.nextSibling),On=i,ir=!0,is=null,a!==null&&(Wn[Vn++]=qs,Wn[Vn++]=Hs,Wn[Vn++]=no,qs=a.id,Hs=a.overflow,no=i),i=em(i,m.children),i.flags|=4096,i)}function gy(a,i,u){a.lanes|=i;var m=a.alternate;m!==null&&(m.lanes|=i),Af(a.return,i,u)}function tm(a,i,u,m,x){var w=a.memoizedState;w===null?a.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:x}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=m,w.tail=u,w.tailMode=x)}function vy(a,i,u){var m=i.pendingProps,x=m.revealOrder,w=m.tail;if(sn(a,i,m.children,u),m=hr.current,(m&2)!==0)m=m&1|2,i.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=i.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&gy(a,u,i);else if(a.tag===19)gy(a,u,i);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}m&=1}if(rr(hr,m),(i.mode&1)===0)i.memoizedState=null;else switch(x){case"forwards":for(u=i.child,x=null;u!==null;)a=u.alternate,a!==null&&ku(a)===null&&(x=u),u=u.sibling;u=x,u===null?(x=i.child,i.child=null):(x=u.sibling,u.sibling=null),tm(i,!1,x,u,w);break;case"backwards":for(u=null,x=i.child,i.child=null;x!==null;){if(a=x.alternate,a!==null&&ku(a)===null){i.child=x;break}a=x.sibling,x.sibling=u,u=x,x=a}tm(i,!0,u,null,w);break;case"together":tm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Iu(a,i){(i.mode&1)===0&&a!==null&&(a.alternate=null,i.alternate=null,i.flags|=2)}function Ys(a,i,u){if(a!==null&&(i.dependencies=a.dependencies),lo|=i.lanes,(u&i.childLanes)===0)return null;if(a!==null&&i.child!==a.child)throw Error(r(153));if(i.child!==null){for(a=i.child,u=Ca(a,a.pendingProps),i.child=u,u.return=i;a.sibling!==null;)a=a.sibling,u=u.sibling=Ca(a,a.pendingProps),u.return=i;u.sibling=null}return i.child}function oC(a,i,u){switch(i.tag){case 3:fy(i),Qo();break;case 5:Ax(i);break;case 1:wn(i.type)&&vu(i);break;case 4:Df(i,i.stateNode.containerInfo);break;case 10:var m=i.type._context,x=i.memoizedProps.value;rr(ju,m._currentValue),m._currentValue=x;break;case 13:if(m=i.memoizedState,m!==null)return m.dehydrated!==null?(rr(hr,hr.current&1),i.flags|=128,null):(u&i.child.childLanes)!==0?py(a,i,u):(rr(hr,hr.current&1),a=Ys(a,i,u),a!==null?a.sibling:null);rr(hr,hr.current&1);break;case 19:if(m=(u&i.childLanes)!==0,(a.flags&128)!==0){if(m)return vy(a,i,u);i.flags|=128}if(x=i.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),rr(hr,hr.current),m)break;return null;case 22:case 23:return i.lanes=0,uy(a,i,u)}return Ys(a,i,u)}var xy,rm,yy,wy;xy=function(a,i){for(var u=i.child;u!==null;){if(u.tag===5||u.tag===6)a.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break;for(;u.sibling===null;){if(u.return===null||u.return===i)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},rm=function(){},yy=function(a,i,u,m){var x=a.memoizedProps;if(x!==m){a=i.stateNode,oo(Es.current);var w=null;switch(u){case"input":x=dt(a,x),m=dt(a,m),w=[];break;case"select":x=te({},x,{value:void 0}),m=te({},m,{value:void 0}),w=[];break;case"textarea":x=He(a,x),m=He(a,m),w=[];break;default:typeof x.onClick!="function"&&typeof m.onClick=="function"&&(a.onclick=mu)}it(u,m);var T;u=null;for(ie in x)if(!m.hasOwnProperty(ie)&&x.hasOwnProperty(ie)&&x[ie]!=null)if(ie==="style"){var L=x[ie];for(T in L)L.hasOwnProperty(T)&&(u||(u={}),u[T]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(o.hasOwnProperty(ie)?w||(w=[]):(w=w||[]).push(ie,null));for(ie in m){var W=m[ie];if(L=x?.[ie],m.hasOwnProperty(ie)&&W!==L&&(W!=null||L!=null))if(ie==="style")if(L){for(T in L)!L.hasOwnProperty(T)||W&&W.hasOwnProperty(T)||(u||(u={}),u[T]="");for(T in W)W.hasOwnProperty(T)&&L[T]!==W[T]&&(u||(u={}),u[T]=W[T])}else u||(w||(w=[]),w.push(ie,u)),u=W;else ie==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,L=L?L.__html:void 0,W!=null&&L!==W&&(w=w||[]).push(ie,W)):ie==="children"?typeof W!="string"&&typeof W!="number"||(w=w||[]).push(ie,""+W):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(o.hasOwnProperty(ie)?(W!=null&&ie==="onScroll"&&sr("scroll",a),w||L===W||(w=[])):(w=w||[]).push(ie,W))}u&&(w=w||[]).push("style",u);var ie=w;(i.updateQueue=ie)&&(i.flags|=4)}},wy=function(a,i,u,m){u!==m&&(i.flags|=4)};function Pl(a,i){if(!ir)switch(a.tailMode){case"hidden":i=a.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?i||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function tn(a){var i=a.alternate!==null&&a.alternate.child===a.child,u=0,m=0;if(i)for(var x=a.child;x!==null;)u|=x.lanes|x.childLanes,m|=x.subtreeFlags&14680064,m|=x.flags&14680064,x.return=a,x=x.sibling;else for(x=a.child;x!==null;)u|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=a,x=x.sibling;return a.subtreeFlags|=m,a.childLanes=u,i}function iC(a,i,u){var m=i.pendingProps;switch(Nf(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(i),null;case 1:return wn(i.type)&&gu(),tn(i),null;case 3:return m=i.stateNode,ei(),ar(yn),ar(Xr),Lf(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(a===null||a.child===null)&&(_u(i)?i.flags|=4:a===null||a.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,is!==null&&(fm(is),is=null))),rm(a,i),tn(i),null;case 5:If(i);var x=oo(kl.current);if(u=i.type,a!==null&&i.stateNode!=null)yy(a,i,u,m,x),a.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!m){if(i.stateNode===null)throw Error(r(166));return tn(i),null}if(a=oo(Es.current),_u(i)){m=i.stateNode,u=i.type;var w=i.memoizedProps;switch(m[Ss]=i,m[bl]=w,a=(i.mode&1)!==0,u){case"dialog":sr("cancel",m),sr("close",m);break;case"iframe":case"object":case"embed":sr("load",m);break;case"video":case"audio":for(x=0;x<yl.length;x++)sr(yl[x],m);break;case"source":sr("error",m);break;case"img":case"image":case"link":sr("error",m),sr("load",m);break;case"details":sr("toggle",m);break;case"input":pt(m,w),sr("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!w.multiple},sr("invalid",m);break;case"textarea":at(m,w),sr("invalid",m)}it(u,w),x=null;for(var T in w)if(w.hasOwnProperty(T)){var L=w[T];T==="children"?typeof L=="string"?m.textContent!==L&&(w.suppressHydrationWarning!==!0&&fu(m.textContent,L,a),x=["children",L]):typeof L=="number"&&m.textContent!==""+L&&(w.suppressHydrationWarning!==!0&&fu(m.textContent,L,a),x=["children",""+L]):o.hasOwnProperty(T)&&L!=null&&T==="onScroll"&&sr("scroll",m)}switch(u){case"input":re(m),De(m,w,!0);break;case"textarea":re(m),dr(m);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(m.onclick=mu)}m=x,i.updateQueue=m,m!==null&&(i.flags|=4)}else{T=x.nodeType===9?x:x.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=er(u)),a==="http://www.w3.org/1999/xhtml"?u==="script"?(a=T.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof m.is=="string"?a=T.createElement(u,{is:m.is}):(a=T.createElement(u),u==="select"&&(T=a,m.multiple?T.multiple=!0:m.size&&(T.size=m.size))):a=T.createElementNS(a,u),a[Ss]=i,a[bl]=m,xy(a,i,!1,!1),i.stateNode=a;e:{switch(T=Ot(u,m),u){case"dialog":sr("cancel",a),sr("close",a),x=m;break;case"iframe":case"object":case"embed":sr("load",a),x=m;break;case"video":case"audio":for(x=0;x<yl.length;x++)sr(yl[x],a);x=m;break;case"source":sr("error",a),x=m;break;case"img":case"image":case"link":sr("error",a),sr("load",a),x=m;break;case"details":sr("toggle",a),x=m;break;case"input":pt(a,m),x=dt(a,m),sr("invalid",a);break;case"option":x=m;break;case"select":a._wrapperState={wasMultiple:!!m.multiple},x=te({},m,{value:void 0}),sr("invalid",a);break;case"textarea":at(a,m),x=He(a,m),sr("invalid",a);break;default:x=m}it(u,x),L=x;for(w in L)if(L.hasOwnProperty(w)){var W=L[w];w==="style"?xe(a,W):w==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&_e(a,W)):w==="children"?typeof W=="string"?(u!=="textarea"||W!=="")&&Oe(a,W):typeof W=="number"&&Oe(a,""+W):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(o.hasOwnProperty(w)?W!=null&&w==="onScroll"&&sr("scroll",a):W!=null&&E(a,w,W,T))}switch(u){case"input":re(a),De(a,m,!1);break;case"textarea":re(a),dr(a);break;case"option":m.value!=null&&a.setAttribute("value",""+ue(m.value));break;case"select":a.multiple=!!m.multiple,w=m.value,w!=null?me(a,!!m.multiple,w,!1):m.defaultValue!=null&&me(a,!!m.multiple,m.defaultValue,!0);break;default:typeof x.onClick=="function"&&(a.onclick=mu)}switch(u){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return tn(i),null;case 6:if(a&&i.stateNode!=null)wy(a,i,a.memoizedProps,m);else{if(typeof m!="string"&&i.stateNode===null)throw Error(r(166));if(u=oo(kl.current),oo(Es.current),_u(i)){if(m=i.stateNode,u=i.memoizedProps,m[Ss]=i,(w=m.nodeValue!==u)&&(a=On,a!==null))switch(a.tag){case 3:fu(m.nodeValue,u,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&fu(m.nodeValue,u,(a.mode&1)!==0)}w&&(i.flags|=4)}else m=(u.nodeType===9?u:u.ownerDocument).createTextNode(m),m[Ss]=i,i.stateNode=m}return tn(i),null;case 13:if(ar(hr),m=i.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(ir&&Dn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)jx(),Qo(),i.flags|=98560,w=!1;else if(w=_u(i),m!==null&&m.dehydrated!==null){if(a===null){if(!w)throw Error(r(318));if(w=i.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[Ss]=i}else Qo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;tn(i),w=!1}else is!==null&&(fm(is),is=null),w=!0;if(!w)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=u,i):(m=m!==null,m!==(a!==null&&a.memoizedState!==null)&&m&&(i.child.flags|=8192,(i.mode&1)!==0&&(a===null||(hr.current&1)!==0?Ir===0&&(Ir=3):gm())),i.updateQueue!==null&&(i.flags|=4),tn(i),null);case 4:return ei(),rm(a,i),a===null&&wl(i.stateNode.containerInfo),tn(i),null;case 10:return Rf(i.type._context),tn(i),null;case 17:return wn(i.type)&&gu(),tn(i),null;case 19:if(ar(hr),w=i.memoizedState,w===null)return tn(i),null;if(m=(i.flags&128)!==0,T=w.rendering,T===null)if(m)Pl(w,!1);else{if(Ir!==0||a!==null&&(a.flags&128)!==0)for(a=i.child;a!==null;){if(T=ku(a),T!==null){for(i.flags|=128,Pl(w,!1),m=T.updateQueue,m!==null&&(i.updateQueue=m,i.flags|=4),i.subtreeFlags=0,m=u,u=i.child;u!==null;)w=u,a=m,w.flags&=14680066,T=w.alternate,T===null?(w.childLanes=0,w.lanes=a,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=T.childLanes,w.lanes=T.lanes,w.child=T.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=T.memoizedProps,w.memoizedState=T.memoizedState,w.updateQueue=T.updateQueue,w.type=T.type,a=T.dependencies,w.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),u=u.sibling;return rr(hr,hr.current&1|2),i.child}a=a.sibling}w.tail!==null&&kt()>si&&(i.flags|=128,m=!0,Pl(w,!1),i.lanes=4194304)}else{if(!m)if(a=ku(T),a!==null){if(i.flags|=128,m=!0,u=a.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),Pl(w,!0),w.tail===null&&w.tailMode==="hidden"&&!T.alternate&&!ir)return tn(i),null}else 2*kt()-w.renderingStartTime>si&&u!==1073741824&&(i.flags|=128,m=!0,Pl(w,!1),i.lanes=4194304);w.isBackwards?(T.sibling=i.child,i.child=T):(u=w.last,u!==null?u.sibling=T:i.child=T,w.last=T)}return w.tail!==null?(i=w.tail,w.rendering=i,w.tail=i.sibling,w.renderingStartTime=kt(),i.sibling=null,u=hr.current,rr(hr,m?u&1|2:u&1),i):(tn(i),null);case 22:case 23:return pm(),m=i.memoizedState!==null,a!==null&&a.memoizedState!==null!==m&&(i.flags|=8192),m&&(i.mode&1)!==0?(In&1073741824)!==0&&(tn(i),i.subtreeFlags&6&&(i.flags|=8192)):tn(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function lC(a,i){switch(Nf(i),i.tag){case 1:return wn(i.type)&&gu(),a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 3:return ei(),ar(yn),ar(Xr),Lf(),a=i.flags,(a&65536)!==0&&(a&128)===0?(i.flags=a&-65537|128,i):null;case 5:return If(i),null;case 13:if(ar(hr),a=i.memoizedState,a!==null&&a.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Qo()}return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 19:return ar(hr),null;case 4:return ei(),null;case 10:return Rf(i.type._context),null;case 22:case 23:return pm(),null;case 24:return null;default:return null}}var Mu=!1,rn=!1,cC=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function ri(a,i){var u=a.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(m){vr(a,i,m)}else u.current=null}function nm(a,i,u){try{u()}catch(m){vr(a,i,m)}}var _y=!1;function uC(a,i){if(pf=ru,a=Xv(),of(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var x=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var T=0,L=-1,W=-1,ie=0,we=0,be=a,ye=null;t:for(;;){for(var Le;be!==u||x!==0&&be.nodeType!==3||(L=T+x),be!==w||m!==0&&be.nodeType!==3||(W=T+m),be.nodeType===3&&(T+=be.nodeValue.length),(Le=be.firstChild)!==null;)ye=be,be=Le;for(;;){if(be===a)break t;if(ye===u&&++ie===x&&(L=T),ye===w&&++we===m&&(W=T),(Le=be.nextSibling)!==null)break;be=ye,ye=be.parentNode}be=Le}u=L===-1||W===-1?null:{start:L,end:W}}else u=null}u=u||{start:0,end:0}}else u=null;for(gf={focusedElem:a,selectionRange:u},ru=!1,Ue=i;Ue!==null;)if(i=Ue,a=i.child,(i.subtreeFlags&1028)!==0&&a!==null)a.return=i,Ue=a;else for(;Ue!==null;){i=Ue;try{var Be=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Be!==null){var Ge=Be.memoizedProps,jr=Be.memoizedState,ne=i.stateNode,K=ne.getSnapshotBeforeUpdate(i.elementType===i.type?Ge:ls(i.type,Ge),jr);ne.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var ae=i.stateNode.containerInfo;ae.nodeType===1?ae.textContent="":ae.nodeType===9&&ae.documentElement&&ae.removeChild(ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ke){vr(i,i.return,ke)}if(a=i.sibling,a!==null){a.return=i.return,Ue=a;break}Ue=i.return}return Be=_y,_y=!1,Be}function Ol(a,i,u){var m=i.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var x=m=m.next;do{if((x.tag&a)===a){var w=x.destroy;x.destroy=void 0,w!==void 0&&nm(i,u,w)}x=x.next}while(x!==m)}}function Lu(a,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var u=i=i.next;do{if((u.tag&a)===a){var m=u.create;u.destroy=m()}u=u.next}while(u!==i)}}function sm(a){var i=a.ref;if(i!==null){var u=a.stateNode;a.tag,a=u,typeof i=="function"?i(a):i.current=a}}function by(a){var i=a.alternate;i!==null&&(a.alternate=null,by(i)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(i=a.stateNode,i!==null&&(delete i[Ss],delete i[bl],delete i[wf],delete i[Hk],delete i[Gk])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function jy(a){return a.tag===5||a.tag===3||a.tag===4}function Ny(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||jy(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function am(a,i,u){var m=a.tag;if(m===5||m===6)a=a.stateNode,i?u.nodeType===8?u.parentNode.insertBefore(a,i):u.insertBefore(a,i):(u.nodeType===8?(i=u.parentNode,i.insertBefore(a,u)):(i=u,i.appendChild(a)),u=u._reactRootContainer,u!=null||i.onclick!==null||(i.onclick=mu));else if(m!==4&&(a=a.child,a!==null))for(am(a,i,u),a=a.sibling;a!==null;)am(a,i,u),a=a.sibling}function om(a,i,u){var m=a.tag;if(m===5||m===6)a=a.stateNode,i?u.insertBefore(a,i):u.appendChild(a);else if(m!==4&&(a=a.child,a!==null))for(om(a,i,u),a=a.sibling;a!==null;)om(a,i,u),a=a.sibling}var Kr=null,cs=!1;function ja(a,i,u){for(u=u.child;u!==null;)Sy(a,i,u),u=u.sibling}function Sy(a,i,u){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(eo,u)}catch{}switch(u.tag){case 5:rn||ri(u,i);case 6:var m=Kr,x=cs;Kr=null,ja(a,i,u),Kr=m,cs=x,Kr!==null&&(cs?(a=Kr,u=u.stateNode,a.nodeType===8?a.parentNode.removeChild(u):a.removeChild(u)):Kr.removeChild(u.stateNode));break;case 18:Kr!==null&&(cs?(a=Kr,u=u.stateNode,a.nodeType===8?yf(a.parentNode,u):a.nodeType===1&&yf(a,u),dl(a)):yf(Kr,u.stateNode));break;case 4:m=Kr,x=cs,Kr=u.stateNode.containerInfo,cs=!0,ja(a,i,u),Kr=m,cs=x;break;case 0:case 11:case 14:case 15:if(!rn&&(m=u.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){x=m=m.next;do{var w=x,T=w.destroy;w=w.tag,T!==void 0&&((w&2)!==0||(w&4)!==0)&&nm(u,i,T),x=x.next}while(x!==m)}ja(a,i,u);break;case 1:if(!rn&&(ri(u,i),m=u.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=u.memoizedProps,m.state=u.memoizedState,m.componentWillUnmount()}catch(L){vr(u,i,L)}ja(a,i,u);break;case 21:ja(a,i,u);break;case 22:u.mode&1?(rn=(m=rn)||u.memoizedState!==null,ja(a,i,u),rn=m):ja(a,i,u);break;default:ja(a,i,u)}}function Ey(a){var i=a.updateQueue;if(i!==null){a.updateQueue=null;var u=a.stateNode;u===null&&(u=a.stateNode=new cC),i.forEach(function(m){var x=yC.bind(null,a,m);u.has(m)||(u.add(m),m.then(x,x))})}}function us(a,i){var u=i.deletions;if(u!==null)for(var m=0;m<u.length;m++){var x=u[m];try{var w=a,T=i,L=T;e:for(;L!==null;){switch(L.tag){case 5:Kr=L.stateNode,cs=!1;break e;case 3:Kr=L.stateNode.containerInfo,cs=!0;break e;case 4:Kr=L.stateNode.containerInfo,cs=!0;break e}L=L.return}if(Kr===null)throw Error(r(160));Sy(w,T,x),Kr=null,cs=!1;var W=x.alternate;W!==null&&(W.return=null),x.return=null}catch(ie){vr(x,i,ie)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)ky(i,a),i=i.sibling}function ky(a,i){var u=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(us(i,a),Cs(a),m&4){try{Ol(3,a,a.return),Lu(3,a)}catch(Ge){vr(a,a.return,Ge)}try{Ol(5,a,a.return)}catch(Ge){vr(a,a.return,Ge)}}break;case 1:us(i,a),Cs(a),m&512&&u!==null&&ri(u,u.return);break;case 5:if(us(i,a),Cs(a),m&512&&u!==null&&ri(u,u.return),a.flags&32){var x=a.stateNode;try{Oe(x,"")}catch(Ge){vr(a,a.return,Ge)}}if(m&4&&(x=a.stateNode,x!=null)){var w=a.memoizedProps,T=u!==null?u.memoizedProps:w,L=a.type,W=a.updateQueue;if(a.updateQueue=null,W!==null)try{L==="input"&&w.type==="radio"&&w.name!=null&&jt(x,w),Ot(L,T);var ie=Ot(L,w);for(T=0;T<W.length;T+=2){var we=W[T],be=W[T+1];we==="style"?xe(x,be):we==="dangerouslySetInnerHTML"?_e(x,be):we==="children"?Oe(x,be):E(x,we,be,ie)}switch(L){case"input":St(x,w);break;case"textarea":nt(x,w);break;case"select":var ye=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!w.multiple;var Le=w.value;Le!=null?me(x,!!w.multiple,Le,!1):ye!==!!w.multiple&&(w.defaultValue!=null?me(x,!!w.multiple,w.defaultValue,!0):me(x,!!w.multiple,w.multiple?[]:"",!1))}x[bl]=w}catch(Ge){vr(a,a.return,Ge)}}break;case 6:if(us(i,a),Cs(a),m&4){if(a.stateNode===null)throw Error(r(162));x=a.stateNode,w=a.memoizedProps;try{x.nodeValue=w}catch(Ge){vr(a,a.return,Ge)}}break;case 3:if(us(i,a),Cs(a),m&4&&u!==null&&u.memoizedState.isDehydrated)try{dl(i.containerInfo)}catch(Ge){vr(a,a.return,Ge)}break;case 4:us(i,a),Cs(a);break;case 13:us(i,a),Cs(a),x=a.child,x.flags&8192&&(w=x.memoizedState!==null,x.stateNode.isHidden=w,!w||x.alternate!==null&&x.alternate.memoizedState!==null||(cm=kt())),m&4&&Ey(a);break;case 22:if(we=u!==null&&u.memoizedState!==null,a.mode&1?(rn=(ie=rn)||we,us(i,a),rn=ie):us(i,a),Cs(a),m&8192){if(ie=a.memoizedState!==null,(a.stateNode.isHidden=ie)&&!we&&(a.mode&1)!==0)for(Ue=a,we=a.child;we!==null;){for(be=Ue=we;Ue!==null;){switch(ye=Ue,Le=ye.child,ye.tag){case 0:case 11:case 14:case 15:Ol(4,ye,ye.return);break;case 1:ri(ye,ye.return);var Be=ye.stateNode;if(typeof Be.componentWillUnmount=="function"){m=ye,u=ye.return;try{i=m,Be.props=i.memoizedProps,Be.state=i.memoizedState,Be.componentWillUnmount()}catch(Ge){vr(m,u,Ge)}}break;case 5:ri(ye,ye.return);break;case 22:if(ye.memoizedState!==null){Ry(be);continue}}Le!==null?(Le.return=ye,Ue=Le):Ry(be)}we=we.sibling}e:for(we=null,be=a;;){if(be.tag===5){if(we===null){we=be;try{x=be.stateNode,ie?(w=x.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(L=be.stateNode,W=be.memoizedProps.style,T=W!=null&&W.hasOwnProperty("display")?W.display:null,L.style.display=Q("display",T))}catch(Ge){vr(a,a.return,Ge)}}}else if(be.tag===6){if(we===null)try{be.stateNode.nodeValue=ie?"":be.memoizedProps}catch(Ge){vr(a,a.return,Ge)}}else if((be.tag!==22&&be.tag!==23||be.memoizedState===null||be===a)&&be.child!==null){be.child.return=be,be=be.child;continue}if(be===a)break e;for(;be.sibling===null;){if(be.return===null||be.return===a)break e;we===be&&(we=null),be=be.return}we===be&&(we=null),be.sibling.return=be.return,be=be.sibling}}break;case 19:us(i,a),Cs(a),m&4&&Ey(a);break;case 21:break;default:us(i,a),Cs(a)}}function Cs(a){var i=a.flags;if(i&2){try{e:{for(var u=a.return;u!==null;){if(jy(u)){var m=u;break e}u=u.return}throw Error(r(160))}switch(m.tag){case 5:var x=m.stateNode;m.flags&32&&(Oe(x,""),m.flags&=-33);var w=Ny(a);om(a,w,x);break;case 3:case 4:var T=m.stateNode.containerInfo,L=Ny(a);am(a,L,T);break;default:throw Error(r(161))}}catch(W){vr(a,a.return,W)}a.flags&=-3}i&4096&&(a.flags&=-4097)}function dC(a,i,u){Ue=a,Cy(a)}function Cy(a,i,u){for(var m=(a.mode&1)!==0;Ue!==null;){var x=Ue,w=x.child;if(x.tag===22&&m){var T=x.memoizedState!==null||Mu;if(!T){var L=x.alternate,W=L!==null&&L.memoizedState!==null||rn;L=Mu;var ie=rn;if(Mu=T,(rn=W)&&!ie)for(Ue=x;Ue!==null;)T=Ue,W=T.child,T.tag===22&&T.memoizedState!==null?Ay(x):W!==null?(W.return=T,Ue=W):Ay(x);for(;w!==null;)Ue=w,Cy(w),w=w.sibling;Ue=x,Mu=L,rn=ie}Ty(a)}else(x.subtreeFlags&8772)!==0&&w!==null?(w.return=x,Ue=w):Ty(a)}}function Ty(a){for(;Ue!==null;){var i=Ue;if((i.flags&8772)!==0){var u=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:rn||Lu(5,i);break;case 1:var m=i.stateNode;if(i.flags&4&&!rn)if(u===null)m.componentDidMount();else{var x=i.elementType===i.type?u.memoizedProps:ls(i.type,u.memoizedProps);m.componentDidUpdate(x,u.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var w=i.updateQueue;w!==null&&Rx(i,w,m);break;case 3:var T=i.updateQueue;if(T!==null){if(u=null,i.child!==null)switch(i.child.tag){case 5:u=i.child.stateNode;break;case 1:u=i.child.stateNode}Rx(i,T,u)}break;case 5:var L=i.stateNode;if(u===null&&i.flags&4){u=L;var W=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&u.focus();break;case"img":W.src&&(u.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var ie=i.alternate;if(ie!==null){var we=ie.memoizedState;if(we!==null){var be=we.dehydrated;be!==null&&dl(be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}rn||i.flags&512&&sm(i)}catch(ye){vr(i,i.return,ye)}}if(i===a){Ue=null;break}if(u=i.sibling,u!==null){u.return=i.return,Ue=u;break}Ue=i.return}}function Ry(a){for(;Ue!==null;){var i=Ue;if(i===a){Ue=null;break}var u=i.sibling;if(u!==null){u.return=i.return,Ue=u;break}Ue=i.return}}function Ay(a){for(;Ue!==null;){var i=Ue;try{switch(i.tag){case 0:case 11:case 15:var u=i.return;try{Lu(4,i)}catch(W){vr(i,u,W)}break;case 1:var m=i.stateNode;if(typeof m.componentDidMount=="function"){var x=i.return;try{m.componentDidMount()}catch(W){vr(i,x,W)}}var w=i.return;try{sm(i)}catch(W){vr(i,w,W)}break;case 5:var T=i.return;try{sm(i)}catch(W){vr(i,T,W)}}}catch(W){vr(i,i.return,W)}if(i===a){Ue=null;break}var L=i.sibling;if(L!==null){L.return=i.return,Ue=L;break}Ue=i.return}}var hC=Math.ceil,$u=N.ReactCurrentDispatcher,im=N.ReactCurrentOwner,Gn=N.ReactCurrentBatchConfig,Lt=0,zr=null,kr=null,Yr=0,In=0,ni=xa(0),Ir=0,Dl=null,lo=0,Fu=0,lm=0,Il=null,bn=null,cm=0,si=1/0,Qs=null,Uu=!1,um=null,Na=null,Bu=!1,Sa=null,zu=0,Ml=0,dm=null,Wu=-1,Vu=0;function an(){return(Lt&6)!==0?kt():Wu!==-1?Wu:Wu=kt()}function Ea(a){return(a.mode&1)===0?1:(Lt&2)!==0&&Yr!==0?Yr&-Yr:Yk.transition!==null?(Vu===0&&(Vu=Nv()),Vu):(a=Ht,a!==0||(a=window.event,a=a===void 0?16:Ov(a.type)),a)}function ds(a,i,u,m){if(50<Ml)throw Ml=0,dm=null,Error(r(185));ol(a,u,m),((Lt&2)===0||a!==zr)&&(a===zr&&((Lt&2)===0&&(Fu|=u),Ir===4&&ka(a,Yr)),jn(a,m),u===1&&Lt===0&&(i.mode&1)===0&&(si=kt()+500,xu&&wa()))}function jn(a,i){var u=a.callbackNode;YE(a,i);var m=Xc(a,a===zr?Yr:0);if(m===0)u!==null&&je(u),a.callbackNode=null,a.callbackPriority=0;else if(i=m&-m,a.callbackPriority!==i){if(u!=null&&je(u),i===1)a.tag===0?Kk(Oy.bind(null,a)):xx(Oy.bind(null,a)),Vk(function(){(Lt&6)===0&&wa()}),u=null;else{switch(Sv(m)){case 1:u=Ur;break;case 4:u=zn;break;case 16:u=ss;break;case 536870912:u=Er;break;default:u=ss}u=By(u,Py.bind(null,a))}a.callbackPriority=i,a.callbackNode=u}}function Py(a,i){if(Wu=-1,Vu=0,(Lt&6)!==0)throw Error(r(327));var u=a.callbackNode;if(ai()&&a.callbackNode!==u)return null;var m=Xc(a,a===zr?Yr:0);if(m===0)return null;if((m&30)!==0||(m&a.expiredLanes)!==0||i)i=qu(a,m);else{i=m;var x=Lt;Lt|=2;var w=Iy();(zr!==a||Yr!==i)&&(Qs=null,si=kt()+500,uo(a,i));do try{pC();break}catch(L){Dy(a,L)}while(!0);Tf(),$u.current=w,Lt=x,kr!==null?i=0:(zr=null,Yr=0,i=Ir)}if(i!==0){if(i===2&&(x=Vh(a),x!==0&&(m=x,i=hm(a,x))),i===1)throw u=Dl,uo(a,0),ka(a,m),jn(a,kt()),u;if(i===6)ka(a,m);else{if(x=a.current.alternate,(m&30)===0&&!fC(x)&&(i=qu(a,m),i===2&&(w=Vh(a),w!==0&&(m=w,i=hm(a,w))),i===1))throw u=Dl,uo(a,0),ka(a,m),jn(a,kt()),u;switch(a.finishedWork=x,a.finishedLanes=m,i){case 0:case 1:throw Error(r(345));case 2:ho(a,bn,Qs);break;case 3:if(ka(a,m),(m&130023424)===m&&(i=cm+500-kt(),10<i)){if(Xc(a,0)!==0)break;if(x=a.suspendedLanes,(x&m)!==m){an(),a.pingedLanes|=a.suspendedLanes&x;break}a.timeoutHandle=xf(ho.bind(null,a,bn,Qs),i);break}ho(a,bn,Qs);break;case 4:if(ka(a,m),(m&4194240)===m)break;for(i=a.eventTimes,x=-1;0<m;){var T=31-as(m);w=1<<T,T=i[T],T>x&&(x=T),m&=~w}if(m=x,m=kt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*hC(m/1960))-m,10<m){a.timeoutHandle=xf(ho.bind(null,a,bn,Qs),m);break}ho(a,bn,Qs);break;case 5:ho(a,bn,Qs);break;default:throw Error(r(329))}}}return jn(a,kt()),a.callbackNode===u?Py.bind(null,a):null}function hm(a,i){var u=Il;return a.current.memoizedState.isDehydrated&&(uo(a,i).flags|=256),a=qu(a,i),a!==2&&(i=bn,bn=u,i!==null&&fm(i)),a}function fm(a){bn===null?bn=a:bn.push.apply(bn,a)}function fC(a){for(var i=a;;){if(i.flags&16384){var u=i.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var m=0;m<u.length;m++){var x=u[m],w=x.getSnapshot;x=x.value;try{if(!os(w(),x))return!1}catch{return!1}}}if(u=i.child,i.subtreeFlags&16384&&u!==null)u.return=i,i=u;else{if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ka(a,i){for(i&=~lm,i&=~Fu,a.suspendedLanes|=i,a.pingedLanes&=~i,a=a.expirationTimes;0<i;){var u=31-as(i),m=1<<u;a[u]=-1,i&=~m}}function Oy(a){if((Lt&6)!==0)throw Error(r(327));ai();var i=Xc(a,0);if((i&1)===0)return jn(a,kt()),null;var u=qu(a,i);if(a.tag!==0&&u===2){var m=Vh(a);m!==0&&(i=m,u=hm(a,m))}if(u===1)throw u=Dl,uo(a,0),ka(a,i),jn(a,kt()),u;if(u===6)throw Error(r(345));return a.finishedWork=a.current.alternate,a.finishedLanes=i,ho(a,bn,Qs),jn(a,kt()),null}function mm(a,i){var u=Lt;Lt|=1;try{return a(i)}finally{Lt=u,Lt===0&&(si=kt()+500,xu&&wa())}}function co(a){Sa!==null&&Sa.tag===0&&(Lt&6)===0&&ai();var i=Lt;Lt|=1;var u=Gn.transition,m=Ht;try{if(Gn.transition=null,Ht=1,a)return a()}finally{Ht=m,Gn.transition=u,Lt=i,(Lt&6)===0&&wa()}}function pm(){In=ni.current,ar(ni)}function uo(a,i){a.finishedWork=null,a.finishedLanes=0;var u=a.timeoutHandle;if(u!==-1&&(a.timeoutHandle=-1,Wk(u)),kr!==null)for(u=kr.return;u!==null;){var m=u;switch(Nf(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&gu();break;case 3:ei(),ar(yn),ar(Xr),Lf();break;case 5:If(m);break;case 4:ei();break;case 13:ar(hr);break;case 19:ar(hr);break;case 10:Rf(m.type._context);break;case 22:case 23:pm()}u=u.return}if(zr=a,kr=a=Ca(a.current,null),Yr=In=i,Ir=0,Dl=null,lm=Fu=lo=0,bn=Il=null,ao!==null){for(i=0;i<ao.length;i++)if(u=ao[i],m=u.interleaved,m!==null){u.interleaved=null;var x=m.next,w=u.pending;if(w!==null){var T=w.next;w.next=x,m.next=T}u.pending=m}ao=null}return a}function Dy(a,i){do{var u=kr;try{if(Tf(),Cu.current=Pu,Tu){for(var m=fr.memoizedState;m!==null;){var x=m.queue;x!==null&&(x.pending=null),m=m.next}Tu=!1}if(io=0,Br=Dr=fr=null,Cl=!1,Tl=0,im.current=null,u===null||u.return===null){Ir=1,Dl=i,kr=null;break}e:{var w=a,T=u.return,L=u,W=i;if(i=Yr,L.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var ie=W,we=L,be=we.tag;if((we.mode&1)===0&&(be===0||be===11||be===15)){var ye=we.alternate;ye?(we.updateQueue=ye.updateQueue,we.memoizedState=ye.memoizedState,we.lanes=ye.lanes):(we.updateQueue=null,we.memoizedState=null)}var Le=ay(T);if(Le!==null){Le.flags&=-257,oy(Le,T,L,w,i),Le.mode&1&&sy(w,ie,i),i=Le,W=ie;var Be=i.updateQueue;if(Be===null){var Ge=new Set;Ge.add(W),i.updateQueue=Ge}else Be.add(W);break e}else{if((i&1)===0){sy(w,ie,i),gm();break e}W=Error(r(426))}}else if(ir&&L.mode&1){var jr=ay(T);if(jr!==null){(jr.flags&65536)===0&&(jr.flags|=256),oy(jr,T,L,w,i),kf(ti(W,L));break e}}w=W=ti(W,L),Ir!==4&&(Ir=2),Il===null?Il=[w]:Il.push(w),w=T;do{switch(w.tag){case 3:w.flags|=65536,i&=-i,w.lanes|=i;var ne=ry(w,W,i);Tx(w,ne);break e;case 1:L=W;var K=w.type,ae=w.stateNode;if((w.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(Na===null||!Na.has(ae)))){w.flags|=65536,i&=-i,w.lanes|=i;var ke=ny(w,L,i);Tx(w,ke);break e}}w=w.return}while(w!==null)}Ly(u)}catch(Qe){i=Qe,kr===u&&u!==null&&(kr=u=u.return);continue}break}while(!0)}function Iy(){var a=$u.current;return $u.current=Pu,a===null?Pu:a}function gm(){(Ir===0||Ir===3||Ir===2)&&(Ir=4),zr===null||(lo&268435455)===0&&(Fu&268435455)===0||ka(zr,Yr)}function qu(a,i){var u=Lt;Lt|=2;var m=Iy();(zr!==a||Yr!==i)&&(Qs=null,uo(a,i));do try{mC();break}catch(x){Dy(a,x)}while(!0);if(Tf(),Lt=u,$u.current=m,kr!==null)throw Error(r(261));return zr=null,Yr=0,Ir}function mC(){for(;kr!==null;)My(kr)}function pC(){for(;kr!==null&&!Ve();)My(kr)}function My(a){var i=Uy(a.alternate,a,In);a.memoizedProps=a.pendingProps,i===null?Ly(a):kr=i,im.current=null}function Ly(a){var i=a;do{var u=i.alternate;if(a=i.return,(i.flags&32768)===0){if(u=iC(u,i,In),u!==null){kr=u;return}}else{if(u=lC(u,i),u!==null){u.flags&=32767,kr=u;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Ir=6,kr=null;return}}if(i=i.sibling,i!==null){kr=i;return}kr=i=a}while(i!==null);Ir===0&&(Ir=5)}function ho(a,i,u){var m=Ht,x=Gn.transition;try{Gn.transition=null,Ht=1,gC(a,i,u,m)}finally{Gn.transition=x,Ht=m}return null}function gC(a,i,u,m){do ai();while(Sa!==null);if((Lt&6)!==0)throw Error(r(327));u=a.finishedWork;var x=a.finishedLanes;if(u===null)return null;if(a.finishedWork=null,a.finishedLanes=0,u===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0;var w=u.lanes|u.childLanes;if(QE(a,w),a===zr&&(kr=zr=null,Yr=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Bu||(Bu=!0,By(ss,function(){return ai(),null})),w=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||w){w=Gn.transition,Gn.transition=null;var T=Ht;Ht=1;var L=Lt;Lt|=4,im.current=null,uC(a,u),ky(u,a),Mk(gf),ru=!!pf,gf=pf=null,a.current=u,dC(u),tr(),Lt=L,Ht=T,Gn.transition=w}else a.current=u;if(Bu&&(Bu=!1,Sa=a,zu=x),w=a.pendingLanes,w===0&&(Na=null),VE(u.stateNode),jn(a,kt()),i!==null)for(m=a.onRecoverableError,u=0;u<i.length;u++)x=i[u],m(x.value,{componentStack:x.stack,digest:x.digest});if(Uu)throw Uu=!1,a=um,um=null,a;return(zu&1)!==0&&a.tag!==0&&ai(),w=a.pendingLanes,(w&1)!==0?a===dm?Ml++:(Ml=0,dm=a):Ml=0,wa(),null}function ai(){if(Sa!==null){var a=Sv(zu),i=Gn.transition,u=Ht;try{if(Gn.transition=null,Ht=16>a?16:a,Sa===null)var m=!1;else{if(a=Sa,Sa=null,zu=0,(Lt&6)!==0)throw Error(r(331));var x=Lt;for(Lt|=4,Ue=a.current;Ue!==null;){var w=Ue,T=w.child;if((Ue.flags&16)!==0){var L=w.deletions;if(L!==null){for(var W=0;W<L.length;W++){var ie=L[W];for(Ue=ie;Ue!==null;){var we=Ue;switch(we.tag){case 0:case 11:case 15:Ol(8,we,w)}var be=we.child;if(be!==null)be.return=we,Ue=be;else for(;Ue!==null;){we=Ue;var ye=we.sibling,Le=we.return;if(by(we),we===ie){Ue=null;break}if(ye!==null){ye.return=Le,Ue=ye;break}Ue=Le}}}var Be=w.alternate;if(Be!==null){var Ge=Be.child;if(Ge!==null){Be.child=null;do{var jr=Ge.sibling;Ge.sibling=null,Ge=jr}while(Ge!==null)}}Ue=w}}if((w.subtreeFlags&2064)!==0&&T!==null)T.return=w,Ue=T;else e:for(;Ue!==null;){if(w=Ue,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Ol(9,w,w.return)}var ne=w.sibling;if(ne!==null){ne.return=w.return,Ue=ne;break e}Ue=w.return}}var K=a.current;for(Ue=K;Ue!==null;){T=Ue;var ae=T.child;if((T.subtreeFlags&2064)!==0&&ae!==null)ae.return=T,Ue=ae;else e:for(T=K;Ue!==null;){if(L=Ue,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:Lu(9,L)}}catch(Qe){vr(L,L.return,Qe)}if(L===T){Ue=null;break e}var ke=L.sibling;if(ke!==null){ke.return=L.return,Ue=ke;break e}Ue=L.return}}if(Lt=x,wa(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(eo,a)}catch{}m=!0}return m}finally{Ht=u,Gn.transition=i}}return!1}function $y(a,i,u){i=ti(u,i),i=ry(a,i,1),a=ba(a,i,1),i=an(),a!==null&&(ol(a,1,i),jn(a,i))}function vr(a,i,u){if(a.tag===3)$y(a,a,u);else for(;i!==null;){if(i.tag===3){$y(i,a,u);break}else if(i.tag===1){var m=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Na===null||!Na.has(m))){a=ti(u,a),a=ny(i,a,1),i=ba(i,a,1),a=an(),i!==null&&(ol(i,1,a),jn(i,a));break}}i=i.return}}function vC(a,i,u){var m=a.pingCache;m!==null&&m.delete(i),i=an(),a.pingedLanes|=a.suspendedLanes&u,zr===a&&(Yr&u)===u&&(Ir===4||Ir===3&&(Yr&130023424)===Yr&&500>kt()-cm?uo(a,0):lm|=u),jn(a,i)}function Fy(a,i){i===0&&((a.mode&1)===0?i=1:(i=Zc,Zc<<=1,(Zc&130023424)===0&&(Zc=4194304)));var u=an();a=Gs(a,i),a!==null&&(ol(a,i,u),jn(a,u))}function xC(a){var i=a.memoizedState,u=0;i!==null&&(u=i.retryLane),Fy(a,u)}function yC(a,i){var u=0;switch(a.tag){case 13:var m=a.stateNode,x=a.memoizedState;x!==null&&(u=x.retryLane);break;case 19:m=a.stateNode;break;default:throw Error(r(314))}m!==null&&m.delete(i),Fy(a,u)}var Uy;Uy=function(a,i,u){if(a!==null)if(a.memoizedProps!==i.pendingProps||yn.current)_n=!0;else{if((a.lanes&u)===0&&(i.flags&128)===0)return _n=!1,oC(a,i,u);_n=(a.flags&131072)!==0}else _n=!1,ir&&(i.flags&1048576)!==0&&yx(i,wu,i.index);switch(i.lanes=0,i.tag){case 2:var m=i.type;Iu(a,i),a=i.pendingProps;var x=Go(i,Xr.current);Xo(i,u),x=Uf(null,i,m,a,x,u);var w=Bf();return i.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,wn(m)?(w=!0,vu(i)):w=!1,i.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Of(i),x.updater=Ou,i.stateNode=x,x._reactInternals=i,Gf(i,m,a,u),i=Jf(null,i,m,!0,w,u)):(i.tag=0,ir&&w&&jf(i),sn(null,i,x,u),i=i.child),i;case 16:m=i.elementType;e:{switch(Iu(a,i),a=i.pendingProps,x=m._init,m=x(m._payload),i.type=m,x=i.tag=_C(m),a=ls(m,a),x){case 0:i=Qf(null,i,m,a,u);break e;case 1:i=hy(null,i,m,a,u);break e;case 11:i=iy(null,i,m,a,u);break e;case 14:i=ly(null,i,m,ls(m.type,a),u);break e}throw Error(r(306,m,""))}return i;case 0:return m=i.type,x=i.pendingProps,x=i.elementType===m?x:ls(m,x),Qf(a,i,m,x,u);case 1:return m=i.type,x=i.pendingProps,x=i.elementType===m?x:ls(m,x),hy(a,i,m,x,u);case 3:e:{if(fy(i),a===null)throw Error(r(387));m=i.pendingProps,w=i.memoizedState,x=w.element,Cx(a,i),Eu(i,m,null,u);var T=i.memoizedState;if(m=T.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},i.updateQueue.baseState=w,i.memoizedState=w,i.flags&256){x=ti(Error(r(423)),i),i=my(a,i,m,u,x);break e}else if(m!==x){x=ti(Error(r(424)),i),i=my(a,i,m,u,x);break e}else for(Dn=va(i.stateNode.containerInfo.firstChild),On=i,ir=!0,is=null,u=Ex(i,null,m,u),i.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Qo(),m===x){i=Ys(a,i,u);break e}sn(a,i,m,u)}i=i.child}return i;case 5:return Ax(i),a===null&&Ef(i),m=i.type,x=i.pendingProps,w=a!==null?a.memoizedProps:null,T=x.children,vf(m,x)?T=null:w!==null&&vf(m,w)&&(i.flags|=32),dy(a,i),sn(a,i,T,u),i.child;case 6:return a===null&&Ef(i),null;case 13:return py(a,i,u);case 4:return Df(i,i.stateNode.containerInfo),m=i.pendingProps,a===null?i.child=Jo(i,null,m,u):sn(a,i,m,u),i.child;case 11:return m=i.type,x=i.pendingProps,x=i.elementType===m?x:ls(m,x),iy(a,i,m,x,u);case 7:return sn(a,i,i.pendingProps,u),i.child;case 8:return sn(a,i,i.pendingProps.children,u),i.child;case 12:return sn(a,i,i.pendingProps.children,u),i.child;case 10:e:{if(m=i.type._context,x=i.pendingProps,w=i.memoizedProps,T=x.value,rr(ju,m._currentValue),m._currentValue=T,w!==null)if(os(w.value,T)){if(w.children===x.children&&!yn.current){i=Ys(a,i,u);break e}}else for(w=i.child,w!==null&&(w.return=i);w!==null;){var L=w.dependencies;if(L!==null){T=w.child;for(var W=L.firstContext;W!==null;){if(W.context===m){if(w.tag===1){W=Ks(-1,u&-u),W.tag=2;var ie=w.updateQueue;if(ie!==null){ie=ie.shared;var we=ie.pending;we===null?W.next=W:(W.next=we.next,we.next=W),ie.pending=W}}w.lanes|=u,W=w.alternate,W!==null&&(W.lanes|=u),Af(w.return,u,i),L.lanes|=u;break}W=W.next}}else if(w.tag===10)T=w.type===i.type?null:w.child;else if(w.tag===18){if(T=w.return,T===null)throw Error(r(341));T.lanes|=u,L=T.alternate,L!==null&&(L.lanes|=u),Af(T,u,i),T=w.sibling}else T=w.child;if(T!==null)T.return=w;else for(T=w;T!==null;){if(T===i){T=null;break}if(w=T.sibling,w!==null){w.return=T.return,T=w;break}T=T.return}w=T}sn(a,i,x.children,u),i=i.child}return i;case 9:return x=i.type,m=i.pendingProps.children,Xo(i,u),x=qn(x),m=m(x),i.flags|=1,sn(a,i,m,u),i.child;case 14:return m=i.type,x=ls(m,i.pendingProps),x=ls(m.type,x),ly(a,i,m,x,u);case 15:return cy(a,i,i.type,i.pendingProps,u);case 17:return m=i.type,x=i.pendingProps,x=i.elementType===m?x:ls(m,x),Iu(a,i),i.tag=1,wn(m)?(a=!0,vu(i)):a=!1,Xo(i,u),ey(i,m,x),Gf(i,m,x,u),Jf(null,i,m,!0,a,u);case 19:return vy(a,i,u);case 22:return uy(a,i,u)}throw Error(r(156,i.tag))};function By(a,i){return q(a,i)}function wC(a,i,u,m){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(a,i,u,m){return new wC(a,i,u,m)}function vm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function _C(a){if(typeof a=="function")return vm(a)?1:0;if(a!=null){if(a=a.$$typeof,a===z)return 11;if(a===le)return 14}return 2}function Ca(a,i){var u=a.alternate;return u===null?(u=Kn(a.tag,i,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=i,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&14680064,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,i=a.dependencies,u.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u}function Hu(a,i,u,m,x,w){var T=2;if(m=a,typeof a=="function")vm(a)&&(T=1);else if(typeof a=="string")T=5;else e:switch(a){case P:return fo(u.children,x,w,i);case I:T=8,x|=8;break;case Z:return a=Kn(12,u,i,x|2),a.elementType=Z,a.lanes=w,a;case F:return a=Kn(13,u,i,x),a.elementType=F,a.lanes=w,a;case U:return a=Kn(19,u,i,x),a.elementType=U,a.lanes=w,a;case ee:return Gu(u,x,w,i);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case B:T=10;break e;case X:T=9;break e;case z:T=11;break e;case le:T=14;break e;case V:T=16,m=null;break e}throw Error(r(130,a==null?a:typeof a,""))}return i=Kn(T,u,i,x),i.elementType=a,i.type=m,i.lanes=w,i}function fo(a,i,u,m){return a=Kn(7,a,m,i),a.lanes=u,a}function Gu(a,i,u,m){return a=Kn(22,a,m,i),a.elementType=ee,a.lanes=u,a.stateNode={isHidden:!1},a}function xm(a,i,u){return a=Kn(6,a,null,i),a.lanes=u,a}function ym(a,i,u){return i=Kn(4,a.children!==null?a.children:[],a.key,i),i.lanes=u,i.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},i}function bC(a,i,u,m,x){this.tag=i,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qh(0),this.expirationTimes=qh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qh(0),this.identifierPrefix=m,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function wm(a,i,u,m,x,w,T,L,W){return a=new bC(a,i,u,L,W),i===1?(i=1,w===!0&&(i|=8)):i=0,w=Kn(3,null,null,i),a.current=w,w.stateNode=a,w.memoizedState={element:m,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Of(w),a}function jC(a,i,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:m==null?null:""+m,children:a,containerInfo:i,implementation:u}}function zy(a){if(!a)return ya;a=a._reactInternals;e:{if(Ns(a)!==a||a.tag!==1)throw Error(r(170));var i=a;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(wn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(a.tag===1){var u=a.type;if(wn(u))return gx(a,u,i)}return i}function Wy(a,i,u,m,x,w,T,L,W){return a=wm(u,m,!0,a,x,w,T,L,W),a.context=zy(null),u=a.current,m=an(),x=Ea(u),w=Ks(m,x),w.callback=i??null,ba(u,w,x),a.current.lanes=x,ol(a,x,m),jn(a,m),a}function Ku(a,i,u,m){var x=i.current,w=an(),T=Ea(x);return u=zy(u),i.context===null?i.context=u:i.pendingContext=u,i=Ks(w,T),i.payload={element:a},m=m===void 0?null:m,m!==null&&(i.callback=m),a=ba(x,i,T),a!==null&&(ds(a,x,T,w),Su(a,x,T)),T}function Yu(a){return a=a.current,a.child?(a.child.tag===5,a.child.stateNode):null}function Vy(a,i){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<i?u:i}}function _m(a,i){Vy(a,i),(a=a.alternate)&&Vy(a,i)}function NC(){return null}var qy=typeof reportError=="function"?reportError:function(a){console.error(a)};function bm(a){this._internalRoot=a}Qu.prototype.render=bm.prototype.render=function(a){var i=this._internalRoot;if(i===null)throw Error(r(409));Ku(a,i,null,null)},Qu.prototype.unmount=bm.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var i=a.containerInfo;co(function(){Ku(null,a,null,null)}),i[Ws]=null}};function Qu(a){this._internalRoot=a}Qu.prototype.unstable_scheduleHydration=function(a){if(a){var i=Cv();a={blockedOn:null,target:a,priority:i};for(var u=0;u<ma.length&&i!==0&&i<ma[u].priority;u++);ma.splice(u,0,a),u===0&&Av(a)}};function jm(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Ju(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function Hy(){}function SC(a,i,u,m,x){if(x){if(typeof m=="function"){var w=m;m=function(){var ie=Yu(T);w.call(ie)}}var T=Wy(i,m,a,0,null,!1,!1,"",Hy);return a._reactRootContainer=T,a[Ws]=T.current,wl(a.nodeType===8?a.parentNode:a),co(),T}for(;x=a.lastChild;)a.removeChild(x);if(typeof m=="function"){var L=m;m=function(){var ie=Yu(W);L.call(ie)}}var W=wm(a,0,!1,null,null,!1,!1,"",Hy);return a._reactRootContainer=W,a[Ws]=W.current,wl(a.nodeType===8?a.parentNode:a),co(function(){Ku(i,W,u,m)}),W}function Zu(a,i,u,m,x){var w=u._reactRootContainer;if(w){var T=w;if(typeof x=="function"){var L=x;x=function(){var W=Yu(T);L.call(W)}}Ku(i,T,a,x)}else T=SC(u,i,a,x,m);return Yu(T)}Ev=function(a){switch(a.tag){case 3:var i=a.stateNode;if(i.current.memoizedState.isDehydrated){var u=al(i.pendingLanes);u!==0&&(Hh(i,u|1),jn(i,kt()),(Lt&6)===0&&(si=kt()+500,wa()))}break;case 13:co(function(){var m=Gs(a,1);if(m!==null){var x=an();ds(m,a,1,x)}}),_m(a,1)}},Gh=function(a){if(a.tag===13){var i=Gs(a,134217728);if(i!==null){var u=an();ds(i,a,134217728,u)}_m(a,134217728)}},kv=function(a){if(a.tag===13){var i=Ea(a),u=Gs(a,i);if(u!==null){var m=an();ds(u,a,i,m)}_m(a,i)}},Cv=function(){return Ht},Tv=function(a,i){var u=Ht;try{return Ht=a,i()}finally{Ht=u}},Hr=function(a,i,u){switch(i){case"input":if(St(a,u),i=u.name,u.type==="radio"&&i!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<u.length;i++){var m=u[i];if(m!==a&&m.form===a.form){var x=pu(m);if(!x)throw Error(r(90));he(m),St(m,x)}}}break;case"textarea":nt(a,u);break;case"select":i=u.value,i!=null&&me(a,!!u.multiple,i,!1)}},Ie=mm,et=co;var EC={usingClientEntryPoint:!1,Events:[jl,qo,pu,fe,Pe,mm]},Ll={findFiberByHostInstance:to,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kC={bundleType:Ll.bundleType,version:Ll.version,rendererPackageName:Ll.rendererPackageName,rendererConfig:Ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Qc(a),a===null?null:a.stateNode},findFiberByHostInstance:Ll.findFiberByHostInstance||NC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xu.isDisabled&&Xu.supportsFiber)try{eo=Xu.inject(kC),An=Xu}catch{}}return Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EC,Nn.createPortal=function(a,i){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jm(i))throw Error(r(200));return jC(a,i,null,u)},Nn.createRoot=function(a,i){if(!jm(a))throw Error(r(299));var u=!1,m="",x=qy;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(m=i.identifierPrefix),i.onRecoverableError!==void 0&&(x=i.onRecoverableError)),i=wm(a,1,!1,null,null,u,!1,m,x),a[Ws]=i.current,wl(a.nodeType===8?a.parentNode:a),new bm(i)},Nn.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var i=a._reactInternals;if(i===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=Qc(i),a=a===null?null:a.stateNode,a},Nn.flushSync=function(a){return co(a)},Nn.hydrate=function(a,i,u){if(!Ju(i))throw Error(r(200));return Zu(null,a,i,!0,u)},Nn.hydrateRoot=function(a,i,u){if(!jm(a))throw Error(r(405));var m=u!=null&&u.hydratedSources||null,x=!1,w="",T=qy;if(u!=null&&(u.unstable_strictMode===!0&&(x=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),i=Wy(i,null,a,1,u??null,x,!1,w,T),a[Ws]=i.current,wl(a),m)for(a=0;a<m.length;a++)u=m[a],x=u._getVersion,x=x(u._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[u,x]:i.mutableSourceEagerHydrationData.push(u,x);return new Qu(i)},Nn.render=function(a,i,u){if(!Ju(i))throw Error(r(200));return Zu(null,a,i,!1,u)},Nn.unmountComponentAtNode=function(a){if(!Ju(a))throw Error(r(40));return a._reactRootContainer?(co(function(){Zu(null,null,a,!1,function(){a._reactRootContainer=null,a[Ws]=null})}),!0):!1},Nn.unstable_batchedUpdates=mm,Nn.unstable_renderSubtreeIntoContainer=function(a,i,u,m){if(!Ju(u))throw Error(r(200));if(a==null||a._reactInternals===void 0)throw Error(r(38));return Zu(a,i,u,!1,m)},Nn.version="18.3.1-next-f1338f8080-20240426",Nn}var ew;function x_(){if(ew)return Em.exports;ew=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Em.exports=IC(),Em.exports}var tw;function MC(){if(tw)return ed;tw=1;var e=x_();return ed.createRoot=e.createRoot,ed.hydrateRoot=e.hydrateRoot,ed}var LC=MC(),f=nh();const Ce=v_(f),sh=TC({__proto__:null,default:Ce},[f]),$C=1,FC=1e6;let Tm=0;function UC(){return Tm=(Tm+1)%Number.MAX_SAFE_INTEGER,Tm.toString()}const Rm=new Map,rw=e=>{if(Rm.has(e))return;const t=setTimeout(()=>{Rm.delete(e),Jl({type:"REMOVE_TOAST",toastId:e})},FC);Rm.set(e,t)},BC=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,$C)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?rw(r):e.toasts.forEach(n=>{rw(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},jd=[];let Nd={toasts:[]};function Jl(e){Nd=BC(Nd,e),jd.forEach(t=>{t(Nd)})}function zC({...e}){const t=UC(),r=o=>Jl({type:"UPDATE_TOAST",toast:{...o,id:t}}),n=()=>Jl({type:"DISMISS_TOAST",toastId:t});return Jl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||n()}}}),{id:t,dismiss:n,update:r}}function Or(){const[e,t]=f.useState(Nd);return f.useEffect(()=>(jd.push(t),()=>{const r=jd.indexOf(t);r>-1&&jd.splice(r,1)}),[e]),{...e,toast:zC,dismiss:r=>Jl({type:"DISMISS_TOAST",toastId:r})}}var Bi=x_();const y_=v_(Bi);function Ee(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e?.(o),r===!1||!o.defaultPrevented)return t?.(o)}}function nw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function $s(...e){return t=>{let r=!1;const n=e.map(o=>{const l=nw(o,t);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let o=0;o<n.length;o++){const l=n[o];typeof l=="function"?l():nw(e[o],null)}}}}function wt(...e){return f.useCallback($s(...e),e)}function WC(e,t){const r=f.createContext(t),n=l=>{const{children:c,...d}=l,h=f.useMemo(()=>d,Object.values(d));return s.jsx(r.Provider,{value:h,children:c})};n.displayName=e+"Provider";function o(l){const c=f.useContext(r);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[n,o]}function vn(e,t=[]){let r=[];function n(l,c){const d=f.createContext(c),h=r.length;r=[...r,c];const p=g=>{const{scope:y,children:b,...S}=g,_=y?.[e]?.[h]||d,j=f.useMemo(()=>S,Object.values(S));return s.jsx(_.Provider,{value:j,children:b})};p.displayName=l+"Provider";function v(g,y){const b=y?.[e]?.[h]||d,S=f.useContext(b);if(S)return S;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[p,v]}const o=()=>{const l=r.map(c=>f.createContext(c));return function(d){const h=d?.[e]||l;return f.useMemo(()=>({[`__scope${e}`]:{...d,[e]:h}}),[d,h])}};return o.scopeName=e,[n,VC(o,...t)]}function VC(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const c=n.reduce((d,{useScope:h,scopeName:p})=>{const g=h(l)[`__scope${p}`];return{...d,...g}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}function sw(e){const t=qC(e),r=f.forwardRef((n,o)=>{const{children:l,...c}=n,d=f.Children.toArray(l),h=d.find(GC);if(h){const p=h.props.children,v=d.map(g=>g===h?f.Children.count(p)>1?f.Children.only(null):f.isValidElement(p)?p.props.children:null:g);return s.jsx(t,{...c,ref:o,children:f.isValidElement(p)?f.cloneElement(p,void 0,v):null})}return s.jsx(t,{...c,ref:o,children:l})});return r.displayName=`${e}.Slot`,r}function qC(e){const t=f.forwardRef((r,n)=>{const{children:o,...l}=r;if(f.isValidElement(o)){const c=YC(o),d=KC(l,o.props);return o.type!==f.Fragment&&(d.ref=n?$s(n,c):c),f.cloneElement(o,d)}return f.Children.count(o)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var HC=Symbol("radix.slottable");function GC(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===HC}function KC(e,t){const r={...t};for(const n in t){const o=e[n],l=t[n];/^on[A-Z]/.test(n)?o&&l?r[n]=(...d)=>{const h=l(...d);return o(...d),h}:o&&(r[n]=o):n==="style"?r[n]={...o,...l}:n==="className"&&(r[n]=[o,l].filter(Boolean).join(" "))}return{...e,...r}}function YC(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function ah(e){const t=e+"CollectionProvider",[r,n]=vn(t),[o,l]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=_=>{const{scope:j,children:k}=_,C=Ce.useRef(null),E=Ce.useRef(new Map).current;return s.jsx(o,{scope:j,itemMap:E,collectionRef:C,children:k})};c.displayName=t;const d=e+"CollectionSlot",h=sw(d),p=Ce.forwardRef((_,j)=>{const{scope:k,children:C}=_,E=l(d,k),N=wt(j,E.collectionRef);return s.jsx(h,{ref:N,children:C})});p.displayName=d;const v=e+"CollectionItemSlot",g="data-radix-collection-item",y=sw(v),b=Ce.forwardRef((_,j)=>{const{scope:k,children:C,...E}=_,N=Ce.useRef(null),O=wt(j,N),R=l(v,k);return Ce.useEffect(()=>(R.itemMap.set(N,{ref:N,...E}),()=>{R.itemMap.delete(N)})),s.jsx(y,{[g]:"",ref:O,children:C})});b.displayName=v;function S(_){const j=l(e+"CollectionConsumer",_);return Ce.useCallback(()=>{const C=j.collectionRef.current;if(!C)return[];const E=Array.from(C.querySelectorAll(`[${g}]`));return Array.from(j.itemMap.values()).sort((R,P)=>E.indexOf(R.ref.current)-E.indexOf(P.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:c,Slot:p,ItemSlot:b},S,n]}function QC(e){const t=JC(e),r=f.forwardRef((n,o)=>{const{children:l,...c}=n,d=f.Children.toArray(l),h=d.find(XC);if(h){const p=h.props.children,v=d.map(g=>g===h?f.Children.count(p)>1?f.Children.only(null):f.isValidElement(p)?p.props.children:null:g);return s.jsx(t,{...c,ref:o,children:f.isValidElement(p)?f.cloneElement(p,void 0,v):null})}return s.jsx(t,{...c,ref:o,children:l})});return r.displayName=`${e}.Slot`,r}function JC(e){const t=f.forwardRef((r,n)=>{const{children:o,...l}=r;if(f.isValidElement(o)){const c=tT(o),d=eT(l,o.props);return o.type!==f.Fragment&&(d.ref=n?$s(n,c):c),f.cloneElement(o,d)}return f.Children.count(o)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ZC=Symbol("radix.slottable");function XC(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ZC}function eT(e,t){const r={...t};for(const n in t){const o=e[n],l=t[n];/^on[A-Z]/.test(n)?o&&l?r[n]=(...d)=>{const h=l(...d);return o(...d),h}:o&&(r[n]=o):n==="style"?r[n]={...o,...l}:n==="className"&&(r[n]=[o,l].filter(Boolean).join(" "))}return{...e,...r}}function tT(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var rT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],st=rT.reduce((e,t)=>{const r=QC(`Primitive.${t}`),n=f.forwardRef((o,l)=>{const{asChild:c,...d}=o,h=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(h,{...d,ref:l})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function fg(e,t){e&&Bi.flushSync(()=>e.dispatchEvent(t))}function _r(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...r)=>t.current?.(...r),[])}function nT(e,t=globalThis?.document){const r=_r(e);f.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var sT="DismissableLayer",dp="dismissableLayer.update",aT="dismissableLayer.pointerDownOutside",oT="dismissableLayer.focusOutside",aw,w_=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Do=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...h}=e,p=f.useContext(w_),[v,g]=f.useState(null),y=v?.ownerDocument??globalThis?.document,[,b]=f.useState({}),S=wt(t,P=>g(P)),_=Array.from(p.layers),[j]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),k=_.indexOf(j),C=v?_.indexOf(v):-1,E=p.layersWithOutsidePointerEventsDisabled.size>0,N=C>=k,O=lT(P=>{const I=P.target,Z=[...p.branches].some(B=>B.contains(I));!N||Z||(o?.(P),c?.(P),P.defaultPrevented||d?.())},y),R=cT(P=>{const I=P.target;[...p.branches].some(B=>B.contains(I))||(l?.(P),c?.(P),P.defaultPrevented||d?.())},y);return nT(P=>{C===p.layers.size-1&&(n?.(P),!P.defaultPrevented&&d&&(P.preventDefault(),d()))},y),f.useEffect(()=>{if(v)return r&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(aw=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),ow(),()=>{r&&p.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=aw)}},[v,y,r,p]),f.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),ow())},[v,p]),f.useEffect(()=>{const P=()=>b({});return document.addEventListener(dp,P),()=>document.removeEventListener(dp,P)},[]),s.jsx(st.div,{...h,ref:S,style:{pointerEvents:E?N?"auto":"none":void 0,...e.style},onFocusCapture:Ee(e.onFocusCapture,R.onFocusCapture),onBlurCapture:Ee(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:Ee(e.onPointerDownCapture,O.onPointerDownCapture)})});Do.displayName=sT;var iT="DismissableLayerBranch",__=f.forwardRef((e,t)=>{const r=f.useContext(w_),n=f.useRef(null),o=wt(t,n);return f.useEffect(()=>{const l=n.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),s.jsx(st.div,{...e,ref:o})});__.displayName=iT;function lT(e,t=globalThis?.document){const r=_r(e),n=f.useRef(!1),o=f.useRef(()=>{});return f.useEffect(()=>{const l=d=>{if(d.target&&!n.current){let h=function(){b_(aT,r,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=h,t.addEventListener("click",o.current,{once:!0})):h()}else t.removeEventListener("click",o.current);n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",l),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function cT(e,t=globalThis?.document){const r=_r(e),n=f.useRef(!1);return f.useEffect(()=>{const o=l=>{l.target&&!n.current&&b_(oT,r,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function ow(){const e=new CustomEvent(dp);document.dispatchEvent(e)}function b_(e,t,r,{discrete:n}){const o=r.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?fg(o,l):o.dispatchEvent(l)}var uT=Do,dT=__,Sr=globalThis?.document?f.useLayoutEffect:()=>{},hT="Portal",zi=f.forwardRef((e,t)=>{const{container:r,...n}=e,[o,l]=f.useState(!1);Sr(()=>l(!0),[]);const c=r||o&&globalThis?.document?.body;return c?y_.createPortal(s.jsx(st.div,{...n,ref:t}),c):null});zi.displayName=hT;function fT(e,t){return f.useReducer((r,n)=>t[r][n]??r,e)}var qr=e=>{const{present:t,children:r}=e,n=mT(t),o=typeof r=="function"?r({present:n.isPresent}):f.Children.only(r),l=wt(n.ref,pT(o));return typeof r=="function"||n.isPresent?f.cloneElement(o,{ref:l}):null};qr.displayName="Presence";function mT(e){const[t,r]=f.useState(),n=f.useRef(null),o=f.useRef(e),l=f.useRef("none"),c=e?"mounted":"unmounted",[d,h]=fT(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const p=td(n.current);l.current=d==="mounted"?p:"none"},[d]),Sr(()=>{const p=n.current,v=o.current;if(v!==e){const y=l.current,b=td(p);e?h("MOUNT"):b==="none"||p?.display==="none"?h("UNMOUNT"):h(v&&y!==b?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,h]),Sr(()=>{if(t){let p;const v=t.ownerDocument.defaultView??window,g=b=>{const _=td(n.current).includes(CSS.escape(b.animationName));if(b.target===t&&_&&(h("ANIMATION_END"),!o.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",p=v.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},y=b=>{b.target===t&&(l.current=td(n.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{v.clearTimeout(p),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:f.useCallback(p=>{n.current=p?getComputedStyle(p):null,r(p)},[])}}function td(e){return e?.animationName||"none"}function pT(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var gT=sh[" useInsertionEffect ".trim().toString()]||Sr;function Is({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[o,l,c]=vT({defaultProp:t,onChange:r}),d=e!==void 0,h=d?e:o;{const v=f.useRef(e!==void 0);f.useEffect(()=>{const g=v.current;g!==d&&console.warn(`${n} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=d},[d,n])}const p=f.useCallback(v=>{if(d){const g=xT(v)?v(e):v;g!==e&&c.current?.(g)}else l(v)},[d,e,l,c]);return[h,p]}function vT({defaultProp:e,onChange:t}){const[r,n]=f.useState(e),o=f.useRef(r),l=f.useRef(t);return gT(()=>{l.current=t},[t]),f.useEffect(()=>{o.current!==r&&(l.current?.(r),o.current=r)},[r,o]),[r,n,l]}function xT(e){return typeof e=="function"}var j_=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),yT="VisuallyHidden",Ri=f.forwardRef((e,t)=>s.jsx(st.span,{...e,ref:t,style:{...j_,...e.style}}));Ri.displayName=yT;var wT=Ri,mg="ToastProvider",[pg,_T,bT]=ah("Toast"),[N_]=vn("Toast",[bT]),[jT,oh]=N_(mg),S_=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:o="right",swipeThreshold:l=50,children:c}=e,[d,h]=f.useState(null),[p,v]=f.useState(0),g=f.useRef(!1),y=f.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${mg}\`. Expected non-empty \`string\`.`),s.jsx(pg.Provider,{scope:t,children:s.jsx(jT,{scope:t,label:r,duration:n,swipeDirection:o,swipeThreshold:l,toastCount:p,viewport:d,onViewportChange:h,onToastAdd:f.useCallback(()=>v(b=>b+1),[]),onToastRemove:f.useCallback(()=>v(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:y,children:c})})};S_.displayName=mg;var E_="ToastViewport",NT=["F8"],hp="toast.viewportPause",fp="toast.viewportResume",k_=f.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=NT,label:o="Notifications ({hotkey})",...l}=e,c=oh(E_,r),d=_T(r),h=f.useRef(null),p=f.useRef(null),v=f.useRef(null),g=f.useRef(null),y=wt(t,g,c.onViewportChange),b=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=c.toastCount>0;f.useEffect(()=>{const j=k=>{n.length!==0&&n.every(E=>k[E]||k.code===E)&&g.current?.focus()};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[n]),f.useEffect(()=>{const j=h.current,k=g.current;if(S&&j&&k){const C=()=>{if(!c.isClosePausedRef.current){const R=new CustomEvent(hp);k.dispatchEvent(R),c.isClosePausedRef.current=!0}},E=()=>{if(c.isClosePausedRef.current){const R=new CustomEvent(fp);k.dispatchEvent(R),c.isClosePausedRef.current=!1}},N=R=>{!j.contains(R.relatedTarget)&&E()},O=()=>{j.contains(document.activeElement)||E()};return j.addEventListener("focusin",C),j.addEventListener("focusout",N),j.addEventListener("pointermove",C),j.addEventListener("pointerleave",O),window.addEventListener("blur",C),window.addEventListener("focus",E),()=>{j.removeEventListener("focusin",C),j.removeEventListener("focusout",N),j.removeEventListener("pointermove",C),j.removeEventListener("pointerleave",O),window.removeEventListener("blur",C),window.removeEventListener("focus",E)}}},[S,c.isClosePausedRef]);const _=f.useCallback(({tabbingDirection:j})=>{const C=d().map(E=>{const N=E.ref.current,O=[N,...LT(N)];return j==="forwards"?O:O.reverse()});return(j==="forwards"?C.reverse():C).flat()},[d]);return f.useEffect(()=>{const j=g.current;if(j){const k=C=>{const E=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!E){const O=document.activeElement,R=C.shiftKey;if(C.target===j&&R){p.current?.focus();return}const Z=_({tabbingDirection:R?"backwards":"forwards"}),B=Z.findIndex(X=>X===O);Am(Z.slice(B+1))?C.preventDefault():R?p.current?.focus():v.current?.focus()}};return j.addEventListener("keydown",k),()=>j.removeEventListener("keydown",k)}},[d,_]),s.jsxs(dT,{ref:h,role:"region","aria-label":o.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&s.jsx(mp,{ref:p,onFocusFromOutsideViewport:()=>{const j=_({tabbingDirection:"forwards"});Am(j)}}),s.jsx(pg.Slot,{scope:r,children:s.jsx(st.ol,{tabIndex:-1,...l,ref:y})}),S&&s.jsx(mp,{ref:v,onFocusFromOutsideViewport:()=>{const j=_({tabbingDirection:"backwards"});Am(j)}})]})});k_.displayName=E_;var C_="ToastFocusProxy",mp=f.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...o}=e,l=oh(C_,r);return s.jsx(Ri,{tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:c=>{const d=c.relatedTarget;!l.viewport?.contains(d)&&n()}})});mp.displayName=C_;var Nc="Toast",ST="toast.swipeStart",ET="toast.swipeMove",kT="toast.swipeCancel",CT="toast.swipeEnd",T_=f.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:o,onOpenChange:l,...c}=e,[d,h]=Is({prop:n,defaultProp:o??!0,onChange:l,caller:Nc});return s.jsx(qr,{present:r||d,children:s.jsx(AT,{open:d,...c,ref:t,onClose:()=>h(!1),onPause:_r(e.onPause),onResume:_r(e.onResume),onSwipeStart:Ee(e.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ee(e.onSwipeMove,p=>{const{x:v,y:g}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${v}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:Ee(e.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ee(e.onSwipeEnd,p=>{const{x:v,y:g}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${v}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),h(!1)})})})});T_.displayName=Nc;var[TT,RT]=N_(Nc,{onClose(){}}),AT=f.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:o,open:l,onClose:c,onEscapeKeyDown:d,onPause:h,onResume:p,onSwipeStart:v,onSwipeMove:g,onSwipeCancel:y,onSwipeEnd:b,...S}=e,_=oh(Nc,r),[j,k]=f.useState(null),C=wt(t,U=>k(U)),E=f.useRef(null),N=f.useRef(null),O=o||_.duration,R=f.useRef(0),P=f.useRef(O),I=f.useRef(0),{onToastAdd:Z,onToastRemove:B}=_,X=_r(()=>{j?.contains(document.activeElement)&&_.viewport?.focus(),c()}),z=f.useCallback(U=>{!U||U===1/0||(window.clearTimeout(I.current),R.current=new Date().getTime(),I.current=window.setTimeout(X,U))},[X]);f.useEffect(()=>{const U=_.viewport;if(U){const le=()=>{z(P.current),p?.()},V=()=>{const ee=new Date().getTime()-R.current;P.current=P.current-ee,window.clearTimeout(I.current),h?.()};return U.addEventListener(hp,V),U.addEventListener(fp,le),()=>{U.removeEventListener(hp,V),U.removeEventListener(fp,le)}}},[_.viewport,O,h,p,z]),f.useEffect(()=>{l&&!_.isClosePausedRef.current&&z(O)},[l,O,_.isClosePausedRef,z]),f.useEffect(()=>(Z(),()=>B()),[Z,B]);const F=f.useMemo(()=>j?M_(j):null,[j]);return _.viewport?s.jsxs(s.Fragment,{children:[F&&s.jsx(PT,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:F}),s.jsx(TT,{scope:r,onClose:X,children:Bi.createPortal(s.jsx(pg.ItemSlot,{scope:r,children:s.jsx(uT,{asChild:!0,onEscapeKeyDown:Ee(d,()=>{_.isFocusedToastEscapeKeyDownRef.current||X(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(st.li,{tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":_.swipeDirection,...S,ref:C,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ee(e.onKeyDown,U=>{U.key==="Escape"&&(d?.(U.nativeEvent),U.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,X()))}),onPointerDown:Ee(e.onPointerDown,U=>{U.button===0&&(E.current={x:U.clientX,y:U.clientY})}),onPointerMove:Ee(e.onPointerMove,U=>{if(!E.current)return;const le=U.clientX-E.current.x,V=U.clientY-E.current.y,ee=!!N.current,D=["left","right"].includes(_.swipeDirection),H=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,te=D?H(0,le):0,A=D?0:H(0,V),$=U.pointerType==="touch"?10:2,J={x:te,y:A},ce={originalEvent:U,delta:J};ee?(N.current=J,rd(ET,g,ce,{discrete:!1})):iw(J,_.swipeDirection,$)?(N.current=J,rd(ST,v,ce,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(le)>$||Math.abs(V)>$)&&(E.current=null)}),onPointerUp:Ee(e.onPointerUp,U=>{const le=N.current,V=U.target;if(V.hasPointerCapture(U.pointerId)&&V.releasePointerCapture(U.pointerId),N.current=null,E.current=null,le){const ee=U.currentTarget,D={originalEvent:U,delta:le};iw(le,_.swipeDirection,_.swipeThreshold)?rd(CT,b,D,{discrete:!0}):rd(kT,y,D,{discrete:!0}),ee.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),PT=e=>{const{__scopeToast:t,children:r,...n}=e,o=oh(Nc,t),[l,c]=f.useState(!1),[d,h]=f.useState(!1);return IT(()=>c(!0)),f.useEffect(()=>{const p=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(p)},[]),d?null:s.jsx(zi,{asChild:!0,children:s.jsx(Ri,{...n,children:l&&s.jsxs(s.Fragment,{children:[o.label," ",r]})})})},OT="ToastTitle",R_=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(st.div,{...n,ref:t})});R_.displayName=OT;var DT="ToastDescription",A_=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(st.div,{...n,ref:t})});A_.displayName=DT;var P_="ToastAction",O_=f.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(I_,{altText:r,asChild:!0,children:s.jsx(gg,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${P_}\`. Expected non-empty \`string\`.`),null)});O_.displayName=P_;var D_="ToastClose",gg=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,o=RT(D_,r);return s.jsx(I_,{asChild:!0,children:s.jsx(st.button,{type:"button",...n,ref:t,onClick:Ee(e.onClick,o.onClose)})})});gg.displayName=D_;var I_=f.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...o}=e;return s.jsx(st.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...o,ref:t})});function M_(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),MT(n)){const o=n.ariaHidden||n.hidden||n.style.display==="none",l=n.dataset.radixToastAnnounceExclude==="";if(!o)if(l){const c=n.dataset.radixToastAnnounceAlt;c&&t.push(c)}else t.push(...M_(n))}}),t}function rd(e,t,r,{discrete:n}){const o=r.originalEvent.currentTarget,l=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?fg(o,l):o.dispatchEvent(l)}var iw=(e,t,r=0)=>{const n=Math.abs(e.x),o=Math.abs(e.y),l=n>o;return t==="left"||t==="right"?l&&n>r:!l&&o>r};function IT(e=()=>{}){const t=_r(e);Sr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function MT(e){return e.nodeType===e.ELEMENT_NODE}function LT(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Am(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var $T=S_,L_=k_,$_=T_,F_=R_,U_=A_,B_=O_,z_=gg;function W_(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=W_(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function V_(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=W_(e))&&(n&&(n+=" "),n+=t);return n}const lw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,cw=V_,Sc=(e,t)=>r=>{var n;if(t?.variants==null)return cw(e,r?.class,r?.className);const{variants:o,defaultVariants:l}=t,c=Object.keys(o).map(p=>{const v=r?.[p],g=l?.[p];if(v===null)return null;const y=lw(v)||lw(g);return o[p][y]}),d=r&&Object.entries(r).reduce((p,v)=>{let[g,y]=v;return y===void 0||(p[g]=y),p},{}),h=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((p,v)=>{let{class:g,className:y,...b}=v;return Object.entries(b).every(S=>{let[_,j]=S;return Array.isArray(j)?j.includes({...l,...d}[_]):{...l,...d}[_]===j})?[...p,g,y]:p},[]);return cw(e,c,h,r?.class,r?.className)};const FT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UT=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),uw=e=>{const t=UT(e);return t.charAt(0).toUpperCase()+t.slice(1)},q_=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();var BT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const zT=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:l,iconNode:c,...d},h)=>f.createElement("svg",{ref:h,...BT,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:q_("lucide",o),...d},[...c.map(([p,v])=>f.createElement(p,v)),...Array.isArray(l)?l:[l]]));const Fe=(e,t)=>{const r=f.forwardRef(({className:n,...o},l)=>f.createElement(zT,{ref:l,iconNode:t,className:q_(`lucide-${FT(uw(e))}`,`lucide-${e}`,n),...o}));return r.displayName=uw(e),r};const WT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],H_=Fe("arrow-left",WT);const VT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],qT=Fe("arrow-right",VT);const HT=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],G_=Fe("award",HT);const GT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],dw=Fe("book-open",GT);const KT=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],vg=Fe("bookmark",KT);const YT=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],ys=Fe("briefcase",YT);const QT=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],hw=Fe("building-2",QT);const JT=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],xg=Fe("calendar",JT);const ZT=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],XT=Fe("chart-column",ZT);const eR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ih=Fe("check",eR);const tR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],K_=Fe("chevron-down",tR);const rR=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],nR=Fe("chevron-left",rR);const sR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Y_=Fe("chevron-right",sR);const aR=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],oR=Fe("chevron-up",aR);const iR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Q_=Fe("circle-check-big",iR);const lR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],cR=Fe("circle-check",lR);const uR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],lh=Fe("circle",uR);const dR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],J_=Fe("clock",dR);const hR=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],fw=Fe("dollar-sign",hR);const fR=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],yg=Fe("download",fR);const mR=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],ch=Fe("ellipsis-vertical",mR);const pR=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],pp=Fe("external-link",pR);const gR=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wg=Fe("eye",gR);const vR=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],xR=Fe("file-spreadsheet",vR);const yR=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Da=Fe("file-text",yR);const wR=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Z_=Fe("funnel",wR);const _R=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],tc=Fe("graduation-cap",_R);const bR=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],jR=Fe("handshake",bR);const NR=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],rc=Fe("heart",NR);const SR=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],X_=Fe("image",SR);const ER=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],kR=Fe("instagram",ER);const CR=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],TR=Fe("link",CR);const RR=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],AR=Fe("linkedin",RR);const PR=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],qt=Fe("loader-circle",PR);const OR=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],gp=Fe("log-out",OR);const DR=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],eb=Fe("mail",DR);const IR=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ad=Fe("map-pin",IR);const MR=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],tb=Fe("menu",MR);const LR=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],rb=Fe("message-circle",LR);const $R=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Eo=Fe("message-square",$R);const FR=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],UR=Fe("network",FR);const BR=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],mw=Fe("paperclip",BR);const zR=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],nb=Fe("pen",zR);const WR=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],sb=Fe("pencil",WR);const VR=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],qR=Fe("phone",VR);const HR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ko=Fe("plus",HR);const GR=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],_g=Fe("search",GR);const KR=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],bg=Fe("send",KR);const YR=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],jg=Fe("share-2",YR);const QR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],JR=Fe("shield",QR);const ZR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],ab=Fe("smile",ZR);const XR=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],e2=Fe("sparkles",XR);const t2=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ng=Fe("square-pen",t2);const r2=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],n2=Fe("star",r2);const s2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],a2=Fe("target",s2);const o2=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],vp=Fe("thumbs-up",o2);const i2=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ws=Fe("trash-2",i2);const l2=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],c2=Fe("trending-up",l2);const u2=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],xp=Fe("trophy",u2);const d2=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],h2=Fe("twitter",d2);const f2=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],ob=Fe("upload",f2);const m2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],bi=Fe("user-check",m2);const p2=[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]],yp=Fe("user-cog",p2);const g2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ib=Fe("user-minus",g2);const v2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],nc=Fe("user-plus",v2);const x2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],nd=Fe("user-x",x2);const y2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],wp=Fe("user",y2);const w2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Vr=Fe("users",w2);const _2=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],lb=Fe("video",_2);const b2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fs=Fe("x",b2),j2=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},N2=(e,t)=>({classGroupId:e,validator:t}),cb=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),Pd="-",pw=[],S2="arbitrary..",E2=e=>{const t=C2(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return k2(c);const d=c.split(Pd),h=d[0]===""&&d.length>1?1:0;return ub(d,h,t)},getConflictingClassGroupIds:(c,d)=>{if(d){const h=n[c],p=r[c];return h?p?j2(p,h):h:p||pw}return r[c]||pw}}},ub=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const o=e[t],l=r.nextPart.get(o);if(l){const p=ub(e,t+1,l);if(p)return p}const c=r.validators;if(c===null)return;const d=t===0?e.join(Pd):e.slice(t).join(Pd),h=c.length;for(let p=0;p<h;p++){const v=c[p];if(v.validator(d))return v.classGroupId}},k2=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?S2+n:void 0})(),C2=e=>{const{theme:t,classGroups:r}=e;return T2(r,t)},T2=(e,t)=>{const r=cb();for(const n in e){const o=e[n];Sg(o,r,n,t)}return r},Sg=(e,t,r,n)=>{const o=e.length;for(let l=0;l<o;l++){const c=e[l];R2(c,t,r,n)}},R2=(e,t,r,n)=>{if(typeof e=="string"){A2(e,t,r);return}if(typeof e=="function"){P2(e,t,r,n);return}O2(e,t,r,n)},A2=(e,t,r)=>{const n=e===""?t:db(t,e);n.classGroupId=r},P2=(e,t,r,n)=>{if(D2(e)){Sg(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(N2(r,e))},O2=(e,t,r,n)=>{const o=Object.entries(e),l=o.length;for(let c=0;c<l;c++){const[d,h]=o[c];Sg(h,db(t,d),r,n)}},db=(e,t)=>{let r=e;const n=t.split(Pd),o=n.length;for(let l=0;l<o;l++){const c=n[l];let d=r.nextPart.get(c);d||(d=cb(),r.nextPart.set(c,d)),r=d}return r},D2=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,I2=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const o=(l,c)=>{r[l]=c,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(l){let c=r[l];if(c!==void 0)return c;if((c=n[l])!==void 0)return o(l,c),c},set(l,c){l in r?r[l]=c:o(l,c)}}},_p="!",gw=":",M2=[],vw=(e,t,r,n,o)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:o}),L2=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=o=>{const l=[];let c=0,d=0,h=0,p;const v=o.length;for(let _=0;_<v;_++){const j=o[_];if(c===0&&d===0){if(j===gw){l.push(o.slice(h,_)),h=_+1;continue}if(j==="/"){p=_;continue}}j==="["?c++:j==="]"?c--:j==="("?d++:j===")"&&d--}const g=l.length===0?o:o.slice(h);let y=g,b=!1;g.endsWith(_p)?(y=g.slice(0,-1),b=!0):g.startsWith(_p)&&(y=g.slice(1),b=!0);const S=p&&p>h?p-h:void 0;return vw(l,b,y,S)};if(t){const o=t+gw,l=n;n=c=>c.startsWith(o)?l(c.slice(o.length)):vw(M2,!1,c,void 0,!0)}if(r){const o=n;n=l=>r({className:l,parseClassName:o})}return n},$2=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let o=[];for(let l=0;l<r.length;l++){const c=r[l],d=c[0]==="[",h=t.has(c);d||h?(o.length>0&&(o.sort(),n.push(...o),o=[]),n.push(c)):o.push(c)}return o.length>0&&(o.sort(),n.push(...o)),n}},F2=e=>({cache:I2(e.cacheSize),parseClassName:L2(e),sortModifiers:$2(e),...E2(e)}),U2=/\s+/,B2=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o,sortModifiers:l}=t,c=[],d=e.trim().split(U2);let h="";for(let p=d.length-1;p>=0;p-=1){const v=d[p],{isExternal:g,modifiers:y,hasImportantModifier:b,baseClassName:S,maybePostfixModifierPosition:_}=r(v);if(g){h=v+(h.length>0?" "+h:h);continue}let j=!!_,k=n(j?S.substring(0,_):S);if(!k){if(!j){h=v+(h.length>0?" "+h:h);continue}if(k=n(S),!k){h=v+(h.length>0?" "+h:h);continue}j=!1}const C=y.length===0?"":y.length===1?y[0]:l(y).join(":"),E=b?C+_p:C,N=E+k;if(c.indexOf(N)>-1)continue;c.push(N);const O=o(k,j);for(let R=0;R<O.length;++R){const P=O[R];c.push(E+P)}h=v+(h.length>0?" "+h:h)}return h},z2=(...e)=>{let t=0,r,n,o="";for(;t<e.length;)(r=e[t++])&&(n=hb(r))&&(o&&(o+=" "),o+=n);return o},hb=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=hb(e[n]))&&(r&&(r+=" "),r+=t);return r},W2=(e,...t)=>{let r,n,o,l;const c=h=>{const p=t.reduce((v,g)=>g(v),e());return r=F2(p),n=r.cache.get,o=r.cache.set,l=d,d(h)},d=h=>{const p=n(h);if(p)return p;const v=B2(h,r);return o(h,v),v};return l=c,(...h)=>l(z2(...h))},V2=[],Mr=e=>{const t=r=>r[e]||V2;return t.isThemeGetter=!0,t},fb=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,mb=/^\((?:(\w[\w-]*):)?(.+)\)$/i,q2=/^\d+\/\d+$/,H2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,G2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,K2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Y2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Q2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,oi=e=>q2.test(e),Et=e=>!!e&&!Number.isNaN(Number(e)),Ra=e=>!!e&&Number.isInteger(Number(e)),Pm=e=>e.endsWith("%")&&Et(e.slice(0,-1)),Js=e=>H2.test(e),J2=()=>!0,Z2=e=>G2.test(e)&&!K2.test(e),pb=()=>!1,X2=e=>Y2.test(e),eA=e=>Q2.test(e),tA=e=>!ze(e)&&!We(e),rA=e=>Wi(e,xb,pb),ze=e=>fb.test(e),mo=e=>Wi(e,yb,Z2),Om=e=>Wi(e,iA,Et),xw=e=>Wi(e,gb,pb),nA=e=>Wi(e,vb,eA),sd=e=>Wi(e,wb,X2),We=e=>mb.test(e),Fl=e=>Vi(e,yb),sA=e=>Vi(e,lA),yw=e=>Vi(e,gb),aA=e=>Vi(e,xb),oA=e=>Vi(e,vb),ad=e=>Vi(e,wb,!0),Wi=(e,t,r)=>{const n=fb.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Vi=(e,t,r=!1)=>{const n=mb.exec(e);return n?n[1]?t(n[1]):r:!1},gb=e=>e==="position"||e==="percentage",vb=e=>e==="image"||e==="url",xb=e=>e==="length"||e==="size"||e==="bg-size",yb=e=>e==="length",iA=e=>e==="number",lA=e=>e==="family-name",wb=e=>e==="shadow",cA=()=>{const e=Mr("color"),t=Mr("font"),r=Mr("text"),n=Mr("font-weight"),o=Mr("tracking"),l=Mr("leading"),c=Mr("breakpoint"),d=Mr("container"),h=Mr("spacing"),p=Mr("radius"),v=Mr("shadow"),g=Mr("inset-shadow"),y=Mr("text-shadow"),b=Mr("drop-shadow"),S=Mr("blur"),_=Mr("perspective"),j=Mr("aspect"),k=Mr("ease"),C=Mr("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],O=()=>[...N(),We,ze],R=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],I=()=>[We,ze,h],Z=()=>[oi,"full","auto",...I()],B=()=>[Ra,"none","subgrid",We,ze],X=()=>["auto",{span:["full",Ra,We,ze]},Ra,We,ze],z=()=>[Ra,"auto",We,ze],F=()=>["auto","min","max","fr",We,ze],U=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],le=()=>["start","end","center","stretch","center-safe","end-safe"],V=()=>["auto",...I()],ee=()=>[oi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],D=()=>[e,We,ze],H=()=>[...N(),yw,xw,{position:[We,ze]}],te=()=>["no-repeat",{repeat:["","x","y","space","round"]}],A=()=>["auto","cover","contain",aA,rA,{size:[We,ze]}],$=()=>[Pm,Fl,mo],J=()=>["","none","full",p,We,ze],ce=()=>["",Et,Fl,mo],G=()=>["solid","dashed","dotted","double"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],oe=()=>[Et,Pm,yw,xw],ue=()=>["","none",S,We,ze],Re=()=>["none",Et,We,ze],ve=()=>["none",Et,We,ze],re=()=>[Et,We,ze],he=()=>[oi,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Js],breakpoint:[Js],color:[J2],container:[Js],"drop-shadow":[Js],ease:["in","out","in-out"],font:[tA],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Js],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Js],shadow:[Js],spacing:["px",Et],text:[Js],"text-shadow":[Js],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",oi,ze,We,j]}],container:["container"],columns:[{columns:[Et,ze,We,d]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:O()}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Z()}],"inset-x":[{"inset-x":Z()}],"inset-y":[{"inset-y":Z()}],start:[{start:Z()}],end:[{end:Z()}],top:[{top:Z()}],right:[{right:Z()}],bottom:[{bottom:Z()}],left:[{left:Z()}],visibility:["visible","invisible","collapse"],z:[{z:[Ra,"auto",We,ze]}],basis:[{basis:[oi,"full","auto",d,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Et,oi,"auto","initial","none",ze]}],grow:[{grow:["",Et,We,ze]}],shrink:[{shrink:["",Et,We,ze]}],order:[{order:[Ra,"first","last","none",We,ze]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:X()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:X()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":F()}],"auto-rows":[{"auto-rows":F()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...U(),"normal"]}],"justify-items":[{"justify-items":[...le(),"normal"]}],"justify-self":[{"justify-self":["auto",...le()]}],"align-content":[{content:["normal",...U()]}],"align-items":[{items:[...le(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...le(),{baseline:["","last"]}]}],"place-content":[{"place-content":U()}],"place-items":[{"place-items":[...le(),"baseline"]}],"place-self":[{"place-self":["auto",...le()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:V()}],mx:[{mx:V()}],my:[{my:V()}],ms:[{ms:V()}],me:[{me:V()}],mt:[{mt:V()}],mr:[{mr:V()}],mb:[{mb:V()}],ml:[{ml:V()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[d,"screen",...ee()]}],"min-w":[{"min-w":[d,"screen","none",...ee()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...ee()]}],h:[{h:["screen","lh",...ee()]}],"min-h":[{"min-h":["screen","lh","none",...ee()]}],"max-h":[{"max-h":["screen","lh",...ee()]}],"font-size":[{text:["base",r,Fl,mo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,We,Om]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Pm,ze]}],"font-family":[{font:[sA,ze,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,We,ze]}],"line-clamp":[{"line-clamp":[Et,"none",We,Om]}],leading:[{leading:[l,...I()]}],"list-image":[{"list-image":["none",We,ze]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",We,ze]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:D()}],"text-color":[{text:D()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:[Et,"from-font","auto",We,mo]}],"text-decoration-color":[{decoration:D()}],"underline-offset":[{"underline-offset":[Et,"auto",We,ze]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",We,ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",We,ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:H()}],"bg-repeat":[{bg:te()}],"bg-size":[{bg:A()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ra,We,ze],radial:["",We,ze],conic:[Ra,We,ze]},oA,nA]}],"bg-color":[{bg:D()}],"gradient-from-pos":[{from:$()}],"gradient-via-pos":[{via:$()}],"gradient-to-pos":[{to:$()}],"gradient-from":[{from:D()}],"gradient-via":[{via:D()}],"gradient-to":[{to:D()}],rounded:[{rounded:J()}],"rounded-s":[{"rounded-s":J()}],"rounded-e":[{"rounded-e":J()}],"rounded-t":[{"rounded-t":J()}],"rounded-r":[{"rounded-r":J()}],"rounded-b":[{"rounded-b":J()}],"rounded-l":[{"rounded-l":J()}],"rounded-ss":[{"rounded-ss":J()}],"rounded-se":[{"rounded-se":J()}],"rounded-ee":[{"rounded-ee":J()}],"rounded-es":[{"rounded-es":J()}],"rounded-tl":[{"rounded-tl":J()}],"rounded-tr":[{"rounded-tr":J()}],"rounded-br":[{"rounded-br":J()}],"rounded-bl":[{"rounded-bl":J()}],"border-w":[{border:ce()}],"border-w-x":[{"border-x":ce()}],"border-w-y":[{"border-y":ce()}],"border-w-s":[{"border-s":ce()}],"border-w-e":[{"border-e":ce()}],"border-w-t":[{"border-t":ce()}],"border-w-r":[{"border-r":ce()}],"border-w-b":[{"border-b":ce()}],"border-w-l":[{"border-l":ce()}],"divide-x":[{"divide-x":ce()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ce()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...G(),"hidden","none"]}],"divide-style":[{divide:[...G(),"hidden","none"]}],"border-color":[{border:D()}],"border-color-x":[{"border-x":D()}],"border-color-y":[{"border-y":D()}],"border-color-s":[{"border-s":D()}],"border-color-e":[{"border-e":D()}],"border-color-t":[{"border-t":D()}],"border-color-r":[{"border-r":D()}],"border-color-b":[{"border-b":D()}],"border-color-l":[{"border-l":D()}],"divide-color":[{divide:D()}],"outline-style":[{outline:[...G(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Et,We,ze]}],"outline-w":[{outline:["",Et,Fl,mo]}],"outline-color":[{outline:D()}],shadow:[{shadow:["","none",v,ad,sd]}],"shadow-color":[{shadow:D()}],"inset-shadow":[{"inset-shadow":["none",g,ad,sd]}],"inset-shadow-color":[{"inset-shadow":D()}],"ring-w":[{ring:ce()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:D()}],"ring-offset-w":[{"ring-offset":[Et,mo]}],"ring-offset-color":[{"ring-offset":D()}],"inset-ring-w":[{"inset-ring":ce()}],"inset-ring-color":[{"inset-ring":D()}],"text-shadow":[{"text-shadow":["none",y,ad,sd]}],"text-shadow-color":[{"text-shadow":D()}],opacity:[{opacity:[Et,We,ze]}],"mix-blend":[{"mix-blend":[...pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Et]}],"mask-image-linear-from-pos":[{"mask-linear-from":oe()}],"mask-image-linear-to-pos":[{"mask-linear-to":oe()}],"mask-image-linear-from-color":[{"mask-linear-from":D()}],"mask-image-linear-to-color":[{"mask-linear-to":D()}],"mask-image-t-from-pos":[{"mask-t-from":oe()}],"mask-image-t-to-pos":[{"mask-t-to":oe()}],"mask-image-t-from-color":[{"mask-t-from":D()}],"mask-image-t-to-color":[{"mask-t-to":D()}],"mask-image-r-from-pos":[{"mask-r-from":oe()}],"mask-image-r-to-pos":[{"mask-r-to":oe()}],"mask-image-r-from-color":[{"mask-r-from":D()}],"mask-image-r-to-color":[{"mask-r-to":D()}],"mask-image-b-from-pos":[{"mask-b-from":oe()}],"mask-image-b-to-pos":[{"mask-b-to":oe()}],"mask-image-b-from-color":[{"mask-b-from":D()}],"mask-image-b-to-color":[{"mask-b-to":D()}],"mask-image-l-from-pos":[{"mask-l-from":oe()}],"mask-image-l-to-pos":[{"mask-l-to":oe()}],"mask-image-l-from-color":[{"mask-l-from":D()}],"mask-image-l-to-color":[{"mask-l-to":D()}],"mask-image-x-from-pos":[{"mask-x-from":oe()}],"mask-image-x-to-pos":[{"mask-x-to":oe()}],"mask-image-x-from-color":[{"mask-x-from":D()}],"mask-image-x-to-color":[{"mask-x-to":D()}],"mask-image-y-from-pos":[{"mask-y-from":oe()}],"mask-image-y-to-pos":[{"mask-y-to":oe()}],"mask-image-y-from-color":[{"mask-y-from":D()}],"mask-image-y-to-color":[{"mask-y-to":D()}],"mask-image-radial":[{"mask-radial":[We,ze]}],"mask-image-radial-from-pos":[{"mask-radial-from":oe()}],"mask-image-radial-to-pos":[{"mask-radial-to":oe()}],"mask-image-radial-from-color":[{"mask-radial-from":D()}],"mask-image-radial-to-color":[{"mask-radial-to":D()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":N()}],"mask-image-conic-pos":[{"mask-conic":[Et]}],"mask-image-conic-from-pos":[{"mask-conic-from":oe()}],"mask-image-conic-to-pos":[{"mask-conic-to":oe()}],"mask-image-conic-from-color":[{"mask-conic-from":D()}],"mask-image-conic-to-color":[{"mask-conic-to":D()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:H()}],"mask-repeat":[{mask:te()}],"mask-size":[{mask:A()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",We,ze]}],filter:[{filter:["","none",We,ze]}],blur:[{blur:ue()}],brightness:[{brightness:[Et,We,ze]}],contrast:[{contrast:[Et,We,ze]}],"drop-shadow":[{"drop-shadow":["","none",b,ad,sd]}],"drop-shadow-color":[{"drop-shadow":D()}],grayscale:[{grayscale:["",Et,We,ze]}],"hue-rotate":[{"hue-rotate":[Et,We,ze]}],invert:[{invert:["",Et,We,ze]}],saturate:[{saturate:[Et,We,ze]}],sepia:[{sepia:["",Et,We,ze]}],"backdrop-filter":[{"backdrop-filter":["","none",We,ze]}],"backdrop-blur":[{"backdrop-blur":ue()}],"backdrop-brightness":[{"backdrop-brightness":[Et,We,ze]}],"backdrop-contrast":[{"backdrop-contrast":[Et,We,ze]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Et,We,ze]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Et,We,ze]}],"backdrop-invert":[{"backdrop-invert":["",Et,We,ze]}],"backdrop-opacity":[{"backdrop-opacity":[Et,We,ze]}],"backdrop-saturate":[{"backdrop-saturate":[Et,We,ze]}],"backdrop-sepia":[{"backdrop-sepia":["",Et,We,ze]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",We,ze]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Et,"initial",We,ze]}],ease:[{ease:["linear","initial",k,We,ze]}],delay:[{delay:[Et,We,ze]}],animate:[{animate:["none",C,We,ze]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,We,ze]}],"perspective-origin":[{"perspective-origin":O()}],rotate:[{rotate:Re()}],"rotate-x":[{"rotate-x":Re()}],"rotate-y":[{"rotate-y":Re()}],"rotate-z":[{"rotate-z":Re()}],scale:[{scale:ve()}],"scale-x":[{"scale-x":ve()}],"scale-y":[{"scale-y":ve()}],"scale-z":[{"scale-z":ve()}],"scale-3d":["scale-3d"],skew:[{skew:re()}],"skew-x":[{"skew-x":re()}],"skew-y":[{"skew-y":re()}],transform:[{transform:[We,ze,"","none","gpu","cpu"]}],"transform-origin":[{origin:O()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:he()}],"translate-x":[{"translate-x":he()}],"translate-y":[{"translate-y":he()}],"translate-z":[{"translate-z":he()}],"translate-none":["translate-none"],accent:[{accent:D()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:D()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",We,ze]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",We,ze]}],fill:[{fill:["none",...D()]}],"stroke-w":[{stroke:[Et,Fl,mo,Om]}],stroke:[{stroke:["none",...D()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},uA=W2(cA);function Ae(...e){return uA(V_(e))}const dA=$T,_b=f.forwardRef(({className:e,...t},r)=>s.jsx(L_,{ref:r,className:Ae("fixed bottom-4 left-1/2 z-[100] flex max-h-screen w-full max-w-[420px] -translate-x-1/2 flex-col gap-2 p-4 sm:bottom-6",e),...t}));_b.displayName=L_.displayName;const hA=Sc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),bb=f.forwardRef(({className:e,variant:t,...r},n)=>s.jsx($_,{ref:n,className:Ae(hA({variant:t}),e),...r}));bb.displayName=$_.displayName;const fA=f.forwardRef(({className:e,...t},r)=>s.jsx(B_,{ref:r,className:Ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));fA.displayName=B_.displayName;const jb=f.forwardRef(({className:e,...t},r)=>s.jsx(z_,{ref:r,className:Ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Fs,{className:"h-4 w-4"})}));jb.displayName=z_.displayName;const Nb=f.forwardRef(({className:e,...t},r)=>s.jsx(F_,{ref:r,className:Ae("text-sm font-semibold",e),...t}));Nb.displayName=F_.displayName;const Sb=f.forwardRef(({className:e,...t},r)=>s.jsx(U_,{ref:r,className:Ae("text-sm opacity-90",e),...t}));Sb.displayName=U_.displayName;function mA(){const{toasts:e}=Or();return s.jsxs(dA,{children:[e.map(function({id:t,title:r,description:n,action:o,...l}){return s.jsxs(bb,{...l,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(Nb,{children:r}),n&&s.jsx(Sb,{children:n})]}),o,s.jsx(jb,{})]},t)}),s.jsx(_b,{})]})}var pA=(e,t,r,n,o,l,c,d)=>{let h=document.documentElement,p=["light","dark"];function v(b){(Array.isArray(e)?e:[e]).forEach(S=>{let _=S==="class",j=_&&l?o.map(k=>l[k]||k):o;_?(h.classList.remove(...j),h.classList.add(l&&l[b]?l[b]:b)):h.setAttribute(S,b)}),g(b)}function g(b){d&&p.includes(b)&&(h.style.colorScheme=b)}function y(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)v(n);else try{let b=localStorage.getItem(t)||r,S=c&&b==="system"?y():b;v(S)}catch{}},gA=f.createContext(void 0),vA={setTheme:e=>{},themes:[]},xA=()=>{var e;return(e=f.useContext(gA))!=null?e:vA};f.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:o,defaultTheme:l,value:c,themes:d,nonce:h,scriptProps:p})=>{let v=JSON.stringify([r,t,l,e,d,c,n,o]).slice(1,-1);return f.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?h:"",dangerouslySetInnerHTML:{__html:`(${pA.toString()})(${v})`}})});function yA(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const wA=e=>{switch(e){case"success":return jA;case"info":return SA;case"warning":return NA;case"error":return EA;default:return null}},_A=Array(12).fill(0),bA=({visible:e,className:t})=>Ce.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Ce.createElement("div",{className:"sonner-spinner"},_A.map((r,n)=>Ce.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),jA=Ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ce.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),NA=Ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ce.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),SA=Ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),EA=Ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),kA=Ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ce.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ce.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),CA=()=>{const[e,t]=Ce.useState(document.hidden);return Ce.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let bp=1;class TA{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...o}=t,l=typeof t?.id=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:bp++,c=this.toasts.find(h=>h.id===l),d=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),c?this.toasts=this.toasts.map(h=>h.id===l?(this.publish({...h,...t,id:l,title:n}),{...h,...t,id:l,dismissible:d,title:n}):h):this.addToast({title:n,...o,dismissible:d,id:l}),l},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let l=n!==void 0,c;const d=o.then(async p=>{if(c=["resolve",p],Ce.isValidElement(p))l=!1,this.create({id:n,type:"default",message:p});else if(AA(p)&&!p.ok){l=!1;const g=typeof r.error=="function"?await r.error(`HTTP error! status: ${p.status}`):r.error,y=typeof r.description=="function"?await r.description(`HTTP error! status: ${p.status}`):r.description,S=typeof g=="object"&&!Ce.isValidElement(g)?g:{message:g};this.create({id:n,type:"error",description:y,...S})}else if(p instanceof Error){l=!1;const g=typeof r.error=="function"?await r.error(p):r.error,y=typeof r.description=="function"?await r.description(p):r.description,S=typeof g=="object"&&!Ce.isValidElement(g)?g:{message:g};this.create({id:n,type:"error",description:y,...S})}else if(r.success!==void 0){l=!1;const g=typeof r.success=="function"?await r.success(p):r.success,y=typeof r.description=="function"?await r.description(p):r.description,S=typeof g=="object"&&!Ce.isValidElement(g)?g:{message:g};this.create({id:n,type:"success",description:y,...S})}}).catch(async p=>{if(c=["reject",p],r.error!==void 0){l=!1;const v=typeof r.error=="function"?await r.error(p):r.error,g=typeof r.description=="function"?await r.description(p):r.description,b=typeof v=="object"&&!Ce.isValidElement(v)?v:{message:v};this.create({id:n,type:"error",description:g,...b})}}).finally(()=>{l&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),h=()=>new Promise((p,v)=>d.then(()=>c[0]==="reject"?v(c[1]):p(c[1])).catch(v));return typeof n!="string"&&typeof n!="number"?{unwrap:h}:Object.assign(n,{unwrap:h})},this.custom=(t,r)=>{const n=r?.id||bp++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Sn=new TA,RA=(e,t)=>{const r=t?.id||bp++;return Sn.addToast({title:e,...t,id:r}),r},AA=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",PA=RA,OA=()=>Sn.toasts,DA=()=>Sn.getActiveToasts();Object.assign(PA,{success:Sn.success,info:Sn.info,warning:Sn.warning,error:Sn.error,custom:Sn.custom,message:Sn.message,promise:Sn.promise,dismiss:Sn.dismiss,loading:Sn.loading},{getHistory:OA,getToasts:DA});yA("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function od(e){return e.label!==void 0}const IA=3,MA="24px",LA="16px",ww=4e3,$A=356,FA=14,UA=45,BA=200;function Ts(...e){return e.filter(Boolean).join(" ")}function zA(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const WA=e=>{var t,r,n,o,l,c,d,h,p;const{invert:v,toast:g,unstyled:y,interacting:b,setHeights:S,visibleToasts:_,heights:j,index:k,toasts:C,expanded:E,removeToast:N,defaultRichColors:O,closeButton:R,style:P,cancelButtonStyle:I,actionButtonStyle:Z,className:B="",descriptionClassName:X="",duration:z,position:F,gap:U,expandByDefault:le,classNames:V,icons:ee,closeButtonAriaLabel:D="Close toast"}=e,[H,te]=Ce.useState(null),[A,$]=Ce.useState(null),[J,ce]=Ce.useState(!1),[G,pe]=Ce.useState(!1),[oe,ue]=Ce.useState(!1),[Re,ve]=Ce.useState(!1),[re,he]=Ce.useState(!1),[Ne,dt]=Ce.useState(0),[pt,jt]=Ce.useState(0),St=Ce.useRef(g.duration||z||ww),De=Ce.useRef(null),Ze=Ce.useRef(null),Y=k===0,me=k+1<=_,He=g.type,at=g.dismissible!==!1,nt=g.className||"",dr=g.descriptionClassName||"",er=Ce.useMemo(()=>j.findIndex(fe=>fe.toastId===g.id)||0,[j,g.id]),zt=Ce.useMemo(()=>{var fe;return(fe=g.closeButton)!=null?fe:R},[g.closeButton,R]),se=Ce.useMemo(()=>g.duration||z||ww,[g.duration,z]),_e=Ce.useRef(0),Oe=Ce.useRef(0),Se=Ce.useRef(0),It=Ce.useRef(null),[Q,xe]=F.split("-"),Xe=Ce.useMemo(()=>j.reduce((fe,Pe,Ie)=>Ie>=er?fe:fe+Pe.height,0),[j,er]),it=CA(),Ot=g.invert||v,_t=He==="loading";Oe.current=Ce.useMemo(()=>er*U+Xe,[er,Xe]),Ce.useEffect(()=>{St.current=se},[se]),Ce.useEffect(()=>{ce(!0)},[]),Ce.useEffect(()=>{const fe=Ze.current;if(fe){const Pe=fe.getBoundingClientRect().height;return jt(Pe),S(Ie=>[{toastId:g.id,height:Pe,position:g.position},...Ie]),()=>S(Ie=>Ie.filter(et=>et.toastId!==g.id))}},[S,g.id]),Ce.useLayoutEffect(()=>{if(!J)return;const fe=Ze.current,Pe=fe.style.height;fe.style.height="auto";const Ie=fe.getBoundingClientRect().height;fe.style.height=Pe,jt(Ie),S(et=>et.find(lt=>lt.toastId===g.id)?et.map(lt=>lt.toastId===g.id?{...lt,height:Ie}:lt):[{toastId:g.id,height:Ie,position:g.position},...et])},[J,g.title,g.description,S,g.id,g.jsx,g.action,g.cancel]);const Mt=Ce.useCallback(()=>{pe(!0),dt(Oe.current),S(fe=>fe.filter(Pe=>Pe.toastId!==g.id)),setTimeout(()=>{N(g)},BA)},[g,N,S,Oe]);Ce.useEffect(()=>{if(g.promise&&He==="loading"||g.duration===1/0||g.type==="loading")return;let fe;return E||b||it?(()=>{if(Se.current<_e.current){const et=new Date().getTime()-_e.current;St.current=St.current-et}Se.current=new Date().getTime()})():St.current!==1/0&&(_e.current=new Date().getTime(),fe=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),Mt()},St.current)),()=>clearTimeout(fe)},[E,b,g,He,it,Mt]),Ce.useEffect(()=>{g.delete&&(Mt(),g.onDismiss==null||g.onDismiss.call(g,g))},[Mt,g.delete]);function Hr(){var fe;if(ee?.loading){var Pe;return Ce.createElement("div",{className:Ts(V?.loader,g==null||(Pe=g.classNames)==null?void 0:Pe.loader,"sonner-loader"),"data-visible":He==="loading"},ee.loading)}return Ce.createElement(bA,{className:Ts(V?.loader,g==null||(fe=g.classNames)==null?void 0:fe.loader),visible:He==="loading"})}const Fr=g.icon||ee?.[He]||wA(He);var br,ge;return Ce.createElement("li",{tabIndex:0,ref:Ze,className:Ts(B,nt,V?.toast,g==null||(t=g.classNames)==null?void 0:t.toast,V?.default,V?.[He],g==null||(r=g.classNames)==null?void 0:r[He]),"data-sonner-toast":"","data-rich-colors":(br=g.richColors)!=null?br:O,"data-styled":!(g.jsx||g.unstyled||y),"data-mounted":J,"data-promise":!!g.promise,"data-swiped":re,"data-removed":G,"data-visible":me,"data-y-position":Q,"data-x-position":xe,"data-index":k,"data-front":Y,"data-swiping":oe,"data-dismissible":at,"data-type":He,"data-invert":Ot,"data-swipe-out":Re,"data-swipe-direction":A,"data-expanded":!!(E||le&&J),"data-testid":g.testId,style:{"--index":k,"--toasts-before":k,"--z-index":C.length-k,"--offset":`${G?Ne:Oe.current}px`,"--initial-height":le?"auto":`${pt}px`,...P,...g.style},onDragEnd:()=>{ue(!1),te(null),It.current=null},onPointerDown:fe=>{fe.button!==2&&(_t||!at||(De.current=new Date,dt(Oe.current),fe.target.setPointerCapture(fe.pointerId),fe.target.tagName!=="BUTTON"&&(ue(!0),It.current={x:fe.clientX,y:fe.clientY})))},onPointerUp:()=>{var fe,Pe,Ie;if(Re||!at)return;It.current=null;const et=Number(((fe=Ze.current)==null?void 0:fe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),mt=Number(((Pe=Ze.current)==null?void 0:Pe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),lt=new Date().getTime()-((Ie=De.current)==null?void 0:Ie.getTime()),bt=H==="x"?et:mt,Yt=Math.abs(bt)/lt;if(Math.abs(bt)>=UA||Yt>.11){dt(Oe.current),g.onDismiss==null||g.onDismiss.call(g,g),$(H==="x"?et>0?"right":"left":mt>0?"down":"up"),Mt(),ve(!0);return}else{var vt,Wt;(vt=Ze.current)==null||vt.style.setProperty("--swipe-amount-x","0px"),(Wt=Ze.current)==null||Wt.style.setProperty("--swipe-amount-y","0px")}he(!1),ue(!1),te(null)},onPointerMove:fe=>{var Pe,Ie,et;if(!It.current||!at||((Pe=window.getSelection())==null?void 0:Pe.toString().length)>0)return;const lt=fe.clientY-It.current.y,bt=fe.clientX-It.current.x;var Yt;const vt=(Yt=e.swipeDirections)!=null?Yt:zA(F);!H&&(Math.abs(bt)>1||Math.abs(lt)>1)&&te(Math.abs(bt)>Math.abs(lt)?"x":"y");let Wt={x:0,y:0};const Nt=Dt=>1/(1.5+Math.abs(Dt)/20);if(H==="y"){if(vt.includes("top")||vt.includes("bottom"))if(vt.includes("top")&&lt<0||vt.includes("bottom")&&lt>0)Wt.y=lt;else{const Dt=lt*Nt(lt);Wt.y=Math.abs(Dt)<Math.abs(lt)?Dt:lt}}else if(H==="x"&&(vt.includes("left")||vt.includes("right")))if(vt.includes("left")&&bt<0||vt.includes("right")&&bt>0)Wt.x=bt;else{const Dt=bt*Nt(bt);Wt.x=Math.abs(Dt)<Math.abs(bt)?Dt:bt}(Math.abs(Wt.x)>0||Math.abs(Wt.y)>0)&&he(!0),(Ie=Ze.current)==null||Ie.style.setProperty("--swipe-amount-x",`${Wt.x}px`),(et=Ze.current)==null||et.style.setProperty("--swipe-amount-y",`${Wt.y}px`)}},zt&&!g.jsx&&He!=="loading"?Ce.createElement("button",{"aria-label":D,"data-disabled":_t,"data-close-button":!0,onClick:_t||!at?()=>{}:()=>{Mt(),g.onDismiss==null||g.onDismiss.call(g,g)},className:Ts(V?.closeButton,g==null||(n=g.classNames)==null?void 0:n.closeButton)},(ge=ee?.close)!=null?ge:kA):null,(He||g.icon||g.promise)&&g.icon!==null&&(ee?.[He]!==null||g.icon)?Ce.createElement("div",{"data-icon":"",className:Ts(V?.icon,g==null||(o=g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Hr():null,g.type!=="loading"?Fr:null):null,Ce.createElement("div",{"data-content":"",className:Ts(V?.content,g==null||(l=g.classNames)==null?void 0:l.content)},Ce.createElement("div",{"data-title":"",className:Ts(V?.title,g==null||(c=g.classNames)==null?void 0:c.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?Ce.createElement("div",{"data-description":"",className:Ts(X,dr,V?.description,g==null||(d=g.classNames)==null?void 0:d.description)},typeof g.description=="function"?g.description():g.description):null),Ce.isValidElement(g.cancel)?g.cancel:g.cancel&&od(g.cancel)?Ce.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||I,onClick:fe=>{od(g.cancel)&&at&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,fe),Mt())},className:Ts(V?.cancelButton,g==null||(h=g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,Ce.isValidElement(g.action)?g.action:g.action&&od(g.action)?Ce.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||Z,onClick:fe=>{od(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,fe),!fe.defaultPrevented&&Mt())},className:Ts(V?.actionButton,g==null||(p=g.classNames)==null?void 0:p.actionButton)},g.action.label):null)};function _w(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function VA(e,t){const r={};return[e,t].forEach((n,o)=>{const l=o===1,c=l?"--mobile-offset":"--offset",d=l?LA:MA;function h(p){["top","right","bottom","left"].forEach(v=>{r[`${c}-${v}`]=typeof p=="number"?`${p}px`:p})}typeof n=="number"||typeof n=="string"?h(n):typeof n=="object"?["top","right","bottom","left"].forEach(p=>{n[p]===void 0?r[`${c}-${p}`]=d:r[`${c}-${p}`]=typeof n[p]=="number"?`${n[p]}px`:n[p]}):h(d)}),r}const qA=Ce.forwardRef(function(t,r){const{id:n,invert:o,position:l="bottom-right",hotkey:c=["altKey","KeyT"],expand:d,closeButton:h,className:p,offset:v,mobileOffset:g,theme:y="light",richColors:b,duration:S,style:_,visibleToasts:j=IA,toastOptions:k,dir:C=_w(),gap:E=FA,icons:N,containerAriaLabel:O="Notifications"}=t,[R,P]=Ce.useState([]),I=Ce.useMemo(()=>n?R.filter(J=>J.toasterId===n):R.filter(J=>!J.toasterId),[R,n]),Z=Ce.useMemo(()=>Array.from(new Set([l].concat(I.filter(J=>J.position).map(J=>J.position)))),[I,l]),[B,X]=Ce.useState([]),[z,F]=Ce.useState(!1),[U,le]=Ce.useState(!1),[V,ee]=Ce.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),D=Ce.useRef(null),H=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),te=Ce.useRef(null),A=Ce.useRef(!1),$=Ce.useCallback(J=>{P(ce=>{var G;return(G=ce.find(pe=>pe.id===J.id))!=null&&G.delete||Sn.dismiss(J.id),ce.filter(({id:pe})=>pe!==J.id)})},[]);return Ce.useEffect(()=>Sn.subscribe(J=>{if(J.dismiss){requestAnimationFrame(()=>{P(ce=>ce.map(G=>G.id===J.id?{...G,delete:!0}:G))});return}setTimeout(()=>{y_.flushSync(()=>{P(ce=>{const G=ce.findIndex(pe=>pe.id===J.id);return G!==-1?[...ce.slice(0,G),{...ce[G],...J},...ce.slice(G+1)]:[J,...ce]})})})}),[R]),Ce.useEffect(()=>{if(y!=="system"){ee(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ee("dark"):ee("light")),typeof window>"u")return;const J=window.matchMedia("(prefers-color-scheme: dark)");try{J.addEventListener("change",({matches:ce})=>{ee(ce?"dark":"light")})}catch{J.addListener(({matches:G})=>{try{ee(G?"dark":"light")}catch(pe){console.error(pe)}})}},[y]),Ce.useEffect(()=>{R.length<=1&&F(!1)},[R]),Ce.useEffect(()=>{const J=ce=>{var G;if(c.every(ue=>ce[ue]||ce.code===ue)){var oe;F(!0),(oe=D.current)==null||oe.focus()}ce.code==="Escape"&&(document.activeElement===D.current||(G=D.current)!=null&&G.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[c]),Ce.useEffect(()=>{if(D.current)return()=>{te.current&&(te.current.focus({preventScroll:!0}),te.current=null,A.current=!1)}},[D.current]),Ce.createElement("section",{ref:r,"aria-label":`${O} ${H}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},Z.map((J,ce)=>{var G;const[pe,oe]=J.split("-");return I.length?Ce.createElement("ol",{key:J,dir:C==="auto"?_w():C,tabIndex:-1,ref:D,className:p,"data-sonner-toaster":!0,"data-sonner-theme":V,"data-y-position":pe,"data-x-position":oe,style:{"--front-toast-height":`${((G=B[0])==null?void 0:G.height)||0}px`,"--width":`${$A}px`,"--gap":`${E}px`,..._,...VA(v,g)},onBlur:ue=>{A.current&&!ue.currentTarget.contains(ue.relatedTarget)&&(A.current=!1,te.current&&(te.current.focus({preventScroll:!0}),te.current=null))},onFocus:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||A.current||(A.current=!0,te.current=ue.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{U||F(!1)},onDragEnd:()=>F(!1),onPointerDown:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||le(!0)},onPointerUp:()=>le(!1)},I.filter(ue=>!ue.position&&ce===0||ue.position===J).map((ue,Re)=>{var ve,re;return Ce.createElement(WA,{key:ue.id,icons:N,index:Re,toast:ue,defaultRichColors:b,duration:(ve=k?.duration)!=null?ve:S,className:k?.className,descriptionClassName:k?.descriptionClassName,invert:o,visibleToasts:j,closeButton:(re=k?.closeButton)!=null?re:h,interacting:U,position:J,style:k?.style,unstyled:k?.unstyled,classNames:k?.classNames,cancelButtonStyle:k?.cancelButtonStyle,actionButtonStyle:k?.actionButtonStyle,closeButtonAriaLabel:k?.closeButtonAriaLabel,removeToast:$,toasts:I.filter(he=>he.position==ue.position),heights:B.filter(he=>he.position==ue.position),setHeights:X,expandByDefault:d,gap:E,expanded:z,swipeDirections:t.swipeDirections})})):null}))}),HA=({...e})=>{const{theme:t="system"}=xA();return s.jsx(qA,{theme:t,className:"toaster group",position:"bottom-center",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var uh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},GA={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},KA=class{#e=GA;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},jp=new KA;function YA(e){setTimeout(e,0)}var dh=typeof window>"u"||"Deno"in globalThis;function ps(){}function QA(e,t){return typeof e=="function"?e(t):e}function JA(e){return typeof e=="number"&&e>=0&&e!==1/0}function ZA(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Np(e,t){return typeof e=="function"?e(t):e}function XA(e,t){return typeof e=="function"?e(t):e}function bw(e,t){const{type:r="all",exact:n,fetchStatus:o,predicate:l,queryKey:c,stale:d}=e;if(c){if(n){if(t.queryHash!==Eg(c,t.options))return!1}else if(!ac(t.queryKey,c))return!1}if(r!=="all"){const h=t.isActive();if(r==="active"&&!h||r==="inactive"&&h)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||o&&o!==t.state.fetchStatus||l&&!l(t))}function jw(e,t){const{exact:r,status:n,predicate:o,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(r){if(sc(t.options.mutationKey)!==sc(l))return!1}else if(!ac(t.options.mutationKey,l))return!1}return!(n&&t.state.status!==n||o&&!o(t))}function Eg(e,t){return(t?.queryKeyHashFn||sc)(e)}function sc(e){return JSON.stringify(e,(t,r)=>Sp(r)?Object.keys(r).sort().reduce((n,o)=>(n[o]=r[o],n),{}):r)}function ac(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>ac(e[r],t[r])):!1}var eP=Object.prototype.hasOwnProperty;function Eb(e,t){if(e===t)return e;const r=Nw(e)&&Nw(t);if(!r&&!(Sp(e)&&Sp(t)))return t;const o=(r?e:Object.keys(e)).length,l=r?t:Object.keys(t),c=l.length,d=r?new Array(c):{};let h=0;for(let p=0;p<c;p++){const v=r?p:l[p],g=e[v],y=t[v];if(g===y){d[v]=g,(r?p<o:eP.call(e,v))&&h++;continue}if(g===null||y===null||typeof g!="object"||typeof y!="object"){d[v]=y;continue}const b=Eb(g,y);d[v]=b,b===g&&h++}return o===c&&h===o?e:d}function Nw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Sp(e){if(!Sw(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Sw(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Sw(e){return Object.prototype.toString.call(e)==="[object Object]"}function tP(e){return new Promise(t=>{jp.setTimeout(t,e)})}function rP(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Eb(e,t):t}function nP(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function sP(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var kg=Symbol();function kb(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===kg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function aP(e,t,r){let n=!1,o;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(o??=t(),n||(n=!0,o.aborted?r():o.addEventListener("abort",r,{once:!0})),o)}),e}var oP=class extends uh{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!dh&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Cb=new oP;function iP(){let e,t;const r=new Promise((o,l)=>{e=o,t=l});r.status="pending",r.catch(()=>{});function n(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{n({status:"fulfilled",value:o}),e(o)},r.reject=o=>{n({status:"rejected",reason:o}),t(o)},r}var lP=YA;function cP(){let e=[],t=0,r=d=>{d()},n=d=>{d()},o=lP;const l=d=>{t?e.push(d):o(()=>{r(d)})},c=()=>{const d=e;e=[],d.length&&o(()=>{n(()=>{d.forEach(h=>{r(h)})})})};return{batch:d=>{let h;t++;try{h=d()}finally{t--,t||c()}return h},batchCalls:d=>(...h)=>{l(()=>{d(...h)})},schedule:l,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{n=d},setScheduler:d=>{o=d}}}var un=cP(),uP=class extends uh{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!dh&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},Od=new uP;function dP(e){return Math.min(1e3*2**e,3e4)}function Tb(e){return(e??"online")==="online"?Od.isOnline():!0}var Ep=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Rb(e){let t=!1,r=0,n;const o=iP(),l=()=>o.status!=="pending",c=_=>{if(!l()){const j=new Ep(_);y(j),e.onCancel?.(j)}},d=()=>{t=!0},h=()=>{t=!1},p=()=>Cb.isFocused()&&(e.networkMode==="always"||Od.isOnline())&&e.canRun(),v=()=>Tb(e.networkMode)&&e.canRun(),g=_=>{l()||(n?.(),o.resolve(_))},y=_=>{l()||(n?.(),o.reject(_))},b=()=>new Promise(_=>{n=j=>{(l()||p())&&_(j)},e.onPause?.()}).then(()=>{n=void 0,l()||e.onContinue?.()}),S=()=>{if(l())return;let _;const j=r===0?e.initialPromise:void 0;try{_=j??e.fn()}catch(k){_=Promise.reject(k)}Promise.resolve(_).then(g).catch(k=>{if(l())return;const C=e.retry??(dh?0:3),E=e.retryDelay??dP,N=typeof E=="function"?E(r,k):E,O=C===!0||typeof C=="number"&&r<C||typeof C=="function"&&C(r,k);if(t||!O){y(k);return}r++,e.onFail?.(r,k),tP(N).then(()=>p()?void 0:b()).then(()=>{t?y(k):S()})})};return{promise:o,status:()=>o.status,cancel:c,continue:()=>(n?.(),o),cancelRetry:d,continueRetry:h,canStart:v,start:()=>(v()?S():b().then(S),o)}}var Ab=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),JA(this.gcTime)&&(this.#e=jp.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(dh?1/0:300*1e3))}clearGcTimeout(){this.#e&&(jp.clearTimeout(this.#e),this.#e=void 0)}},hP=class extends Ab{#e;#t;#r;#s;#n;#o;#i;constructor(e){super(),this.#i=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#r=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=kw(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=kw(this.options);t.data!==void 0&&(this.setState(Ew(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=rP(this.state.data,e,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(ps).catch(ps):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>XA(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===kg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Np(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!ZA(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#i?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,n=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#i=!0,r.signal)})},o=()=>{const d=kb(this.options,t),p=(()=>{const v={client:this.#s,queryKey:this.queryKey,meta:this.meta};return n(v),v})();return this.#i=!1,this.options.persister?this.options.persister(d,p,this):d(p)},c=(()=>{const d={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:o};return n(d),d})();this.options.behavior?.onFetch(c,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#a({type:"fetch",meta:c.fetchOptions?.meta}),this.#n=Rb({initialPromise:t?.initialPromise,fn:c.fetchFn,onCancel:d=>{d instanceof Ep&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(d,h)=>{this.#a({type:"failed",failureCount:d,error:h})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const d=await this.#n.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#r.config.onSuccess?.(d,this),this.#r.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof Ep){if(d.silent)return this.#n.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#a({type:"error",error:d}),this.#r.config.onError?.(d,this),this.#r.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#a(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...fP(r.data,this.options),fetchMeta:e.meta??null};case"success":const n={...r,...Ew(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?n:void 0,n;case"error":const o=e.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),un.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function fP(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Tb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Ew(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function kw(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function Cw(e){return{onFetch:(t,r)=>{const n=t.options,o=t.fetchOptions?.meta?.fetchMore?.direction,l=t.state.data?.pages||[],c=t.state.data?.pageParams||[];let d={pages:[],pageParams:[]},h=0;const p=async()=>{let v=!1;const g=S=>{aP(S,()=>t.signal,()=>v=!0)},y=kb(t.options,t.fetchOptions),b=async(S,_,j)=>{if(v)return Promise.reject();if(_==null&&S.pages.length)return Promise.resolve(S);const C=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:_,direction:j?"backward":"forward",meta:t.options.meta};return g(R),R})(),E=await y(C),{maxPages:N}=t.options,O=j?sP:nP;return{pages:O(S.pages,E,N),pageParams:O(S.pageParams,_,N)}};if(o&&l.length){const S=o==="backward",_=S?mP:Tw,j={pages:l,pageParams:c},k=_(n,j);d=await b(j,k,S)}else{const S=e??l.length;do{const _=h===0?c[0]??n.initialPageParam:Tw(n,d);if(h>0&&_==null)break;d=await b(d,_),h++}while(h<S)}return d};t.options.persister?t.fetchFn=()=>t.options.persister?.(p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=p}}}function Tw(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function mP(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var pP=class extends Ab{#e;#t;#r;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#r=e.mutationCache,this.#t=[],this.state=e.state||gP(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=Rb({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(l,c)=>{this.#n({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const n=this.state.status==="pending",o=!this.#s.canStart();try{if(n)t();else{this.#n({type:"pending",variables:e,isPaused:o}),await this.#r.config.onMutate?.(e,this,r);const c=await this.options.onMutate?.(e,r);c!==this.state.context&&this.#n({type:"pending",context:c,variables:e,isPaused:o})}const l=await this.#s.start();return await this.#r.config.onSuccess?.(l,e,this.state.context,this,r),await this.options.onSuccess?.(l,e,this.state.context,r),await this.#r.config.onSettled?.(l,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(l,null,e,this.state.context,r),this.#n({type:"success",data:l}),l}catch(l){try{await this.#r.config.onError?.(l,e,this.state.context,this,r)}catch(c){Promise.reject(c)}try{await this.options.onError?.(l,e,this.state.context,r)}catch(c){Promise.reject(c)}try{await this.#r.config.onSettled?.(void 0,l,this.state.variables,this.state.context,this,r)}catch(c){Promise.reject(c)}try{await this.options.onSettled?.(void 0,l,e,this.state.context,r)}catch(c){Promise.reject(c)}throw this.#n({type:"error",error:l}),l}finally{this.#r.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),un.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#r.notify({mutation:this,type:"updated",action:e})})}};function gP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vP=class extends uh{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(e,t,r){const n=new pP({client:e,mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#e.add(e);const t=id(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=id(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=id(e);if(typeof t=="string"){const n=this.#t.get(t)?.find(o=>o.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=id(e);return typeof t=="string"?this.#t.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){un.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>jw(t,r))}findAll(e={}){return this.getAll().filter(t=>jw(e,t))}notify(e){un.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return un.batch(()=>Promise.all(e.map(t=>t.continue().catch(ps))))}};function id(e){return e.options.scope?.id}var xP=class extends uh{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const n=t.queryKey,o=t.queryHash??Eg(n,t);let l=this.get(o);return l||(l=new hP({client:e,queryKey:n,queryHash:o,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(l)),l}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){un.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>bw(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>bw(e,r)):t}notify(e){un.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){un.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){un.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},yP=class{#e;#t;#r;#s;#n;#o;#i;#a;constructor(e={}){this.#e=e.queryCache||new xP,this.#t=e.mutationCache||new vP,this.#r=e.defaultOptions||{},this.#s=new Map,this.#n=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#i=Cb.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Od.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#i?.(),this.#i=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Np(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),l=this.#e.get(n.queryHash)?.state.data,c=QA(t,l);if(c!==void 0)return this.#e.build(this,n).setData(c,{...r,manual:!0})}setQueriesData(e,t,r){return un.batch(()=>this.#e.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;un.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return un.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=un.batch(()=>this.#e.findAll(e).map(o=>o.cancel(r)));return Promise.all(n).then(ps).catch(ps)}invalidateQueries(e,t={}){return un.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=un.batch(()=>this.#e.findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let l=o.fetch(void 0,r);return r.throwOnError||(l=l.catch(ps)),o.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(n).then(ps)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(Np(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ps).catch(ps)}fetchInfiniteQuery(e){return e.behavior=Cw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ps).catch(ps)}ensureInfiniteQueryData(e){return e.behavior=Cw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Od.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#s.set(sc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#s.values()],r={};return t.forEach(n=>{ac(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#n.set(sc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{ac(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Eg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===kg&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},wP=f.createContext(void 0),_P=({client:e,children:t})=>(f.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(wP.Provider,{value:e,children:t}));function oc(){return oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oc.apply(this,arguments)}var Fa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Fa||(Fa={}));const Rw="popstate";function bP(e){e===void 0&&(e={});function t(n,o){let{pathname:l,search:c,hash:d}=n.location;return kp("",{pathname:l,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(n,o){return typeof o=="string"?o:Dd(o)}return NP(t,r,null,e)}function pr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Cg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jP(){return Math.random().toString(36).substr(2,8)}function Aw(e,t){return{usr:e.state,key:e.key,idx:t}}function kp(e,t,r,n){return r===void 0&&(r=null),oc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?qi(t):t,{state:r,key:t&&t.key||n||jP()})}function Dd(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function qi(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function NP(e,t,r,n){n===void 0&&(n={});let{window:o=document.defaultView,v5Compat:l=!1}=n,c=o.history,d=Fa.Pop,h=null,p=v();p==null&&(p=0,c.replaceState(oc({},c.state,{idx:p}),""));function v(){return(c.state||{idx:null}).idx}function g(){d=Fa.Pop;let j=v(),k=j==null?null:j-p;p=j,h&&h({action:d,location:_.location,delta:k})}function y(j,k){d=Fa.Push;let C=kp(_.location,j,k);p=v()+1;let E=Aw(C,p),N=_.createHref(C);try{c.pushState(E,"",N)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;o.location.assign(N)}l&&h&&h({action:d,location:_.location,delta:1})}function b(j,k){d=Fa.Replace;let C=kp(_.location,j,k);p=v();let E=Aw(C,p),N=_.createHref(C);c.replaceState(E,"",N),l&&h&&h({action:d,location:_.location,delta:0})}function S(j){let k=o.location.origin!=="null"?o.location.origin:o.location.href,C=typeof j=="string"?j:Dd(j);return C=C.replace(/ $/,"%20"),pr(k,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,k)}let _={get action(){return d},get location(){return e(o,c)},listen(j){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(Rw,g),h=j,()=>{o.removeEventListener(Rw,g),h=null}},createHref(j){return t(o,j)},createURL:S,encodeLocation(j){let k=S(j);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:y,replace:b,go(j){return c.go(j)}};return _}var Pw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Pw||(Pw={}));function SP(e,t,r){return r===void 0&&(r="/"),EP(e,t,r)}function EP(e,t,r,n){let o=typeof t=="string"?qi(t):t,l=Ai(o.pathname||"/",r);if(l==null)return null;let c=Pb(e);kP(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let p=$P(l);d=MP(c[h],p)}return d}function Pb(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let o=(l,c,d)=>{let h={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};h.relativePath.startsWith("/")&&(pr(h.relativePath.startsWith(n),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(n.length));let p=Wa([n,h.relativePath]),v=r.concat(h);l.children&&l.children.length>0&&(pr(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Pb(l.children,t,v,p)),!(l.path==null&&!l.index)&&t.push({path:p,score:DP(p,l.index),routesMeta:v})};return e.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,c);else for(let h of Ob(l.path))o(l,c,h)}),t}function Ob(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,o=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return o?[l,""]:[l];let c=Ob(n.join("/")),d=[];return d.push(...c.map(h=>h===""?l:[l,h].join("/"))),o&&d.push(...c),d.map(h=>e.startsWith("/")&&h===""?"/":h)}function kP(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:IP(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const CP=/^:[\w-]+$/,TP=3,RP=2,AP=1,PP=10,OP=-2,Ow=e=>e==="*";function DP(e,t){let r=e.split("/"),n=r.length;return r.some(Ow)&&(n+=OP),t&&(n+=RP),r.filter(o=>!Ow(o)).reduce((o,l)=>o+(CP.test(l)?TP:l===""?AP:PP),n)}function IP(e,t){return e.length===t.length&&e.slice(0,-1).every((n,o)=>n===t[o])?e[e.length-1]-t[t.length-1]:0}function MP(e,t,r){let{routesMeta:n}=e,o={},l="/",c=[];for(let d=0;d<n.length;++d){let h=n[d],p=d===n.length-1,v=l==="/"?t:t.slice(l.length)||"/",g=Cp({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},v),y=h.route;if(!g)return null;Object.assign(o,g.params),c.push({params:o,pathname:Wa([l,g.pathname]),pathnameBase:WP(Wa([l,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(l=Wa([l,g.pathnameBase]))}return c}function Cp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=LP(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:n.reduce((p,v,g)=>{let{paramName:y,isOptional:b}=v;if(y==="*"){let _=d[g]||"";c=l.slice(0,l.length-_.length).replace(/(.)\/+$/,"$1")}const S=d[g];return b&&!S?p[y]=void 0:p[y]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:e}}function LP(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Cg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(n.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),n]}function $P(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Cg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ai(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const FP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,UP=e=>FP.test(e);function BP(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:o=""}=typeof e=="string"?qi(e):e,l;if(r)if(UP(r))l=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),Cg(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+r))}r.startsWith("/")?l=Dw(r.substring(1),"/"):l=Dw(r,t)}else l=t;return{pathname:l,search:VP(n),hash:qP(o)}}function Dw(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Dm(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zP(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Tg(e,t){let r=zP(e);return t?r.map((n,o)=>o===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Rg(e,t,r,n){n===void 0&&(n=!1);let o;typeof e=="string"?o=qi(e):(o=oc({},e),pr(!o.pathname||!o.pathname.includes("?"),Dm("?","pathname","search",o)),pr(!o.pathname||!o.pathname.includes("#"),Dm("#","pathname","hash",o)),pr(!o.search||!o.search.includes("#"),Dm("#","search","hash",o)));let l=e===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=r;else{let g=t.length-1;if(!n&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),g-=1;o.pathname=y.join("/")}d=g>=0?t[g]:"/"}let h=BP(o,d),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(p||v)&&(h.pathname+="/"),h}const Wa=e=>e.join("/").replace(/\/\/+/g,"/"),WP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),VP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,qP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function HP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Db=["post","put","patch","delete"];new Set(Db);const GP=["get",...Db];new Set(GP);function ic(){return ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ic.apply(this,arguments)}const hh=f.createContext(null),Ib=f.createContext(null),ia=f.createContext(null),fh=f.createContext(null),la=f.createContext({outlet:null,matches:[],isDataRoute:!1}),Mb=f.createContext(null);function KP(e,t){let{relative:r}=t===void 0?{}:t;Hi()||pr(!1);let{basename:n,navigator:o}=f.useContext(ia),{hash:l,pathname:c,search:d}=mh(e,{relative:r}),h=c;return n!=="/"&&(h=c==="/"?n:Wa([n,c])),o.createHref({pathname:h,search:d,hash:l})}function Hi(){return f.useContext(fh)!=null}function es(){return Hi()||pr(!1),f.useContext(fh).location}function Lb(e){f.useContext(ia).static||f.useLayoutEffect(e)}function ts(){let{isDataRoute:e}=f.useContext(la);return e?lO():YP()}function YP(){Hi()||pr(!1);let e=f.useContext(hh),{basename:t,future:r,navigator:n}=f.useContext(ia),{matches:o}=f.useContext(la),{pathname:l}=es(),c=JSON.stringify(Tg(o,r.v7_relativeSplatPath)),d=f.useRef(!1);return Lb(()=>{d.current=!0}),f.useCallback(function(p,v){if(v===void 0&&(v={}),!d.current)return;if(typeof p=="number"){n.go(p);return}let g=Rg(p,JSON.parse(c),l,v.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Wa([t,g.pathname])),(v.replace?n.replace:n.push)(g,v.state,v)},[t,n,c,l,e])}function QP(){let{matches:e}=f.useContext(la),t=e[e.length-1];return t?t.params:{}}function mh(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=f.useContext(ia),{matches:o}=f.useContext(la),{pathname:l}=es(),c=JSON.stringify(Tg(o,n.v7_relativeSplatPath));return f.useMemo(()=>Rg(e,JSON.parse(c),l,r==="path"),[e,c,l,r])}function JP(e,t){return ZP(e,t)}function ZP(e,t,r,n){Hi()||pr(!1);let{navigator:o}=f.useContext(ia),{matches:l}=f.useContext(la),c=l[l.length-1],d=c?c.params:{};c&&c.pathname;let h=c?c.pathnameBase:"/";c&&c.route;let p=es(),v;if(t){var g;let j=typeof t=="string"?qi(t):t;h==="/"||(g=j.pathname)!=null&&g.startsWith(h)||pr(!1),v=j}else v=p;let y=v.pathname||"/",b=y;if(h!=="/"){let j=h.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(j.length).join("/")}let S=SP(e,{pathname:b}),_=nO(S&&S.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:Wa([h,o.encodeLocation?o.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?h:Wa([h,o.encodeLocation?o.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,r,n);return t&&_?f.createElement(fh.Provider,{value:{location:ic({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Fa.Pop}},_):_}function XP(){let e=iO(),t=HP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),r?f.createElement("pre",{style:o},r):null,null)}const eO=f.createElement(XP,null);class tO extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?f.createElement(la.Provider,{value:this.props.routeContext},f.createElement(Mb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rO(e){let{routeContext:t,match:r,children:n}=e,o=f.useContext(hh);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),f.createElement(la.Provider,{value:t},n)}function nO(e,t,r,n){var o;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var l;if(!r)return null;if(r.errors)e=r.matches;else if((l=n)!=null&&l.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let c=e,d=(o=r)==null?void 0:o.errors;if(d!=null){let v=c.findIndex(g=>g.route.id&&d?.[g.route.id]!==void 0);v>=0||pr(!1),c=c.slice(0,Math.min(c.length,v+1))}let h=!1,p=-1;if(r&&n&&n.v7_partialHydration)for(let v=0;v<c.length;v++){let g=c[v];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=v),g.route.id){let{loaderData:y,errors:b}=r,S=g.route.loader&&y[g.route.id]===void 0&&(!b||b[g.route.id]===void 0);if(g.route.lazy||S){h=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((v,g,y)=>{let b,S=!1,_=null,j=null;r&&(b=d&&g.route.id?d[g.route.id]:void 0,_=g.route.errorElement||eO,h&&(p<0&&y===0?(cO("route-fallback"),S=!0,j=null):p===y&&(S=!0,j=g.route.hydrateFallbackElement||null)));let k=t.concat(c.slice(0,y+1)),C=()=>{let E;return b?E=_:S?E=j:g.route.Component?E=f.createElement(g.route.Component,null):g.route.element?E=g.route.element:E=v,f.createElement(rO,{match:g,routeContext:{outlet:v,matches:k,isDataRoute:r!=null},children:E})};return r&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?f.createElement(tO,{location:r.location,revalidation:r.revalidation,component:_,error:b,children:C(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):C()},null)}var $b=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})($b||{}),Fb=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(Fb||{});function sO(e){let t=f.useContext(hh);return t||pr(!1),t}function aO(e){let t=f.useContext(Ib);return t||pr(!1),t}function oO(e){let t=f.useContext(la);return t||pr(!1),t}function Ub(e){let t=oO(),r=t.matches[t.matches.length-1];return r.route.id||pr(!1),r.route.id}function iO(){var e;let t=f.useContext(Mb),r=aO(),n=Ub();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function lO(){let{router:e}=sO($b.UseNavigateStable),t=Ub(Fb.UseNavigateStable),r=f.useRef(!1);return Lb(()=>{r.current=!0}),f.useCallback(function(o,l){l===void 0&&(l={}),r.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,ic({fromRouteId:t},l)))},[e,t])}const Iw={};function cO(e,t,r){Iw[e]||(Iw[e]=!0)}function uO(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function Mw(e){let{to:t,replace:r,state:n,relative:o}=e;Hi()||pr(!1);let{future:l,static:c}=f.useContext(ia),{matches:d}=f.useContext(la),{pathname:h}=es(),p=ts(),v=Rg(t,Tg(d,l.v7_relativeSplatPath),h,o==="path"),g=JSON.stringify(v);return f.useEffect(()=>p(JSON.parse(g),{replace:r,state:n,relative:o}),[p,g,o,r,n]),null}function Yn(e){pr(!1)}function dO(e){let{basename:t="/",children:r=null,location:n,navigationType:o=Fa.Pop,navigator:l,static:c=!1,future:d}=e;Hi()&&pr(!1);let h=t.replace(/^\/*/,"/"),p=f.useMemo(()=>({basename:h,navigator:l,static:c,future:ic({v7_relativeSplatPath:!1},d)}),[h,d,l,c]);typeof n=="string"&&(n=qi(n));let{pathname:v="/",search:g="",hash:y="",state:b=null,key:S="default"}=n,_=f.useMemo(()=>{let j=Ai(v,h);return j==null?null:{location:{pathname:j,search:g,hash:y,state:b,key:S},navigationType:o}},[h,v,g,y,b,S,o]);return _==null?null:f.createElement(ia.Provider,{value:p},f.createElement(fh.Provider,{children:r,value:_}))}function hO(e){let{children:t,location:r}=e;return JP(Tp(t),r)}new Promise(()=>{});function Tp(e,t){t===void 0&&(t=[]);let r=[];return f.Children.forEach(e,(n,o)=>{if(!f.isValidElement(n))return;let l=[...t,o];if(n.type===f.Fragment){r.push.apply(r,Tp(n.props.children,l));return}n.type!==Yn&&pr(!1),!n.props.index||!n.props.children||pr(!1);let c={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Tp(n.props.children,l)),r.push(c)}),r}function Id(){return Id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Id.apply(this,arguments)}function Bb(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,l;for(l=0;l<n.length;l++)o=n[l],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function fO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function mO(e,t){return e.button===0&&(!t||t==="_self")&&!fO(e)}function Rp(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(o=>[r,o]):[[r,n]])},[]))}function pO(e,t){let r=Rp(e);return t&&t.forEach((n,o)=>{r.has(o)||t.getAll(o).forEach(l=>{r.append(o,l)})}),r}const gO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vO=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],xO="6";try{window.__reactRouterVersion=xO}catch{}const yO=f.createContext({isTransitioning:!1}),wO="startTransition",Lw=sh[wO];function _O(e){let{basename:t,children:r,future:n,window:o}=e,l=f.useRef();l.current==null&&(l.current=bP({window:o,v5Compat:!0}));let c=l.current,[d,h]=f.useState({action:c.action,location:c.location}),{v7_startTransition:p}=n||{},v=f.useCallback(g=>{p&&Lw?Lw(()=>h(g)):h(g)},[h,p]);return f.useLayoutEffect(()=>c.listen(v),[c,v]),f.useEffect(()=>uO(n),[n]),f.createElement(dO,{basename:t,children:r,location:d.location,navigationType:d.action,navigator:c,future:n})}const bO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zt=f.forwardRef(function(t,r){let{onClick:n,relative:o,reloadDocument:l,replace:c,state:d,target:h,to:p,preventScrollReset:v,viewTransition:g}=t,y=Bb(t,gO),{basename:b}=f.useContext(ia),S,_=!1;if(typeof p=="string"&&jO.test(p)&&(S=p,bO))try{let E=new URL(window.location.href),N=p.startsWith("//")?new URL(E.protocol+p):new URL(p),O=Ai(N.pathname,b);N.origin===E.origin&&O!=null?p=O+N.search+N.hash:_=!0}catch{}let j=KP(p,{relative:o}),k=EO(p,{replace:c,state:d,target:h,preventScrollReset:v,relative:o,viewTransition:g});function C(E){n&&n(E),E.defaultPrevented||k(E)}return f.createElement("a",Id({},y,{href:S||j,onClick:_||l?n:C,ref:r,target:h}))}),NO=f.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:o=!1,className:l="",end:c=!1,style:d,to:h,viewTransition:p,children:v}=t,g=Bb(t,vO),y=mh(h,{relative:g.relative}),b=es(),S=f.useContext(Ib),{navigator:_,basename:j}=f.useContext(ia),k=S!=null&&kO(y)&&p===!0,C=_.encodeLocation?_.encodeLocation(y).pathname:y.pathname,E=b.pathname,N=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;o||(E=E.toLowerCase(),N=N?N.toLowerCase():null,C=C.toLowerCase()),N&&j&&(N=Ai(N,j)||N);const O=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let R=E===C||!c&&E.startsWith(C)&&E.charAt(O)==="/",P=N!=null&&(N===C||!c&&N.startsWith(C)&&N.charAt(C.length)==="/"),I={isActive:R,isPending:P,isTransitioning:k},Z=R?n:void 0,B;typeof l=="function"?B=l(I):B=[l,R?"active":null,P?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let X=typeof d=="function"?d(I):d;return f.createElement(Zt,Id({},g,{"aria-current":Z,className:B,ref:r,style:X,to:h,viewTransition:p}),typeof v=="function"?v(I):v)});var Ap;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ap||(Ap={}));var $w;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})($w||($w={}));function SO(e){let t=f.useContext(hh);return t||pr(!1),t}function EO(e,t){let{target:r,replace:n,state:o,preventScrollReset:l,relative:c,viewTransition:d}=t===void 0?{}:t,h=ts(),p=es(),v=mh(e,{relative:c});return f.useCallback(g=>{if(mO(g,r)){g.preventDefault();let y=n!==void 0?n:Dd(p)===Dd(v);h(e,{replace:y,state:o,preventScrollReset:l,relative:c,viewTransition:d})}},[p,h,v,n,o,r,e,l,c,d])}function Ag(e){let t=f.useRef(Rp(e)),r=f.useRef(!1),n=es(),o=f.useMemo(()=>pO(n.search,r.current?null:t.current),[n.search]),l=ts(),c=f.useCallback((d,h)=>{const p=Rp(typeof d=="function"?d(o):d);r.current=!0,l("?"+p,h)},[l,o]);return[o,c]}function kO(e,t){t===void 0&&(t={});let r=f.useContext(yO);r==null&&pr(!1);let{basename:n}=SO(Ap.useViewTransitionState),o=mh(e,{relative:t.relative});if(!r.isTransitioning)return!1;let l=Ai(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=Ai(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Cp(o.pathname,c)!=null||Cp(o.pathname,l)!=null}const vo=f.forwardRef(({className:e,activeClassName:t,pendingClassName:r,to:n,...o},l)=>s.jsx(NO,{ref:l,to:n,className:({isActive:c,isPending:d})=>Ae(e,c&&t,d&&r),...o}));vo.displayName="NavLink";var CO=Symbol.for("react.lazy"),Md=sh[" use ".trim().toString()];function TO(e){return typeof e=="object"&&e!==null&&"then"in e}function zb(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===CO&&"_payload"in e&&TO(e._payload)}function Pg(e){const t=AO(e),r=f.forwardRef((n,o)=>{let{children:l,...c}=n;zb(l)&&typeof Md=="function"&&(l=Md(l._payload));const d=f.Children.toArray(l),h=d.find(OO);if(h){const p=h.props.children,v=d.map(g=>g===h?f.Children.count(p)>1?f.Children.only(null):f.isValidElement(p)?p.props.children:null:g);return s.jsx(t,{...c,ref:o,children:f.isValidElement(p)?f.cloneElement(p,void 0,v):null})}return s.jsx(t,{...c,ref:o,children:l})});return r.displayName=`${e}.Slot`,r}var RO=Pg("Slot");function AO(e){const t=f.forwardRef((r,n)=>{let{children:o,...l}=r;if(zb(o)&&typeof Md=="function"&&(o=Md(o._payload)),f.isValidElement(o)){const c=IO(o),d=DO(l,o.props);return o.type!==f.Fragment&&(d.ref=n?$s(n,c):c),f.cloneElement(o,d)}return f.Children.count(o)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var PO=Symbol("radix.slottable");function OO(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===PO}function DO(e,t){const r={...t};for(const n in t){const o=e[n],l=t[n];/^on[A-Z]/.test(n)?o&&l?r[n]=(...d)=>{const h=l(...d);return o(...d),h}:o&&(r[n]=o):n==="style"?r[n]={...o,...l}:n==="className"&&(r[n]=[o,l].filter(Boolean).join(" "))}return{...e,...r}}function IO(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const Og=Sc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),de=f.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...o},l)=>{const c=n?RO:"button";return s.jsx(c,{className:Ae(Og({variant:t,size:r,className:e})),ref:l,...o})});de.displayName="Button";var As=function(){return As=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},As.apply(this,arguments)};function Gi(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function MO(e,t,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(v){try{p(n.next(v))}catch(g){c(g)}}function h(v){try{p(n.throw(v))}catch(g){c(g)}}function p(v){v.done?l(v.value):o(v.value).then(d,h)}p((n=n.apply(e,t||[])).next())})}function LO(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,l;n<o;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))}const $O=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Dg extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class FO extends Dg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Fw extends Dg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Uw extends Dg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Pp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Pp||(Pp={}));class UO{constructor(t,{headers:r={},customFetch:n,region:o=Pp.Any}={}){this.url=t,this.headers=r,this.region=o,this.fetch=$O(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return MO(this,arguments,void 0,function*(r,n={}){var o;let l,c;try{const{headers:d,method:h,body:p,signal:v,timeout:g}=n;let y={},{region:b}=n;b||(b=this.region);const S=new URL(`${this.url}/${r}`);b&&b!=="any"&&(y["x-region"]=b,S.searchParams.set("forceFunctionRegion",b));let _;p&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",_=p):typeof p=="string"?(y["Content-Type"]="text/plain",_=p):typeof FormData<"u"&&p instanceof FormData?_=p:(y["Content-Type"]="application/json",_=JSON.stringify(p)):_=p;let j=v;g&&(c=new AbortController,l=setTimeout(()=>c.abort(),g),v?(j=c.signal,v.addEventListener("abort",()=>c.abort())):j=c.signal);const k=yield this.fetch(S.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),d),body:_,signal:j}).catch(O=>{throw new FO(O)}),C=k.headers.get("x-relay-error");if(C&&C==="true")throw new Fw(k);if(!k.ok)throw new Uw(k);let E=((o=k.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),N;return E==="application/json"?N=yield k.json():E==="application/octet-stream"||E==="application/pdf"?N=yield k.blob():E==="text/event-stream"?N=k:E==="multipart/form-data"?N=yield k.formData():N=yield k.text(),{data:N,error:null,response:k}}catch(d){return{data:null,error:d,response:d instanceof Uw||d instanceof Fw?d.context:void 0}}finally{l&&clearTimeout(l)}})}}var BO=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},zO=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let o=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let c=null,d=null,h=null,p=l.status,v=l.statusText;if(l.ok){var g,y;if(r.method!=="HEAD"){var b;const k=await l.text();k===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((b=r.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?d=k:d=JSON.parse(k))}const _=(g=r.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),j=(y=l.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");_&&j&&j.length>1&&(h=parseInt(j[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,p=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var S;const _=await l.text();try{c=JSON.parse(_),Array.isArray(c)&&l.status===404&&(d=[],c=null,p=200,v="OK")}catch{l.status===404&&_===""?(p=204,v="No Content"):c={message:_}}if(c&&r.isMaybeSingle&&(!(c==null||(S=c.details)===null||S===void 0)&&S.includes("0 rows"))&&(c=null,p=200,v="OK"),c&&r.shouldThrowOnError)throw new BO(c)}return{error:c,data:d,count:h,status:p,statusText:v}});return this.shouldThrowOnError||(o=o.catch(l=>{var c;let d="";const h=l?.cause;if(h){var p,v,g,y;const S=(p=h?.message)!==null&&p!==void 0?p:"",_=(v=h?.code)!==null&&v!==void 0?v:"";d=`${(g=l?.name)!==null&&g!==void 0?g:"FetchError"}: ${l?.message}`,d+=`

Caused by: ${(y=h?.name)!==null&&y!==void 0?y:"Error"}: ${S}`,_&&(d+=` (${_})`),h?.stack&&(d+=`
${h.stack}`)}else{var b;d=(b=l?.stack)!==null&&b!==void 0?b:""}return{error:{message:`${(c=l?.name)!==null&&c!==void 0?c:"FetchError"}: ${l?.message}`,details:d,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(e,t)}returns(){return this}overrideTypes(){return this}},WO=class extends zO{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:o=n}={}){const l=o?`${o}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const o=typeof n>"u"?"offset":`${n}.offset`,l=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(l,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:o=!1,format:l="text"}={}){var c;const d=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${h}"; options=${d};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Bw=new RegExp("[,()]");var xi=class extends WO{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Bw.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Bw.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let o="";n==="plain"?o="pl":n==="phrase"?o="ph":n==="websearch"&&(o="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${o}fts${l}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},VO=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,t){const{head:r=!1,count:n}=t??{},o=r?"HEAD":"GET";let l=!1;const c=(e??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",c),n&&this.headers.append("Prefer",`count=${n}`),new xi({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const o="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new xi({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:o=!0}={}){var l;const c="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new xi({method:c,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(e,{count:t}={}){var r;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new xi({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new xi({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},qO=class Wb{constructor(t,{headers:r={},schema:n,fetch:o}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=o}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new VO(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Wb(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:o=!1,count:l}={}){var c;let d;const h=new URL(`${this.url}/rpc/${t}`);let p;n||o?(d=n?"HEAD":"GET",Object.entries(r).filter(([g,y])=>y!==void 0).map(([g,y])=>[g,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([g,y])=>{h.searchParams.append(g,y)})):(d="POST",p=r);const v=new Headers(this.headers);return l&&v.set("Prefer",`count=${l}`),new xi({method:d,url:h,headers:v,schema:this.schemaName,body:p,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class HO{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,o=parseInt(n.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const GO="2.89.0",KO=`realtime-js/${GO}`,Vb="1.0.0",YO="2.0.0",zw=Vb,Op=1e4,QO=1e3,JO=100;var Ia;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ia||(Ia={}));var Lr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Lr||(Lr={}));var vs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(vs||(vs={}));var Dp;(function(e){e.websocket="websocket"})(Dp||(Dp={}));var wo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(wo||(wo={}));class ZO{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const o=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(t){var r,n;const o=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},c=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(t,r,n){var o,l;const c=t.topic,d=(o=t.ref)!==null&&o!==void 0?o:"",h=(l=t.join_ref)!==null&&l!==void 0?l:"",p=t.payload.event,v=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(v).length===0?"":JSON.stringify(v);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+d.length+c.length+p.length+g.length,b=new ArrayBuffer(this.HEADER_LENGTH+y);let S=new DataView(b),_=0;S.setUint8(_++,this.KINDS.userBroadcastPush),S.setUint8(_++,h.length),S.setUint8(_++,d.length),S.setUint8(_++,c.length),S.setUint8(_++,p.length),S.setUint8(_++,g.length),S.setUint8(_++,r),Array.from(h,k=>S.setUint8(_++,k.charCodeAt(0))),Array.from(d,k=>S.setUint8(_++,k.charCodeAt(0))),Array.from(c,k=>S.setUint8(_++,k.charCodeAt(0))),Array.from(p,k=>S.setUint8(_++,k.charCodeAt(0))),Array.from(g,k=>S.setUint8(_++,k.charCodeAt(0)));var j=new Uint8Array(b.byteLength+n.byteLength);return j.set(new Uint8Array(b),0),j.set(new Uint8Array(n),b.byteLength),j.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[o,l,c,d,h]=n;return r({join_ref:o,ref:l,topic:c,event:d,payload:h})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),o=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,r,o)}_decodeUserBroadcast(t,r,n){const o=r.getUint8(1),l=r.getUint8(2),c=r.getUint8(3),d=r.getUint8(4);let h=this.HEADER_LENGTH+4;const p=n.decode(t.slice(h,h+o));h=h+o;const v=n.decode(t.slice(h,h+l));h=h+l;const g=n.decode(t.slice(h,h+c));h=h+c;const y=t.slice(h,t.byteLength),b=d===this.JSON_ENCODING?JSON.parse(n.decode(y)):y,S={type:this.BROADCAST_EVENT,event:v,payload:b};return c>0&&(S.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class qb{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var nr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(nr||(nr={}));const Ww=(e,t,r={})=>{var n;const o=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((l,c)=>(l[c]=XO(c,e,t,o),l),{}):{}},XO=(e,t,r,n)=>{const o=t.find(d=>d.name===e),l=o?.type,c=r[e];return l&&!n.includes(l)?Hb(l,c):Ip(c)},Hb=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return nD(t,r)}switch(e){case nr.bool:return eD(t);case nr.float4:case nr.float8:case nr.int2:case nr.int4:case nr.int8:case nr.numeric:case nr.oid:return tD(t);case nr.json:case nr.jsonb:return rD(t);case nr.timestamp:return sD(t);case nr.abstime:case nr.date:case nr.daterange:case nr.int4range:case nr.int8range:case nr.money:case nr.reltime:case nr.text:case nr.time:case nr.timestamptz:case nr.timetz:case nr.tsrange:case nr.tstzrange:return Ip(t);default:return Ip(t)}},Ip=e=>e,eD=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},tD=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},rD=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},nD=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let l;const c=e.slice(1,r);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(d=>Hb(t,d))}return e},sD=e=>typeof e=="string"?e.replace(" ","T"):e,Gb=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Im{constructor(t,r,n={},o=Op){this.channel=t,this.event=r,this.payload=n,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Vw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Vw||(Vw={}));class Zl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},o=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zl.syncState(this.state,o,l,c),this.pendingDiffs.forEach(h=>{this.state=Zl.syncDiff(this.state,h,l,c)}),this.pendingDiffs=[],d()}),this.channel._on(n.diff,{},o=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Zl.syncDiff(this.state,o,l,c),d())}),this.onJoin((o,l,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:c})}),this.onLeave((o,l,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,o){const l=this.cloneDeep(t),c=this.transformState(r),d={},h={};return this.map(l,(p,v)=>{c[p]||(h[p]=v)}),this.map(c,(p,v)=>{const g=l[p];if(g){const y=v.map(j=>j.presence_ref),b=g.map(j=>j.presence_ref),S=v.filter(j=>b.indexOf(j.presence_ref)<0),_=g.filter(j=>y.indexOf(j.presence_ref)<0);S.length>0&&(d[p]=S),_.length>0&&(h[p]=_)}else d[p]=v}),this.syncDiff(l,{joins:d,leaves:h},n,o)}static syncDiff(t,r,n,o){const{joins:l,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),o||(o=()=>{}),this.map(l,(d,h)=>{var p;const v=(p=t[d])!==null&&p!==void 0?p:[];if(t[d]=this.cloneDeep(h),v.length>0){const g=t[d].map(b=>b.presence_ref),y=v.filter(b=>g.indexOf(b.presence_ref)<0);t[d].unshift(...y)}n(d,v,h)}),this.map(c,(d,h)=>{let p=t[d];if(!p)return;const v=h.map(g=>g.presence_ref);p=p.filter(g=>v.indexOf(g.presence_ref)<0),t[d]=p,o(d,p,h),p.length===0&&delete t[d]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const o=t[n];return"metas"in o?r[n]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[n]=o,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(qw||(qw={}));var Xl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Xl||(Xl={}));var Xs;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Xs||(Xs={}));class ji{constructor(t,r={config:{}},n){var o,l;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Lr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Im(this,vs.join,this.params,this.timeout),this.rejoinTimer=new qb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Lr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Lr.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Lr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Lr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Lr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vs.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new Zl(this),this.broadcastEndpointURL=Gb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Lr.closed){const{config:{broadcast:c,presence:d,private:h}}=this.params,p=(o=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(b=>b.filter))!==null&&o!==void 0?o:[],v=!!this.bindings[Xl.PRESENCE]&&this.bindings[Xl.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,g={},y={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:v}),postgres_changes:p,private:h};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(b=>t?.(Xs.CHANNEL_ERROR,b)),this._onClose(()=>t?.(Xs.CLOSED)),this.updateJoinPayload(Object.assign({config:y},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){t?.(Xs.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,j=(S=_?.length)!==null&&S!==void 0?S:0,k=[];for(let C=0;C<j;C++){const E=_[C],{filter:{event:N,schema:O,table:R,filter:P}}=E,I=b&&b[C];if(I&&I.event===N&&ji.isFilterValueEqual(I.schema,O)&&ji.isFilterValueEqual(I.table,R)&&ji.isFilterValueEqual(I.filter,P))k.push(Object.assign(Object.assign({},E),{id:I.id}));else{this.unsubscribe(),this.state=Lr.errored,t?.(Xs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,t&&t(Xs.SUBSCRIBED);return}}).receive("error",b=>{this.state=Lr.errored,t?.(Xs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{t?.(Xs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Lr.joined&&t===Xl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var o;if(r==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const p=await d.json();h=p.error||p.message||h}catch{}return Promise.reject(new Error(h))}async send(t,r={}){var n,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=t,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,d,h;const p=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Lr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vs.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(o=>{n=new Im(this,vs.leave,{},t),n.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Lr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const o=new AbortController,l=setTimeout(()=>o.abort(),n),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(l),c}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Im(this,t,r,n);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>JO){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var o,l;const c=t.toLocaleLowerCase(),{close:d,error:h,leave:p,join:v}=vs;if(n&&[d,h,p,v].indexOf(c)>=0&&n!==this._joinRef())return;let y=this._onMessage(c,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(b=>{var S,_,j;return((S=b.filter)===null||S===void 0?void 0:S.event)==="*"||((j=(_=b.filter)===null||_===void 0?void 0:_.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===c}).map(b=>b.callback(y,n)):(l=this.bindings[c])===null||l===void 0||l.filter(b=>{var S,_,j,k,C,E;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in b){const N=b.id,O=(S=b.filter)===null||S===void 0?void 0:S.event;return N&&((_=r.ids)===null||_===void 0?void 0:_.includes(N))&&(O==="*"||O?.toLocaleLowerCase()===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const N=(C=(k=b?.filter)===null||k===void 0?void 0:k.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return N==="*"||N===((E=r?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===c}).map(b=>{if(typeof y=="object"&&"ids"in y){const S=y.data,{schema:_,table:j,commit_timestamp:k,type:C,errors:E}=S;y=Object.assign(Object.assign({},{schema:_,table:j,commit_timestamp:k,eventType:C,new:{},old:{},errors:E}),this._getPayloadRecords(S))}b.callback(y,n)})}_isClosed(){return this.state===Lr.closed}_isJoined(){return this.state===Lr.joined}_isJoining(){return this.state===Lr.joining}_isLeaving(){return this.state===Lr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const o=t.toLocaleLowerCase(),l={type:o,filter:r,callback:n};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===n&&ji.isEqual(o.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(vs.close,{},t)}_onError(t){this._on(vs.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Lr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Ww(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Ww(t.columns,t.old_record)),r}}const Mm=()=>{},ld={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},aD=[1e3,2e3,5e3,1e4],oD=1e4,iD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lD{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Op,this.transport=null,this.heartbeatIntervalMs=ld.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Mm,this.ref=0,this.reconnectTimer=null,this.vsn=zw,this.logger=Mm,this.conn=null,this.sendBuffer=[],this.serializer=new ZO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Dp.websocket}`,this.httpEndpoint=Gb(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=HO.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ia.connecting:return wo.Connecting;case Ia.open:return wo.Open;case Ia.closing:return wo.Closing;default:return wo.Closed}}isConnected(){return this.connectionState()===wo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,o=this.getChannels().find(l=>l.topic===n);if(o)return o;{const l=new ji(`realtime:${t}`,r,this);return this.channels.push(l),l}}push(t){const{topic:r,event:n,payload:o,ref:l}=t,c=()=>{this.encode(t,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${r} ${n} (${l})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(QO,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ld.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:o,payload:l,ref:c}=r,d=c?`(${c})`:"",h=l.status||"";this.log("receive",`${h} ${n} ${o} ${d}`.trim(),l),this.channels.filter(p=>p._isMember(n)).forEach(p=>p._trigger(o,l,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Ia.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ia.open||this.conn.readyState===Ia.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(vs.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${t}${n}${o}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([iD],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(o=>{const l={access_token:r,version:KO};r&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(vs.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new qb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ld.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,o,l,c,d,h,p,v,g,y,b;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:Op,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:ld.HEARTBEAT_INTERVAL,this.worker=(l=t?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=t?.heartbeatCallback)!==null&&d!==void 0?d:Mm,this.vsn=(h=t?.vsn)!==null&&h!==void 0?h:zw,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=t?.reconnectAfterMs)!==null&&p!==void 0?p:(S=>aD[S-1]||oD),this.vsn){case Vb:this.encode=(v=t?.encode)!==null&&v!==void 0?v:((S,_)=>_(JSON.stringify(S))),this.decode=(g=t?.decode)!==null&&g!==void 0?g:((S,_)=>_(JSON.parse(S)));break;case YO:this.encode=(y=t?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(b=t?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var lc=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function cD(e,t,r){const n=new URL(t,e);if(r)for(const[o,l]of Object.entries(r))l!==void 0&&n.searchParams.set(o,l);return n.toString()}async function uD(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function dD(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:o,body:l,headers:c}){const d=cD(e.baseUrl,n,o),h=await uD(e.auth),p=await t(d,{method:r,headers:{...l?{"Content-Type":"application/json"}:{},...h,...c},body:l?JSON.stringify(l):void 0}),v=await p.text(),g=(p.headers.get("content-type")||"").includes("application/json"),y=g&&v?JSON.parse(v):v;if(!p.ok){const b=g?y:void 0,S=b?.error;throw new lc(S?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:S?.type,icebergCode:S?.code,details:b})}return{status:p.status,headers:p.headers,data:y}}}}function cd(e){return e.join("")}var hD=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:cd(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${cd(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${cd(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${cd(e.namespace)}`}),!0}catch(t){if(t instanceof lc&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof lc&&r.status===409)return;throw r}}};function ii(e){return e.join("")}var fD=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ii(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ii(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ii(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ii(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ii(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ii(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof lc&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof lc&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},mD=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=dD({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new hD(this.client,t),this.tableOps=new fD(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},ph=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function mr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var pD=class extends ph{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Mp=class extends ph{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Ig=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),gD=()=>Response,Lp=e=>{if(Array.isArray(e))return e.map(r=>Lp(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const o=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[o]=Lp(n)}),t},vD=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},xD=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function cc(e){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}function yD(e,t){if(cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wD(e){var t=yD(e,"string");return cc(t)=="symbol"?t:t+""}function _D(e,t,r){return(t=wD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hw(Object(r),!0).forEach(function(n){_D(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Lm=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},bD=async(e,t,r)=>{e instanceof await gD()&&!r?.noResolveJson?e.json().then(n=>{const o=e.status||500,l=n?.statusCode||o+"";t(new pD(Lm(n),o,l))}).catch(n=>{t(new Mp(Lm(n),n))}):t(new Mp(Lm(e),e))},jD=(e,t,r,n)=>{const o={method:e,headers:t?.headers||{}};return e==="GET"||!n?o:(vD(n)?(o.headers=ft({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(n)):o.body=n,t?.duplex&&(o.duplex=t.duplex),ft(ft({},o),r))};async function Ec(e,t,r,n,o,l){return new Promise((c,d)=>{e(r,jD(t,n,o,l)).then(h=>{if(!h.ok)throw h;return n?.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>bD(h,d,n))})}async function uc(e,t,r,n){return Ec(e,"GET",t,r,n)}async function gs(e,t,r,n,o){return Ec(e,"POST",t,n,o,r)}async function $p(e,t,r,n,o){return Ec(e,"PUT",t,n,o,r)}async function ND(e,t,r,n){return Ec(e,"HEAD",t,ft(ft({},r),{},{noResolveJson:!0}),n)}async function Mg(e,t,r,n,o){return Ec(e,"DELETE",t,n,o,r)}var SD=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(mr(t))return{data:null,error:t};throw t}}};let Kb;Kb=Symbol.toStringTag;var ED=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Kb]="BlobDownloadBuilder",this.promise=null}asStream(){return new SD(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(mr(t))return{data:null,error:t};throw t}}};const kD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var CD=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=Ig(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var o=this;try{let l;const c=ft(ft({},Gw),n);let d=ft(ft({},o.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),h&&l.append("metadata",o.encodeMetadata(h)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),h&&!l.has("metadata")&&l.append("metadata",o.encodeMetadata(h))):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,h&&(d["x-metadata"]=o.toBase64(o.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),n?.headers&&(d=ft(ft({},d),n.headers));const p=o._removeEmptyFolders(t),v=o._getFinalPath(p),g=await(e=="PUT"?$p:gs)(o.fetch,`${o.url}/object/${v}`,l,ft({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:p,id:g.Id,fullPath:g.Key},error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(mr(l))return{data:null,error:l};throw l}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var o=this;const l=o._removeEmptyFolders(e),c=o._getFinalPath(l),d=new URL(o.url+`/object/upload/sign/${c}`);d.searchParams.set("token",t);try{let h;const p=ft({upsert:Gw.upsert},n),v=ft(ft({},o.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.append("cacheControl",p.cacheControl)):(h=r,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType),{data:{path:l,fullPath:(await $p(o.fetch,d.toString(),h,{headers:v})).Key},error:null}}catch(h){if(o.shouldThrowOnError)throw h;if(mr(h))return{data:null,error:h};throw h}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const o=ft({},r.headers);t?.upsert&&(o["x-upsert"]="true");const l=await gs(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:o}),c=new URL(r.url+l.url),d=c.searchParams.get("token");if(!d)throw new ph("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:d},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(mr(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await gs(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(mr(o))return{data:null,error:o};throw o}}async copy(e,t,r){var n=this;try{return{data:{path:(await gs(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:n.headers})).Key},error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(mr(o))return{data:null,error:o};throw o}}async createSignedUrl(e,t,r){var n=this;try{let o=n._getFinalPath(e),l=await gs(n.fetch,`${n.url}/object/sign/${o}`,ft({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:n.headers});const c=r?.download?`&download=${r.download===!0?"":r.download}`:"";return l={signedUrl:encodeURI(`${n.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(mr(o))return{data:null,error:o};throw o}}async createSignedUrls(e,t,r){var n=this;try{const o=await gs(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),l=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(c=>ft(ft({},c),{},{signedUrl:c.signedURL?encodeURI(`${n.url}${c.signedURL}${l}`):null})),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(mr(o))return{data:null,error:o};throw o}}download(e,t){const r=typeof t?.transform<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString(t?.transform||{}),o=n?`?${n}`:"",l=this._getFinalPath(e),c=()=>uc(this.fetch,`${this.url}/${r}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new ED(c,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:Lp(await uc(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(mr(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await ND(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(mr(n)&&n instanceof Mp){const o=n.originalError;if([400,404].includes(o?.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&n.push(o);const l=typeof t?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(t?.transform||{});c!==""&&n.push(c);let d=n.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}async remove(e){var t=this;try{return{data:await Mg(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(mr(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const o=ft(ft(ft({},kD),t),{},{prefix:e||""});return{data:await gs(n.fetch,`${n.url}/object/list/${n.bucketId}`,o,{headers:n.headers},r),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(mr(o))return{data:null,error:o};throw o}}async listV2(e,t){var r=this;try{const n=ft({},e);return{data:await gs(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(mr(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Yb="2.89.0",Qb={"X-Client-Info":`storage-js/${Yb}`};var TD=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const o=new URL(e);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=ft(ft({},Qb),t),this.fetch=Ig(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await uc(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(mr(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await uc(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(mr(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await gs(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(mr(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await $p(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(mr(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await gs(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(mr(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Mg(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(mr(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},RD=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ft(ft({},Qb),t),this.fetch=Ig(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await gs(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(mr(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const n=r.toString(),o=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await uc(t.fetch,o,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(mr(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Mg(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(mr(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!xD(e))throw new ph("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new mD({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(o,l){const c=o[l];return typeof c!="function"?c:async(...d)=>{try{return{data:await c.apply(o,d),error:null}}catch(h){if(n)throw h;return{data:null,error:h}}}}})}};const Lg={"X-Client-Info":`storage-js/${Yb}`,"Content-Type":"application/json"};var Jb=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function $n(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var $m=class extends Jb{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},AD=class extends Jb{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const $g=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),PD=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Kw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),OD=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const n=e.status||500,o=e;if(typeof o.json=="function")o.json().then(l=>{const c=l?.statusCode||l?.code||n+"";t(new $m(Kw(l),n,c))}).catch(()=>{const l=n+"";t(new $m(o.statusText||`HTTP ${n} error`,n,l))});else{const l=n+"";t(new $m(o.statusText||`HTTP ${n} error`,n,l))}}else t(new AD(Kw(e),e))},DD=(e,t,r,n)=>{const o={method:e,headers:t?.headers||{}};return n?(PD(n)?(o.headers=ft({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(n)):o.body=n,ft(ft({},o),r)):o};async function ID(e,t,r,n,o,l){return new Promise((c,d)=>{e(r,DD(t,n,o,l)).then(h=>{if(!h.ok)throw h;if(n?.noResolveJson)return h;const p=h.headers.get("content-type");return!p||!p.includes("application/json")?{}:h.json()}).then(h=>c(h)).catch(h=>OD(h,d,n))})}async function Fn(e,t,r,n,o){return ID(e,"POST",t,n,o,r)}var MD=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ft(ft({},Lg),t),this.fetch=$g(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Fn(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($n(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await Fn(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if($n(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await Fn(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($n(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await Fn(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if($n(n))return{data:null,error:n};throw n}}},LD=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ft(ft({},Lg),t),this.fetch=$g(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Fn(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($n(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await Fn(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($n(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Fn(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($n(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await Fn(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($n(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Fn(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($n(r))return{data:null,error:r};throw r}}},$D=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ft(ft({},Lg),t),this.fetch=$g(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Fn(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($n(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Fn(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($n(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await Fn(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($n(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Fn(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($n(r))return{data:null,error:r};throw r}}},FD=class extends $D{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new UD(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},UD=class extends MD{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,ft(ft({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,ft(ft({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new BD(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},BD=class extends LD{constructor(e,t,r,n,o){super(e,t,o),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,ft(ft({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,ft(ft({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,ft(ft({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,ft(ft({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,ft(ft({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},zD=class extends TD{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new CD(this.url,this.headers,e,this.fetch)}get vectors(){return new FD(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new RD(this.url+"/iceberg",this.headers,this.fetch)}};const Zb="2.89.0",yi=30*1e3,Fp=3,Fm=Fp*yi,WD="http://localhost:9999",VD="supabase.auth.token",qD={"X-Client-Info":`gotrue-js/${Zb}`},Up="X-Supabase-Api-Version",Xb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},HD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,GD=600*1e3;class dc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function rt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class KD extends dc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function YD(e){return rt(e)&&e.name==="AuthApiError"}class _o extends dc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ca extends dc{constructor(t,r,n,o){super(t,n,o),this.name=r,this.status=n}}class Mn extends ca{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function QD(e){return rt(e)&&e.name==="AuthSessionMissingError"}class li extends ca{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ud extends ca{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class dd extends ca{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function JD(e){return rt(e)&&e.name==="AuthImplicitGrantRedirectError"}class Yw extends ca{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ZD extends ca{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Bp extends ca{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Um(e){return rt(e)&&e.name==="AuthRetryableFetchError"}class Qw extends ca{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class zp extends ca{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ld="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Jw=` 	
\r=`.split(""),XD=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Jw.length;t+=1)e[Jw[t].charCodeAt(0)]=-2;for(let t=0;t<Ld.length;t+=1)e[Ld[t].charCodeAt(0)]=t;return e})();function Zw(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ld[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ld[n]),t.queuedBits-=6}}function ej(e,t,r){const n=XD[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Xw(e){const t=[],r=c=>{t.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=c=>{rI(c,n,r)};for(let c=0;c<e.length;c+=1)ej(e.charCodeAt(c),o,l);return t.join("")}function eI(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function tI(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const o=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}eI(n,t)}}function rI(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ni(e){const t=[],r={queue:0,queuedBits:0},n=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)ej(e.charCodeAt(o),r,n);return new Uint8Array(t)}function nI(e){const t=[];return tI(e,r=>t.push(r)),new Uint8Array(t)}function bo(e){const t=[],r={queue:0,queuedBits:0},n=o=>{t.push(o)};return e.forEach(o=>Zw(o,r,n)),Zw(null,r,n),t.join("")}function sI(e){return Math.round(Date.now()/1e3)+e}function aI(){return Symbol("auth-callback")}const Jr=()=>typeof window<"u"&&typeof document<"u",po={tested:!1,writable:!1},tj=()=>{if(!Jr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(po.tested)return po.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),po.tested=!0,po.writable=!0}catch{po.tested=!0,po.writable=!1}return po.writable};function oI(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,l)=>{t[l]=o})}catch{}return r.searchParams.forEach((n,o)=>{t[o]=n}),t}const rj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),iI=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",wi=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},go=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Qr=async(e,t)=>{await e.removeItem(t)};class gh{constructor(){this.promise=new gh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}gh.promiseConstructor=Promise;function Bm(e){const t=e.split(".");if(t.length!==3)throw new zp("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!HD.test(t[n]))throw new zp("JWT not in base64url format");return{header:JSON.parse(Xw(t[0])),payload:JSON.parse(Xw(t[1])),signature:Ni(t[2]),raw:{header:t[0],payload:t[1]}}}async function lI(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function cI(e,t){return new Promise((n,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await e(l);if(!t(l,null,c)){n(c);return}}catch(c){if(!t(l,c)){o(c);return}}})()})}function uI(e){return("0"+e.toString(16)).substr(-2)}function dI(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let o="";for(let l=0;l<56;l++)o+=r.charAt(Math.floor(Math.random()*n));return o}return crypto.getRandomValues(t),Array.from(t,uI).join("")}async function hI(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(n);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function fI(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await hI(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ci(e,t,r=!1){const n=dI();let o=n;r&&(o+="/PASSWORD_RECOVERY"),await wi(e,`${t}-code-verifier`,o);const l=await fI(n);return[l,n===l?"plain":"s256"]}const mI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function pI(e){const t=e.headers.get(Up);if(!t||!t.match(mI))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function gI(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function vI(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const xI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ui(e){if(!xI.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function zm(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function yI(e,t){return new Proxy(e,{get:(r,n,o)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const l=n.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,o)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,o)}})}function e0(e){return JSON.parse(JSON.stringify(e))}const xo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wI=[502,503,504];async function t0(e){var t;if(!iI(e))throw new Bp(xo(e),0);if(wI.includes(e.status))throw new Bp(xo(e),e.status);let r;try{r=await e.json()}catch(l){throw new _o(xo(l),l)}let n;const o=pI(e);if(o&&o.getTime()>=Xb["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Qw(xo(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Mn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Qw(xo(r),e.status,r.weak_password.reasons);throw new KD(xo(r),e.status||500,n)}const _I=(e,t,r,n)=>{const o={method:e,headers:t?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(n),Object.assign(Object.assign({},o),r))};async function ht(e,t,r,n){var o;const l=Object.assign({},n?.headers);l[Up]||(l[Up]=Xb["2024-01-01"].name),n?.jwt&&(l.Authorization=`Bearer ${n.jwt}`);const c=(o=n?.query)!==null&&o!==void 0?o:{};n?.redirectTo&&(c.redirect_to=n.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await bI(e,t,r+d,{headers:l,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(h):{data:Object.assign({},h),error:null}}async function bI(e,t,r,n,o,l){const c=_I(t,n,o,l);let d;try{d=await e(r,Object.assign({},c))}catch(h){throw console.error(h),new Bp(xo(h),0)}if(d.ok||await t0(d),n?.noResolveJson)return d;try{return await d.json()}catch(h){await t0(h)}}function hs(e){var t;let r=null;SI(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=sI(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function r0(e){const t=hs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function La(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function jI(e){return{data:e,error:null}}function NI(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:o,verification_type:l}=e,c=Gi(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:r,hashed_token:n,redirect_to:o,verification_type:l},h=Object.assign({},c);return{data:{properties:d,user:h},error:null}}function n0(e){return e}function SI(e){return e.access_token&&e.refresh_token&&e.expires_in}const Wm=["global","local","others"];class EI{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=rj(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Wm[0]){if(Wm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wm.join(", ")}`);try{return await ht(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(rt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ht(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:La})}catch(n){if(rt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Gi(t,["options"]),o=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(o.new_email=n?.newEmail,delete o.newEmail),await ht(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:NI,redirectTo:r?.redirectTo})}catch(r){if(rt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ht(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:La})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,o,l,c,d,h;try{const p={nextPage:null,lastPage:0,total:0},v=await ht(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(l=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:n0});if(v.error)throw v.error;const g=await v.json(),y=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(h=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(S.split(";")[1].split("=")[1]);p[`${j}Page`]=_}),p.total=parseInt(y)),{data:Object.assign(Object.assign({},g),p),error:null}}catch(p){if(rt(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){ui(t);try{return await ht(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:La})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ui(t);try{return await ht(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:La})}catch(n){if(rt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ui(t);try{return await ht(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:La})}catch(n){if(rt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ui(t.userId);try{const{data:r,error:n}=await ht(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:n}}catch(r){if(rt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ui(t.userId),ui(t.id);try{return{data:await ht(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(rt(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,o,l,c,d,h;try{const p={nextPage:null,lastPage:0,total:0},v=await ht(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(l=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:n0});if(v.error)throw v.error;const g=await v.json(),y=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(h=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(S.split(";")[1].split("=")[1]);p[`${j}Page`]=_}),p.total=parseInt(y)),{data:Object.assign(Object.assign({},g),p),error:null}}catch(p){if(rt(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(t){try{return await ht(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(rt(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ht(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(rt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ht(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ht(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(rt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ht(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(rt(r))return{data:null,error:r};throw r}}}function s0(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const di={debug:!!(globalThis&&tj()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class nj extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class kI extends nj{}async function CI(e,t,r){di.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),di.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async o=>{if(o){di.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await r()}finally{di.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw di.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new kI(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(di.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function TI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function sj(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function RI(e){return parseInt(e,16)}function AI(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function PI(e){var t;const{chainId:r,domain:n,expirationTime:o,issuedAt:l=new Date,nonce:c,notBefore:d,requestId:h,resources:p,scheme:v,uri:g,version:y}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const b=sj(e.address),S=v?`${v}://${n}`:n,_=e.statement?`${e.statement}
`:"",j=`${S} wants you to sign in with your Ethereum account:
${b}

${_}`;let k=`URI: ${g}
Version: ${y}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(o&&(k+=`
Expiration Time: ${o.toISOString()}`),d&&(k+=`
Not Before: ${d.toISOString()}`),h&&(k+=`
Request ID: ${h}`),p){let C=`
Resources:`;for(const E of p){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);C+=`
- ${E}`}k+=C}return`${j}
${k}`}class Cr extends Error{constructor({message:t,code:r,cause:n,name:o}){var l;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(l=o??(n instanceof Error?n.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class $d extends Cr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function OI({error:e,options:t}){var r,n,o;const{publicKey:l}=t;if(!l)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Cr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Cr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=l.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Cr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Cr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Cr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Cr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Cr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Cr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const c=window.location.hostname;if(aj(c)){if(l.rp.id!==c)return new Cr({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Cr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Cr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Cr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Cr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function DI({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Cr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Cr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(aj(n)){if(r.rpId!==n)return new Cr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Cr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Cr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Cr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class II{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const MI=new II;function LI(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,o=Gi(e,["challenge","user","excludeCredentials"]),l=Ni(t).buffer,c=Object.assign(Object.assign({},r),{id:Ni(r.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:l,user:c});if(n&&n.length>0){d.excludeCredentials=new Array(n.length);for(let h=0;h<n.length;h++){const p=n[h];d.excludeCredentials[h]=Object.assign(Object.assign({},p),{id:Ni(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function $I(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Gi(e,["challenge","allowCredentials"]),o=Ni(t).buffer,l=Object.assign(Object.assign({},n),{challenge:o});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const d=r[c];l.allowCredentials[c]=Object.assign(Object.assign({},d),{id:Ni(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function FI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:bo(new Uint8Array(e.response.attestationObject)),clientDataJSON:bo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function UI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),o=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:bo(new Uint8Array(o.authenticatorData)),clientDataJSON:bo(new Uint8Array(o.clientDataJSON)),signature:bo(new Uint8Array(o.signature)),userHandle:o.userHandle?bo(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function aj(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function a0(){var e,t;return!!(Jr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function BI(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new $d("Browser returned unexpected credential type",t)}:{data:null,error:new $d("Empty credential response",t)}}catch(t){return{data:null,error:OI({error:t,options:e})}}}async function zI(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new $d("Browser returned unexpected credential type",t)}:{data:null,error:new $d("Empty credential response",t)}}catch(t){return{data:null,error:DI({error:t,options:e})}}}const WI={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},VI={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Fd(...e){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),n={};for(const o of e)if(o)for(const l in o){const c=o[l];if(c!==void 0)if(Array.isArray(c))n[l]=c;else if(r(c))n[l]=c;else if(t(c)){const d=n[l];t(d)?n[l]=Fd(d,c):n[l]=Fd(c)}else n[l]=c}return n}function qI(e,t){return Fd(WI,e,t||{})}function HI(e,t){return Fd(VI,e,t||{})}class GI{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:o},l){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!c)return{data:null,error:d};const h=o??MI.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:p}=c.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${n}`),p.displayName||(p.displayName=p.name)}switch(c.webauthn.type){case"create":{const p=qI(c.webauthn.credential_options.publicKey,l?.create),{data:v,error:g}=await BI({publicKey:p,signal:h});return v?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:g}}case"request":{const p=HI(c.webauthn.credential_options.publicKey,l?.request),{data:v,error:g}=await zI(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:p,signal:h}));return v?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:g}}}}catch(c){return rt(c)?{data:null,error:c}:{data:null,error:new _o("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!r)return{data:null,error:new dc("rpId is required for WebAuthn authentication")};try{if(!a0())return{data:null,error:new _o("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:o},{request:l});if(!c)return{data:null,error:d};const{webauthn:h}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:n,credential_response:h.credential_response}})}catch(c){return rt(c)?{data:null,error:c}:{data:null,error:new _o("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!r)return{data:null,error:new dc("rpId is required for WebAuthn registration")};try{if(!a0())return{data:null,error:new _o("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(v=>{var g;return(g=v.data)===null||g===void 0?void 0:g.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:d};const{data:h,error:p}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:o},{create:l});return h?this._verify({factorId:c.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:n,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:p}}catch(c){return rt(c)?{data:null,error:c}:{data:null,error:new _o("Unexpected error in register",c)}}}}TI();const KI={url:WD,storageKey:VD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function o0(e,t,r){return await r()}const hi={};class hc{get jwks(){var t,r;return(r=(t=hi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){hi[this.storageKey]=Object.assign(Object.assign({},hi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=hi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){hi[this.storageKey]=Object.assign(Object.assign({},hi[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},KI),t);if(this.storageKey=l.storageKey,this.instanceID=(r=hc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,hc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&Jr()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new EI({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=rj(l.fetch),this.lock=l.lock||o0,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&Jr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=CI:this.lock=o0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new GI(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:tj()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=s0(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=s0(this.memoryStorage)),Jr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Zb}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Jr()&&(r=oI(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Jr()&&this.detectSessionInUrl&&n!=="none"){const{data:o,error:l}=await this._getSessionFromURL(r,n);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),JD(l)){const h=(t=l.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return rt(r)?this._returnResult({error:r}):this._returnResult({error:new _o("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,o;try{const l=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:hs}),{data:c,error:d}=l;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const h=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(l){if(rt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(t){var r,n,o;try{let l;if("email"in t){const{email:v,password:g,options:y}=t;let b=null,S=null;this.flowType==="pkce"&&([b,S]=await ci(this.storage,this.storageKey)),l=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:v,password:g,data:(r=y?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:b,code_challenge_method:S},xform:hs})}else if("phone"in t){const{phone:v,password:g,options:y}=t;l=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:g,data:(n=y?.data)!==null&&n!==void 0?n:{},channel:(o=y?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:hs})}else throw new ud("You must provide either an email or phone number and a password");const{data:c,error:d}=l;if(d||!c)return await Qr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const h=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(l){if(await Qr(this.storage,`${this.storageKey}-code-verifier`),rt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(t){try{let r;if("email"in t){const{email:l,password:c,options:d}=t;r=await ht(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:r0})}else if("phone"in t){const{phone:l,password:c,options:d}=t;r=await ht(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:r0})}else throw new ud("You must provide either an email or phone number and a password");const{data:n,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!n||!n.session||!n.user){const l=new li;return this._returnResult({data:{user:null,session:null},error:l})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:o})}catch(r){if(rt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,o,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,o,l,c,d,h,p,v,g,y;let b,S;if("message"in t)b=t.message,S=t.signature;else{const{chain:_,wallet:j,statement:k,options:C}=t;let E;if(Jr())if(typeof j=="object")E=j;else{const Z=window;if("ethereum"in Z&&typeof Z.ethereum=="object"&&"request"in Z.ethereum&&typeof Z.ethereum.request=="function")E=Z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=j}const N=new URL((r=C?.url)!==null&&r!==void 0?r:window.location.href),O=await E.request({method:"eth_requestAccounts"}).then(Z=>Z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=sj(O[0]);let P=(n=C?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!P){const Z=await E.request({method:"eth_chainId"});P=RI(Z)}const I={domain:N.host,address:R,statement:k,uri:N.href,version:"1",chainId:P,nonce:(o=C?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(l=C?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=C?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=C?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(p=C?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(v=C?.signInWithEthereum)===null||v===void 0?void 0:v.resources};b=PI(I),S=await E.request({method:"personal_sign",params:[AI(b),R]})}try{const{data:_,error:j}=await ht(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:S},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:hs});if(j)throw j;if(!_||!_.session||!_.user){const k=new li;return this._returnResult({data:{user:null,session:null},error:k})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:j})}catch(_){if(rt(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(t){var r,n,o,l,c,d,h,p,v,g,y,b;let S,_;if("message"in t)S=t.message,_=t.signature;else{const{chain:j,wallet:k,statement:C,options:E}=t;let N;if(Jr())if(typeof k=="object")N=k;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))N=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=k}const O=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in N&&N.signIn){const R=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),C?{statement:C}:null));let P;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")P=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)P=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)S=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),_=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${O.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(o=(n=E?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=E?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((d=E?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((h=E?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((p=E?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((g=(v=E?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||g===void 0)&&g.length?["Resources",...E.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const R=await N.signMessage(new TextEncoder().encode(S),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=R}}try{const{data:j,error:k}=await ht(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:bo(_)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:hs});if(k)throw k;if(!j||!j.session||!j.user){const C=new li;return this._returnResult({data:{user:null,session:null},error:C})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:k})}catch(j){if(rt(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(t){const r=await go(this.storage,`${this.storageKey}-code-verifier`),[n,o]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new ZD;const{data:l,error:c}=await ht(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:hs});if(await Qr(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const d=new li;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:c})}catch(l){if(await Qr(this.storage,`${this.storageKey}-code-verifier`),rt(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(t){try{const{options:r,provider:n,token:o,access_token:l,nonce:c}=t,d=await ht(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:o,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:hs}),{data:h,error:p}=d;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h||!h.session||!h.user){const v=new li;return this._returnResult({data:{user:null,session:null},error:v})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:p})}catch(r){if(rt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,o,l,c;try{if("email"in t){const{email:d,options:h}=t;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await ci(this.storage,this.storageKey));const{error:g}=await ht(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(n=h?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:d,options:h}=t,{data:p,error:v}=await ht(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=h?.data)!==null&&o!==void 0?o:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:v})}throw new ud("You must provide either an email or phone number.")}catch(d){if(await Qr(this.storage,`${this.storageKey}-code-verifier`),rt(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(t){var r,n;try{let o,l;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,l=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:d}=await ht(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:hs});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,p=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(o){if(rt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(t){var r,n,o,l,c;try{let d=null,h=null;this.flowType==="pkce"&&([d,h]=await ci(this.storage,this.storageKey));const p=await ht(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:jI});return!((l=p.data)===null||l===void 0)&&l.url&&Jr()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(d){if(await Qr(this.storage,`${this.storageKey}-code-verifier`),rt(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Mn;const{error:o}=await ht(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(t){if(rt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:o,options:l}=t,{error:c}=await ht(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:n,type:o,options:l}=t,{data:c,error:d}=await ht(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:d})}throw new ud("You must provide either an email or phone number and a type")}catch(r){if(rt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await go(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Fm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const c=await go(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=zm()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=yI(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await ht(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:La}):await this._useSession(async r=>{var n,o,l;const{data:c,error:d}=r;if(d)throw d;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Mn}:await ht(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:La})})}catch(r){if(rt(r))return QD(r)&&(await this._removeSession(),await Qr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:o,error:l}=n;if(l)throw l;if(!o.session)throw new Mn;const c=o.session;let d=null,h=null;this.flowType==="pkce"&&t.email!=null&&([d,h]=await ci(this.storage,this.storageKey));const{data:p,error:v}=await ht(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:h}),jwt:c.access_token,xform:La});if(v)throw v;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(n){if(await Qr(this.storage,`${this.storageKey}-code-verifier`),rt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Mn;const r=Date.now()/1e3;let n=r,o=!0,l=null;const{payload:c}=Bm(t.access_token);if(c.exp&&(n=c.exp,o=n<=r),o){const{data:d,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:h}=await this._getUser(t.access_token);if(h)throw h;l={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(r){if(rt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:c,error:d}=r;if(d)throw d;t=(n=c.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Mn;const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(rt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Jr())throw new dd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new dd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Yw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new dd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Yw("No code detected.");const{data:C,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:o,access_token:l,refresh_token:c,expires_in:d,expires_at:h,token_type:p}=t;if(!l||!d||!c||!p)throw new dd("No session defined in URL");const v=Math.round(Date.now()/1e3),g=parseInt(d);let y=v+g;h&&(y=parseInt(h));const b=y-v;b*1e3<=yi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${g}s`);const S=y-g;v-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,y,v):v-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,y,v);const{data:_,error:j}=await this._getUser(l);if(j)throw j;const k={provider_token:n,provider_refresh_token:o,access_token:l,expires_in:g,expires_at:y,refresh_token:c,token_type:p,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:t.type},error:null})}catch(n){if(rt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await go(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:o,error:l}=r;if(l)return this._returnResult({error:l});const c=(n=o.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:d}=await this.admin.signOut(c,t);if(d&&!(YD(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return t!=="others"&&(await this._removeSession(),await Qr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=aI(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,o;try{const{data:{session:l},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,r={}){let n=null,o=null;this.flowType==="pkce"&&([n,o]=await ci(this.storage,this.storageKey,!0));try{return await ht(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(await Qr(this.storage,`${this.storageKey}-code-verifier`),rt(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(rt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:o}=await this._useSession(async l=>{var c,d,h,p,v;const{data:g,error:y}=l;if(y)throw y;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await ht(this.fetch,"GET",b,{headers:this.headers,jwt:(v=(p=g.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return Jr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(rt(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:o,data:{session:l}}=r;if(o)throw o;const{options:c,provider:d,token:h,access_token:p,nonce:v}=t,g=await ht(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=l?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:d,id_token:h,access_token:p,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:hs}),{data:y,error:b}=g;return b?this._returnResult({data:{user:null,session:null},error:b}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new li}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:b}))}catch(o){if(await Qr(this.storage,`${this.storageKey}-code-verifier`),rt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,o;const{data:l,error:c}=r;if(c)throw c;return await ht(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(rt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await cI(async o=>(o>0&&await lI(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await ht(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:hs})),(o,l)=>{const c=200*Math.pow(2,o);return l&&Um(l)&&Date.now()+c-n<yi})}catch(n){if(this._debug(r,"error",n),rt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Jr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const o=await go(this.storage,this.storageKey);if(o&&this.userStorage){let c=await go(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await wi(this.userStorage,this.storageKey+"-user",c)),o.user=(t=c?.user)!==null&&t!==void 0?t:zm()}else if(o&&!o.user&&!o.user){const c=await go(this.storage,this.storageKey+"-user");c&&c?.user?(o.user=c.user,await Qr(this.storage,this.storageKey+"-user"),await wi(this.storage,this.storageKey,o)):o.user=zm()}if(this._debug(n,"session from storage",o),!this._isValidSession(o)){this._debug(n,"session is not valid"),o!==null&&await this._removeSession();return}const l=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Fm;if(this._debug(n,`session has${l?"":" not"} expired with margin of ${Fm}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),Um(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(o.access_token);!d&&c?.user?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(n,"error",o),console.error(o);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Mn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new gh;const{data:l,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!l.session)throw new Mn;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(o,"error",l),rt(l)){const c={data:null,error:l};return Um(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,r,n=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,r)}catch(h){l.push(h)}});if(await Promise.all(c),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Qr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await wi(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const l=e0(o);await wi(this.storage,this.storageKey,l)}else{const o=e0(r);await wi(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Qr(this.storage,this.storageKey),await Qr(this.storage,this.storageKey+"-code-verifier"),await Qr(this.storage,this.storageKey+"-user"),this.userStorage&&await Qr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Jr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),yi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((n.expires_at*1e3-t)/yi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${yi}ms, refresh threshold is ${Fp} ticks`),o<=Fp&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof nj)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Jr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const o=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&o.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[l,c]=await ci(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(d.toString())}if(n?.queryParams){const l=new URLSearchParams(n.queryParams);o.push(l.toString())}return n?.skipBrowserRedirect&&o.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:o,error:l}=r;return l?this._returnResult({data:null,error:l}):await ht(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(rt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,o;const{data:l,error:c}=r;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:h,error:p}=await ht(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(n=l?.session)===null||n===void 0?void 0:n.access_token});return p?this._returnResult({data:null,error:p}):(t.factorType==="totp"&&h.type==="totp"&&(!((o=h?.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(r){if(rt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:l}=r;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?FI(t.webauthn.credential_response):UI(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:h}=await ht(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:h}))})}catch(r){if(rt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:l}=r;if(l)return this._returnResult({data:null,error:l});const c=await ht(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:LI(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:$I(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(rt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(t=r?.factors)!==null&&t!==void 0?t:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Bm(n.access_token);let c=null;l.aal&&(c=l.aal);let d=c;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const p=l.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;return o?this._returnResult({data:null,error:o}):n?await ht(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Mn})})}catch(r){if(rt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:o},error:l}=n;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new Mn});const c=await ht(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&Jr()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(rt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:o},error:l}=n;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new Mn});const c=await ht(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&Jr()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(rt(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await ht(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Mn})})}catch(t){if(rt(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;return o?this._returnResult({data:null,error:o}):n?(await ht(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Mn})})}catch(r){if(rt(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(d=>d.kid===t);if(n)return n;const o=Date.now();if(n=this.jwks.keys.find(d=>d.kid===t),n&&this.jwks_cached_at+GD>o)return n;const{data:l,error:c}=await ht(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,n=l.keys.find(d=>d.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:b,error:S}=await this.getSession();if(S||!b.session)return this._returnResult({data:null,error:S});n=b.session.access_token}const{header:o,payload:l,signature:c,raw:{header:d,payload:h}}=Bm(n);r?.allowExpired||gI(l.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!p){const{error:b}=await this.getUser(n);if(b)throw b;return{data:{claims:l,header:o,signature:c},error:null}}const v=vI(o.alg),g=await crypto.subtle.importKey("jwk",p,v,!0,["verify"]);if(!await crypto.subtle.verify(v,g,c,nI(`${d}.${h}`)))throw new zp("Invalid JWT signature");return{data:{claims:l,header:o,signature:c},error:null}}catch(n){if(rt(n))return this._returnResult({data:null,error:n});throw n}}}hc.nextInstanceID={};const YI=hc,QI="2.89.0";let Gl="";typeof Deno<"u"?Gl="deno":typeof document<"u"?Gl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gl="react-native":Gl="node";const JI={"X-Client-Info":`supabase-js-${Gl}/${QI}`},ZI={headers:JI},XI={schema:"public"},eM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tM={};function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function rM(e,t){if(fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nM(e){var t=rM(e,"string");return fc(t)=="symbol"?t:t+""}function sM(e,t,r){return(t=nM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i0(Object(r),!0).forEach(function(n){sM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const aM=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),oM=()=>Headers,iM=(e,t,r)=>{const n=aM(r),o=oM();return async(l,c)=>{var d;const h=(d=await t())!==null&&d!==void 0?d:e;let p=new o(c?.headers);return p.has("apikey")||p.set("apikey",e),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),n(l,xr(xr({},c),{},{headers:p}))}};function lM(e){return e.endsWith("/")?e:e+"/"}function cM(e,t){var r,n;const{db:o,auth:l,realtime:c,global:d}=e,{db:h,auth:p,realtime:v,global:g}=t,y={db:xr(xr({},h),o),auth:xr(xr({},p),l),realtime:xr(xr({},v),c),storage:{},global:xr(xr(xr({},g),d),{},{headers:xr(xr({},(r=g?.headers)!==null&&r!==void 0?r:{}),(n=d?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function uM(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(lM(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var dM=class extends YI{constructor(e){super(e)}},hM=class{constructor(e,t,r){var n,o;this.supabaseUrl=e,this.supabaseKey=t;const l=uM(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:XI,realtime:tM,auth:xr(xr({},eM),{},{storageKey:c}),global:ZI},h=cM(r??{},d);if(this.storageKey=(n=h.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(v,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=h.auth)!==null&&p!==void 0?p:{},this.headers,h.global.fetch)}this.fetch=iM(t,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(xr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new qO(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new zD(this.storageUrl.href,this.headers,this.fetch,r?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new UO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:o,storageKey:l,flowType:c,lock:d,debug:h,throwOnError:p},v,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new dM({url:this.authUrl.href,headers:xr(xr({},y),v),storageKey:l,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:o,flowType:c,lock:d,debug:h,throwOnError:p,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new lD(this.realtimeUrl.href,xr(xr({},e),{},{params:xr(xr({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const fM=(e,t,r)=>new hM(e,t,r);function mM(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}mM()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const pM="https://xnbbgmkywspodwdrlzhq.supabase.co",gM="sb_publishable_UxQkqYMXp2T1Jx6uVgWqdw_vD3bfEYO",M=fM(pM,gM,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});var vM=sh[" useId ".trim().toString()]||(()=>{}),xM=0;function Qn(e){const[t,r]=f.useState(vM());return Sr(()=>{r(n=>n??String(xM++))},[e]),t?`radix-${t}`:""}var Vm="focusScope.autoFocusOnMount",qm="focusScope.autoFocusOnUnmount",l0={bubbles:!1,cancelable:!0},yM="FocusScope",kc=f.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...c}=e,[d,h]=f.useState(null),p=_r(o),v=_r(l),g=f.useRef(null),y=wt(t,_=>h(_)),b=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(n){let _=function(E){if(b.paused||!d)return;const N=E.target;d.contains(N)?g.current=N:Oa(g.current,{select:!0})},j=function(E){if(b.paused||!d)return;const N=E.relatedTarget;N!==null&&(d.contains(N)||Oa(g.current,{select:!0}))},k=function(E){if(document.activeElement===document.body)for(const O of E)O.removedNodes.length>0&&Oa(d)};document.addEventListener("focusin",_),document.addEventListener("focusout",j);const C=new MutationObserver(k);return d&&C.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",j),C.disconnect()}}},[n,d,b.paused]),f.useEffect(()=>{if(d){u0.add(b);const _=document.activeElement;if(!d.contains(_)){const k=new CustomEvent(Vm,l0);d.addEventListener(Vm,p),d.dispatchEvent(k),k.defaultPrevented||(wM(SM(oj(d)),{select:!0}),document.activeElement===_&&Oa(d))}return()=>{d.removeEventListener(Vm,p),setTimeout(()=>{const k=new CustomEvent(qm,l0);d.addEventListener(qm,v),d.dispatchEvent(k),k.defaultPrevented||Oa(_??document.body,{select:!0}),d.removeEventListener(qm,v),u0.remove(b)},0)}}},[d,p,v,b]);const S=f.useCallback(_=>{if(!r&&!n||b.paused)return;const j=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,k=document.activeElement;if(j&&k){const C=_.currentTarget,[E,N]=_M(C);E&&N?!_.shiftKey&&k===N?(_.preventDefault(),r&&Oa(E,{select:!0})):_.shiftKey&&k===E&&(_.preventDefault(),r&&Oa(N,{select:!0})):k===C&&_.preventDefault()}},[r,n,b.paused]);return s.jsx(st.div,{tabIndex:-1,...c,ref:y,onKeyDown:S})});kc.displayName=yM;function wM(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Oa(n,{select:t}),document.activeElement!==r)return}function _M(e){const t=oj(e),r=c0(t,e),n=c0(t.reverse(),e);return[r,n]}function oj(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function c0(e,t){for(const r of e)if(!bM(r,{upTo:t}))return r}function bM(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function jM(e){return e instanceof HTMLInputElement&&"select"in e}function Oa(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&jM(e)&&t&&e.select()}}var u0=NM();function NM(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=d0(e,t),e.unshift(t)},remove(t){e=d0(e,t),e[0]?.resume()}}}function d0(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function SM(e){return e.filter(t=>t.tagName!=="A")}var Hm=0;function vh(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??h0()),document.body.insertAdjacentElement("beforeend",e[1]??h0()),Hm++,()=>{Hm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Hm--}},[])}function h0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Sd="right-scroll-bar-position",Ed="width-before-scroll-bar",EM="with-scroll-bars-hidden",kM="--removed-body-scroll-bar-size";function Gm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function CM(e,t){var r=f.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=t,r.facade}var TM=typeof window<"u"?f.useLayoutEffect:f.useEffect,f0=new WeakMap;function RM(e,t){var r=CM(null,function(n){return e.forEach(function(o){return Gm(o,n)})});return TM(function(){var n=f0.get(r);if(n){var o=new Set(n),l=new Set(e),c=r.current;o.forEach(function(d){l.has(d)||Gm(d,null)}),l.forEach(function(d){o.has(d)||Gm(d,c)})}f0.set(r,e)},[e]),r}function AM(e){return e}function PM(e,t){t===void 0&&(t=AM);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(l){var c=t(l,n);return r.push(c),function(){r=r.filter(function(d){return d!==c})}},assignSyncMedium:function(l){for(n=!0;r.length;){var c=r;r=[],c.forEach(l)}r={push:function(d){return l(d)},filter:function(){return r}}},assignMedium:function(l){n=!0;var c=[];if(r.length){var d=r;r=[],d.forEach(l),c=r}var h=function(){var v=c;c=[],v.forEach(l)},p=function(){return Promise.resolve().then(h)};p(),r={push:function(v){c.push(v),p()},filter:function(v){return c=c.filter(v),r}}}};return o}function OM(e){e===void 0&&(e={});var t=PM(null);return t.options=As({async:!0,ssr:!1},e),t}var ij=function(e){var t=e.sideCar,r=Gi(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return f.createElement(n,As({},r))};ij.isSideCarExport=!0;function DM(e,t){return e.useMedium(t),ij}var lj=OM(),Km=function(){},xh=f.forwardRef(function(e,t){var r=f.useRef(null),n=f.useState({onScrollCapture:Km,onWheelCapture:Km,onTouchMoveCapture:Km}),o=n[0],l=n[1],c=e.forwardProps,d=e.children,h=e.className,p=e.removeScrollBar,v=e.enabled,g=e.shards,y=e.sideCar,b=e.noRelative,S=e.noIsolation,_=e.inert,j=e.allowPinchZoom,k=e.as,C=k===void 0?"div":k,E=e.gapMode,N=Gi(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=y,R=RM([r,t]),P=As(As({},N),o);return f.createElement(f.Fragment,null,v&&f.createElement(O,{sideCar:lj,removeScrollBar:p,shards:g,noRelative:b,noIsolation:S,inert:_,setCallbacks:l,allowPinchZoom:!!j,lockRef:r,gapMode:E}),c?f.cloneElement(f.Children.only(d),As(As({},P),{ref:R})):f.createElement(C,As({},P,{className:h,ref:R}),d))});xh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xh.classNames={fullWidth:Ed,zeroRight:Sd};var IM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function MM(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=IM();return t&&e.setAttribute("nonce",t),e}function LM(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function $M(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var FM=function(){var e=0,t=null;return{add:function(r){e==0&&(t=MM())&&(LM(t,r),$M(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},UM=function(){var e=FM();return function(t,r){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},cj=function(){var e=UM(),t=function(r){var n=r.styles,o=r.dynamic;return e(n,o),null};return t},BM={left:0,top:0,right:0,gap:0},Ym=function(e){return parseInt(e||"",10)||0},zM=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Ym(r),Ym(n),Ym(o)]},WM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return BM;var t=zM(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},VM=cj(),Si="data-scroll-locked",qM=function(e,t,r,n){var o=e.left,l=e.top,c=e.right,d=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(EM,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(d,"px ").concat(n,`;
  }
  body[`).concat(Si,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(d,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sd,` {
    right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(Ed,` {
    margin-right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(Sd," .").concat(Sd,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ed," .").concat(Ed,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Si,`] {
    `).concat(kM,": ").concat(d,`px;
  }
`)},m0=function(){var e=parseInt(document.body.getAttribute(Si)||"0",10);return isFinite(e)?e:0},HM=function(){f.useEffect(function(){return document.body.setAttribute(Si,(m0()+1).toString()),function(){var e=m0()-1;e<=0?document.body.removeAttribute(Si):document.body.setAttribute(Si,e.toString())}},[])},GM=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;HM();var l=f.useMemo(function(){return WM(o)},[o]);return f.createElement(VM,{styles:qM(l,!t,o,r?"":"!important")})},Wp=!1;if(typeof window<"u")try{var hd=Object.defineProperty({},"passive",{get:function(){return Wp=!0,!0}});window.addEventListener("test",hd,hd),window.removeEventListener("test",hd,hd)}catch{Wp=!1}var fi=Wp?{passive:!1}:!1,KM=function(e){return e.tagName==="TEXTAREA"},uj=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!KM(e)&&r[t]==="visible")},YM=function(e){return uj(e,"overflowY")},QM=function(e){return uj(e,"overflowX")},p0=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=dj(e,n);if(o){var l=hj(e,n),c=l[1],d=l[2];if(c>d)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},JM=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},ZM=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},dj=function(e,t){return e==="v"?YM(t):QM(t)},hj=function(e,t){return e==="v"?JM(t):ZM(t)},XM=function(e,t){return e==="h"&&t==="rtl"?-1:1},e4=function(e,t,r,n,o){var l=XM(e,window.getComputedStyle(t).direction),c=l*n,d=r.target,h=t.contains(d),p=!1,v=c>0,g=0,y=0;do{if(!d)break;var b=hj(e,d),S=b[0],_=b[1],j=b[2],k=_-j-l*S;(S||k)&&dj(e,d)&&(g+=k,y+=S);var C=d.parentNode;d=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!h&&d!==document.body||h&&(t.contains(d)||t===d));return(v&&Math.abs(g)<1||!v&&Math.abs(y)<1)&&(p=!0),p},fd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},g0=function(e){return[e.deltaX,e.deltaY]},v0=function(e){return e&&"current"in e?e.current:e},t4=function(e,t){return e[0]===t[0]&&e[1]===t[1]},r4=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},n4=0,mi=[];function s4(e){var t=f.useRef([]),r=f.useRef([0,0]),n=f.useRef(),o=f.useState(n4++)[0],l=f.useState(cj)[0],c=f.useRef(e);f.useEffect(function(){c.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var _=LO([e.lockRef.current],(e.shards||[]).map(v0),!0).filter(Boolean);return _.forEach(function(j){return j.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),_.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var d=f.useCallback(function(_,j){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!c.current.allowPinchZoom;var k=fd(_),C=r.current,E="deltaX"in _?_.deltaX:C[0]-k[0],N="deltaY"in _?_.deltaY:C[1]-k[1],O,R=_.target,P=Math.abs(E)>Math.abs(N)?"h":"v";if("touches"in _&&P==="h"&&R.type==="range")return!1;var I=window.getSelection(),Z=I&&I.anchorNode,B=Z?Z===R||Z.contains(R):!1;if(B)return!1;var X=p0(P,R);if(!X)return!0;if(X?O=P:(O=P==="v"?"h":"v",X=p0(P,R)),!X)return!1;if(!n.current&&"changedTouches"in _&&(E||N)&&(n.current=O),!O)return!0;var z=n.current||O;return e4(z,j,_,z==="h"?E:N)},[]),h=f.useCallback(function(_){var j=_;if(!(!mi.length||mi[mi.length-1]!==l)){var k="deltaY"in j?g0(j):fd(j),C=t.current.filter(function(O){return O.name===j.type&&(O.target===j.target||j.target===O.shadowParent)&&t4(O.delta,k)})[0];if(C&&C.should){j.cancelable&&j.preventDefault();return}if(!C){var E=(c.current.shards||[]).map(v0).filter(Boolean).filter(function(O){return O.contains(j.target)}),N=E.length>0?d(j,E[0]):!c.current.noIsolation;N&&j.cancelable&&j.preventDefault()}}},[]),p=f.useCallback(function(_,j,k,C){var E={name:_,delta:j,target:k,should:C,shadowParent:a4(k)};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(N){return N!==E})},1)},[]),v=f.useCallback(function(_){r.current=fd(_),n.current=void 0},[]),g=f.useCallback(function(_){p(_.type,g0(_),_.target,d(_,e.lockRef.current))},[]),y=f.useCallback(function(_){p(_.type,fd(_),_.target,d(_,e.lockRef.current))},[]);f.useEffect(function(){return mi.push(l),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",h,fi),document.addEventListener("touchmove",h,fi),document.addEventListener("touchstart",v,fi),function(){mi=mi.filter(function(_){return _!==l}),document.removeEventListener("wheel",h,fi),document.removeEventListener("touchmove",h,fi),document.removeEventListener("touchstart",v,fi)}},[]);var b=e.removeScrollBar,S=e.inert;return f.createElement(f.Fragment,null,S?f.createElement(l,{styles:r4(o)}):null,b?f.createElement(GM,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function a4(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const o4=DM(lj,s4);var Cc=f.forwardRef(function(e,t){return f.createElement(xh,As({},e,{ref:t,sideCar:o4}))});Cc.classNames=xh.classNames;var i4=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},pi=new WeakMap,md=new WeakMap,pd={},Qm=0,fj=function(e){return e&&(e.host||fj(e.parentNode))},l4=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=fj(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},c4=function(e,t,r,n){var o=l4(t,Array.isArray(e)?e:[e]);pd[r]||(pd[r]=new WeakMap);var l=pd[r],c=[],d=new Set,h=new Set(o),p=function(g){!g||d.has(g)||(d.add(g),p(g.parentNode))};o.forEach(p);var v=function(g){!g||h.has(g)||Array.prototype.forEach.call(g.children,function(y){if(d.has(y))v(y);else try{var b=y.getAttribute(n),S=b!==null&&b!=="false",_=(pi.get(y)||0)+1,j=(l.get(y)||0)+1;pi.set(y,_),l.set(y,j),c.push(y),_===1&&S&&md.set(y,!0),j===1&&y.setAttribute(r,"true"),S||y.setAttribute(n,"true")}catch(k){console.error("aria-hidden: cannot operate on ",y,k)}})};return v(t),d.clear(),Qm++,function(){c.forEach(function(g){var y=pi.get(g)-1,b=l.get(g)-1;pi.set(g,y),l.set(g,b),y||(md.has(g)||g.removeAttribute(n),md.delete(g)),b||g.removeAttribute(r)}),Qm--,Qm||(pi=new WeakMap,pi=new WeakMap,md=new WeakMap,pd={})}},yh=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=i4(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),c4(n,o,r,"aria-hidden")):function(){return null}};function u4(e){const t=d4(e),r=f.forwardRef((n,o)=>{const{children:l,...c}=n,d=f.Children.toArray(l),h=d.find(f4);if(h){const p=h.props.children,v=d.map(g=>g===h?f.Children.count(p)>1?f.Children.only(null):f.isValidElement(p)?p.props.children:null:g);return s.jsx(t,{...c,ref:o,children:f.isValidElement(p)?f.cloneElement(p,void 0,v):null})}return s.jsx(t,{...c,ref:o,children:l})});return r.displayName=`${e}.Slot`,r}function d4(e){const t=f.forwardRef((r,n)=>{const{children:o,...l}=r;if(f.isValidElement(o)){const c=p4(o),d=m4(l,o.props);return o.type!==f.Fragment&&(d.ref=n?$s(n,c):c),f.cloneElement(o,d)}return f.Children.count(o)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var h4=Symbol("radix.slottable");function f4(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===h4}function m4(e,t){const r={...t};for(const n in t){const o=e[n],l=t[n];/^on[A-Z]/.test(n)?o&&l?r[n]=(...d)=>{const h=l(...d);return o(...d),h}:o&&(r[n]=o):n==="style"?r[n]={...o,...l}:n==="className"&&(r[n]=[o,l].filter(Boolean).join(" "))}return{...e,...r}}function p4(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var wh="Dialog",[mj,pj]=vn(wh),[g4,js]=mj(wh),gj=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:o,onOpenChange:l,modal:c=!0}=e,d=f.useRef(null),h=f.useRef(null),[p,v]=Is({prop:n,defaultProp:o??!1,onChange:l,caller:wh});return s.jsx(g4,{scope:t,triggerRef:d,contentRef:h,contentId:Qn(),titleId:Qn(),descriptionId:Qn(),open:p,onOpenChange:v,onOpenToggle:f.useCallback(()=>v(g=>!g),[v]),modal:c,children:r})};gj.displayName=wh;var vj="DialogTrigger",xj=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=js(vj,r),l=wt(t,o.triggerRef);return s.jsx(st.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Bg(o.open),...n,ref:l,onClick:Ee(e.onClick,o.onOpenToggle)})});xj.displayName=vj;var Fg="DialogPortal",[v4,yj]=mj(Fg,{forceMount:void 0}),wj=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:o}=e,l=js(Fg,t);return s.jsx(v4,{scope:t,forceMount:r,children:f.Children.map(n,c=>s.jsx(qr,{present:r||l.open,children:s.jsx(zi,{asChild:!0,container:o,children:c})}))})};wj.displayName=Fg;var Ud="DialogOverlay",_j=f.forwardRef((e,t)=>{const r=yj(Ud,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,l=js(Ud,e.__scopeDialog);return l.modal?s.jsx(qr,{present:n||l.open,children:s.jsx(y4,{...o,ref:t})}):null});_j.displayName=Ud;var x4=u4("DialogOverlay.RemoveScroll"),y4=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=js(Ud,r);return s.jsx(Cc,{as:x4,allowPinchZoom:!0,shards:[o.contentRef],children:s.jsx(st.div,{"data-state":Bg(o.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Co="DialogContent",bj=f.forwardRef((e,t)=>{const r=yj(Co,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,l=js(Co,e.__scopeDialog);return s.jsx(qr,{present:n||l.open,children:l.modal?s.jsx(w4,{...o,ref:t}):s.jsx(_4,{...o,ref:t})})});bj.displayName=Co;var w4=f.forwardRef((e,t)=>{const r=js(Co,e.__scopeDialog),n=f.useRef(null),o=wt(t,r.contentRef,n);return f.useEffect(()=>{const l=n.current;if(l)return yh(l)},[]),s.jsx(jj,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(e.onCloseAutoFocus,l=>{l.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Ee(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&l.preventDefault()}),onFocusOutside:Ee(e.onFocusOutside,l=>l.preventDefault())})}),_4=f.forwardRef((e,t)=>{const r=js(Co,e.__scopeDialog),n=f.useRef(!1),o=f.useRef(!1);return s.jsx(jj,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{e.onCloseAutoFocus?.(l),l.defaultPrevented||(n.current||r.triggerRef.current?.focus(),l.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:l=>{e.onInteractOutside?.(l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=l.target;r.triggerRef.current?.contains(c)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),jj=f.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:l,...c}=e,d=js(Co,r),h=f.useRef(null),p=wt(t,h);return vh(),s.jsxs(s.Fragment,{children:[s.jsx(kc,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:l,children:s.jsx(Do,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Bg(d.open),...c,ref:p,onDismiss:()=>d.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(j4,{titleId:d.titleId}),s.jsx(S4,{contentRef:h,descriptionId:d.descriptionId})]})]})}),Ug="DialogTitle",Nj=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=js(Ug,r);return s.jsx(st.h2,{id:o.titleId,...n,ref:t})});Nj.displayName=Ug;var Sj="DialogDescription",Ej=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=js(Sj,r);return s.jsx(st.p,{id:o.descriptionId,...n,ref:t})});Ej.displayName=Sj;var kj="DialogClose",Cj=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=js(kj,r);return s.jsx(st.button,{type:"button",...n,ref:t,onClick:Ee(e.onClick,()=>o.onOpenChange(!1))})});Cj.displayName=kj;function Bg(e){return e?"open":"closed"}var Tj="DialogTitleWarning",[b4,Rj]=WC(Tj,{contentName:Co,titleName:Ug,docsSlug:"dialog"}),j4=({titleId:e})=>{const t=Rj(Tj),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},N4="DialogDescriptionWarning",S4=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Rj(N4).contentName}}.`;return f.useEffect(()=>{const o=e.current?.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},zg=gj,Wg=xj,Vg=wj,Tc=_j,Rc=bj,Ac=Nj,Pc=Ej,_h=Cj;const E4=zg,k4=Wg,C4=Vg,Aj=f.forwardRef(({className:e,...t},r)=>s.jsx(Tc,{className:Ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Aj.displayName=Tc.displayName;const T4=Sc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Pj=f.forwardRef(({side:e="right",className:t,children:r,...n},o)=>s.jsxs(C4,{children:[s.jsx(Aj,{}),s.jsxs(Rc,{ref:o,className:Ae(T4({side:e}),t),...n,children:[r,s.jsxs(_h,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(Fs,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Pj.displayName=Rc.displayName;const R4=f.forwardRef(({className:e,...t},r)=>s.jsx(Ac,{ref:r,className:Ae("text-lg font-semibold text-foreground",e),...t}));R4.displayName=Ac.displayName;const A4=f.forwardRef(({className:e,...t},r)=>s.jsx(Pc,{ref:r,className:Ae("text-sm text-muted-foreground",e),...t}));A4.displayName=Pc.displayName;const ot=f.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:Ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ot.displayName="Input";const x0=({className:e})=>{const[t,r]=f.useState(""),[n,o]=f.useState([]),[l,c]=f.useState(!1),[d,h]=f.useState(!1),[p,v]=f.useState(-1),g=ts(),y=f.useRef(null),b=f.useRef(null);f.useEffect(()=>{const N=setTimeout(async()=>{if(t.trim().length<2){o([]),c(!1);return}h(!0);try{const O=`%${t.trim()}%`,{data:R,error:P}=await M.from("profiles").select("id, first_name, last_name, avatar_url, sport, university").or(`first_name.ilike.${O},last_name.ilike.${O}`).eq("approval_status","approved").limit(8);P?(console.error("Search error:",P),o([])):(o(R||[]),c(!0))}catch(O){console.error("Search error:",O),o([])}finally{h(!1)}},300);return()=>clearTimeout(N)},[t]),f.useEffect(()=>{const E=N=>{y.current&&!y.current.contains(N.target)&&(c(!1),v(-1))};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const S=E=>{if(!(!l||n.length===0))switch(E.key){case"ArrowDown":E.preventDefault(),v(N=>N<n.length-1?N+1:N);break;case"ArrowUp":E.preventDefault(),v(N=>N>0?N-1:N);break;case"Enter":E.preventDefault(),p>=0&&n[p]&&_(n[p]);break;case"Escape":c(!1),v(-1),b.current?.blur();break}},_=E=>{g(`/profile/${E.id}`),r(""),o([]),c(!1),v(-1)},j=()=>{r(""),o([]),c(!1),v(-1),b.current?.focus()},k=E=>{const N=E.first_name||"",O=E.last_name||"";return`${N} ${O}`.trim()||"Unknown User"},C=E=>{const N=E.first_name?.charAt(0)||"",O=E.last_name?.charAt(0)||"";return`${N}${O}`.toUpperCase()||"U"};return s.jsxs("div",{ref:y,className:Ae("relative",e),children:[s.jsxs("div",{className:"relative",children:[s.jsx(_g,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-white/60"}),s.jsx(ot,{ref:b,type:"text",placeholder:"Search users...",value:t,onChange:E=>r(E.target.value),onFocus:()=>t.trim().length>=2&&n.length>0&&c(!0),onKeyDown:S,className:"pl-9 pr-8 h-9 w-48 lg:w-64 bg-white/10 border-white/20 text-white placeholder:text-white/60 focus:bg-white/20 focus:border-white/40 transition-all"}),t&&s.jsx("button",{onClick:j,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded-full hover:bg-white/10 transition-colors",children:s.jsx(Fs,{className:"h-3 w-3 text-white/60"})})]}),l&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white rounded-lg shadow-xl border border-gray-200 overflow-hidden z-[100]",children:d?s.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"Searching..."}):n.length>0?s.jsx("ul",{className:"max-h-80 overflow-y-auto",children:n.map((E,N)=>s.jsx("li",{children:s.jsxs("button",{onClick:()=>_(E),onMouseEnter:()=>v(N),className:Ae("w-full px-4 py-3 flex items-center gap-3 hover:bg-gray-50 transition-colors text-left",p===N&&"bg-gray-50"),children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-navy text-white flex items-center justify-center font-semibold text-sm overflow-hidden flex-shrink-0",children:E.avatar_url?s.jsx("img",{src:E.avatar_url,alt:k(E),className:"w-full h-full object-cover"}):s.jsx("span",{children:C(E)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-gray-900 truncate",children:k(E)}),(E.sport||E.university)&&s.jsx("p",{className:"text-sm text-gray-500 truncate",children:[E.sport,E.university].filter(Boolean).join("  ")})]}),s.jsx(wp,{className:"h-4 w-4 text-gray-400 flex-shrink-0"})]})},E.id))}):t.trim().length>=2?s.jsxs("div",{className:"p-4 text-center text-gray-500 text-sm",children:['No users found for "',t,'"']}):null})]})},P4=()=>{const[e,t]=f.useState(!1),[r,n]=f.useState(null),[o,l]=f.useState(null),[c,d]=f.useState(null),[h,p]=f.useState(!1),v=es(),g=ts(),{toast:y}=Or();f.useEffect(()=>{let k=!0;const C=async N=>{if(!k)return;const[O,R]=await Promise.all([M.from("user_roles").select("role").eq("user_id",N).limit(1),M.from("profiles").select("first_name, last_name, avatar_url").eq("id",N).single()]);if(k){const P=O.data?.[0]?.role??null;n(P),t(P==="admin"),d(R.data)}};M.auth.getSession().then(({data:{session:N}})=>{k&&(l(N),N?.user&&C(N.user.id))});const{data:{subscription:E}}=M.auth.onAuthStateChange((N,O)=>{k&&(l(O),O?.user?C(O.user.id):(t(!1),n(null),d(null)))});return()=>{k=!1,E.unsubscribe()}},[]),f.useEffect(()=>{p(!1)},[v.pathname]);const b=async()=>{const{error:k}=await M.auth.signOut();k?y({title:"Error",description:"Failed to sign out",variant:"destructive"}):(y({title:"Signed out",description:"You have been signed out successfully"}),g("/auth"))},S=`${c?.first_name?.charAt(0)||""}${c?.last_name?.charAt(0)||""}`.toUpperCase()||"U";if(v.pathname==="/auth")return null;const _=({imageUrl:k})=>k?s.jsx("img",{src:k,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):s.jsx("span",{children:S}),j=({mobile:k=!1})=>s.jsxs(s.Fragment,{children:[s.jsx(vo,{to:"/home",end:!0,className:`${k?"block w-full":""} px-4 py-2 rounded-lg text-sm font-medium text-white/90 hover:bg-white/10 transition-all`,activeClassName:"bg-white/10 text-white",children:"Home"}),s.jsx(vo,{to:"/opportunities",className:`${k?"block w-full":""} px-4 py-2 rounded-lg text-sm font-medium text-white/90 hover:bg-white/10 transition-all`,activeClassName:"bg-white/10 text-white",children:"Opportunities"}),s.jsxs(vo,{to:"/my-hub",className:`${k?"block w-full":""} px-4 py-2 rounded-lg text-sm font-medium text-white/90 hover:bg-white/10 transition-all flex items-center gap-1`,activeClassName:"bg-white/10 text-white",children:[s.jsx(Vr,{className:"h-4 w-4"}),"Network"]}),s.jsxs(vo,{to:"/lace-hub",className:`${k?"block w-full":""} px-4 py-2 rounded-lg text-sm font-medium text-white/90 hover:bg-white/10 transition-all flex items-center gap-1`,activeClassName:"bg-white/10 text-white",children:[s.jsx(ys,{className:"h-4 w-4"}),"LaceHub"]}),s.jsxs(vo,{to:"/messages",className:`${k?"block w-full":""} px-4 py-2 rounded-lg text-sm font-medium text-white/90 hover:bg-white/10 transition-all flex items-center gap-1`,activeClassName:"bg-white/10 text-white",children:[s.jsx(Eo,{className:"h-4 w-4"}),"Messages"]}),e&&s.jsxs(vo,{to:"/admin",className:`${k?"block w-full":""} px-4 py-2 rounded-lg text-sm font-medium text-white/90 hover:bg-white/10 transition-all flex items-center gap-1`,activeClassName:"bg-white/10 text-white",children:[s.jsx(JR,{className:"h-4 w-4"}),"Admin"]})]});return s.jsx("nav",{className:"sticky top-0 z-50 bg-gradient-to-r from-navy to-navy-light text-white shadow-lg",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:s.jsxs("div",{className:"flex items-center justify-between h-16 gap-8",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0",children:[s.jsxs(Zt,{to:"/home",className:"flex items-center gap-1 hover:opacity-80 transition-opacity",children:[s.jsx("img",{src:"/Logo_No_Background.svg",alt:"LaceUP",className:"h-10 w-auto"}),s.jsx("span",{className:"text-2xl font-heading font-bold text-gold",children:"LaceUP"})]}),s.jsx("div",{className:"hidden md:block",children:s.jsx(x0,{})})]}),s.jsxs("div",{className:"hidden md:flex items-center space-x-1 gap-1 flex-shrink-0",children:[s.jsx(j,{}),s.jsx(Zt,{to:"/profile",className:"ml-2 w-9 h-9 rounded-full bg-gold text-navy flex items-center justify-center font-semibold text-sm hover:opacity-80 transition-opacity overflow-hidden",children:s.jsx(_,{imageUrl:c?.avatar_url})}),s.jsxs(de,{variant:"ghost",size:"sm",onClick:b,className:"ml-2 text-white/90 hover:bg-white/10 hover:text-white",children:[s.jsx(gp,{className:"h-4 w-4"}),"Logout"]})]}),s.jsxs("div",{className:"flex md:hidden items-center space-x-2",children:[s.jsx(Zt,{to:"/profile",className:"w-8 h-8 rounded-full bg-gold text-navy flex items-center justify-center font-semibold text-xs overflow-hidden",children:s.jsx(_,{imageUrl:c?.avatar_url})}),s.jsxs(E4,{open:h,onOpenChange:p,children:[s.jsx(k4,{asChild:!0,children:s.jsx(de,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/10",children:s.jsx(tb,{className:"h-6 w-6"})})}),s.jsx(Pj,{side:"right",className:"w-64 bg-navy border-navy-light p-0",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center gap-2",children:[s.jsx("img",{src:"/Logo_No_Background.svg",alt:"LaceUP",className:"h-8 w-auto"}),s.jsx("span",{className:"text-lg font-heading font-bold text-gold",children:"LaceUP"})]}),s.jsx("div",{className:"p-4 border-b border-white/10",children:s.jsx(x0,{className:"w-full"})}),s.jsx("div",{className:"flex-1 p-4 space-y-2",children:s.jsx(j,{mobile:!0})}),s.jsx("div",{className:"p-4 border-t border-white/10 space-y-2",children:s.jsxs(de,{variant:"ghost",size:"sm",onClick:b,className:"w-full justify-start text-white/90 hover:bg-white/10 hover:text-white",children:[s.jsx(gp,{className:"h-4 w-4"}),"Logout"]})})]})})]})]})]})})})},hn=zg,Ei=Wg,O4=Vg,Oj=f.forwardRef(({className:e,...t},r)=>s.jsx(Tc,{ref:r,className:Ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Oj.displayName=Tc.displayName;const fn=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(O4,{children:[s.jsx(Oj,{}),s.jsxs(Rc,{ref:n,className:Ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(_h,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(Fs,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));fn.displayName=Rc.displayName;const Cn=({className:e,...t})=>s.jsx("div",{className:Ae("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Cn.displayName="DialogHeader";const qg=({className:e,...t})=>s.jsx("div",{className:Ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});qg.displayName="DialogFooter";const mn=f.forwardRef(({className:e,...t},r)=>s.jsx(Ac,{ref:r,className:Ae("text-lg font-semibold leading-none tracking-tight",e),...t}));mn.displayName=Ac.displayName;const Tn=f.forwardRef(({className:e,...t},r)=>s.jsx(Pc,{ref:r,className:Ae("text-sm text-muted-foreground",e),...t}));Tn.displayName=Pc.displayName;const Zr=f.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:Ae("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Zr.displayName="Textarea";const D4=()=>{const[e,t]=f.useState(!1),{toast:r}=Or();return{submitFeedback:async(o,l)=>{try{t(!0);const{data:{user:c},error:d}=await M.auth.getUser();if(d||!c)throw new Error("User not authenticated");const{error:h}=await M.from("feedback").insert({user_id:c.id,message:o,context_url:l});if(h)throw h;return r({title:"Success",description:"Thank you for your feedback!"}),!0}catch(c){return console.error("Error submitting feedback:",c),r({title:"Error",description:c instanceof Error?c.message:"Failed to submit feedback",variant:"destructive"}),!1}finally{t(!1)}},isLoading:e}},I4=()=>{const[e,t]=f.useState(!1),[r,n]=f.useState(""),{submitFeedback:o,isLoading:l}=D4(),c=es();if(c.pathname==="/auth"||c.pathname==="/admin")return null;const d=p=>{p||n(""),t(p)},h=async()=>{if(!r.trim())return;const p=window.location.href;await o(r,p)&&(n(""),t(!1))};return s.jsxs(hn,{open:e,onOpenChange:d,children:[s.jsx(Ei,{asChild:!0,children:s.jsxs(de,{size:"lg",className:"fixed bottom-6 right-6 rounded-full shadow-lg hover:shadow-xl transition-shadow",title:"Submit Feedback",children:[s.jsx(rb,{className:"h-5 w-5 mr-2"}),"Submit Feedback"]})}),s.jsxs(fn,{className:"w-[95vw] sm:w-full sm:max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(Cn,{children:[s.jsx(mn,{children:"Send us your feedback"}),s.jsx(Tn,{children:"Help us improve by sharing your thoughts and suggestions"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Zr,{placeholder:"Tell us what you think...",value:r,onChange:p=>n(p.target.value),className:"min-h-[120px] resize-none"}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(de,{variant:"outline",onClick:()=>t(!1),disabled:l,children:"Cancel"}),s.jsx(de,{onClick:h,disabled:!r.trim()||l,children:l?"Sending...":"Send Feedback"})]})]})]})]})},Aa=({children:e})=>{const[t,r]=f.useState(null),[n,o]=f.useState(!0),[l,c]=f.useState(null);return f.useEffect(()=>{let d=!0;const h=async v=>{try{const{data:g}=await M.from("profiles").select("approval_status").eq("id",v).single();d&&(c(g?.approval_status==="approved"),o(!1))}catch(g){console.error("Error checking approval status:",g),d&&(c(!1),o(!1))}};M.auth.getSession().then(({data:{session:v}})=>{d&&(r(v),v?.user?h(v.user.id):o(!1))});const{data:{subscription:p}}=M.auth.onAuthStateChange((v,g)=>{d&&(r(g),g?.user?(o(!0),h(g.user.id)):(c(null),o(!1)))});return()=>{d=!1,p.unsubscribe()}},[]),n?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold"})}):t?l===!1?(M.auth.signOut(),s.jsx(Mw,{to:"/auth",replace:!0})):s.jsx(s.Fragment,{children:e}):s.jsx(Mw,{to:"/auth",replace:!0})},y0=900*1e3,M4=120*1e3,L4=()=>{const{toast:e}=Or(),t=f.useRef(null),r=f.useRef(null),n=f.useRef(!1),o=f.useCallback(async()=>{await M.auth.signOut(),e({title:"Session Expired",description:"You've been logged out due to inactivity.",variant:"destructive"})},[e]),l=f.useCallback(()=>{n.current||(n.current=!0,e({title:"Session Expiring Soon",description:"You'll be logged out in 2 minutes due to inactivity. Move your mouse or click to stay logged in.",duration:1e4}))},[e]),c=f.useCallback(()=>{t.current&&clearTimeout(t.current),r.current&&clearTimeout(r.current),n.current=!1,r.current=setTimeout(()=>{l()},y0-M4),t.current=setTimeout(()=>{o()},y0)},[o,l]);return f.useEffect(()=>{(async()=>{const{data:{session:h}}=await M.auth.getSession();if(!h)return;c();const p=["mousedown","mousemove","keypress","scroll","touchstart","click"];return p.forEach(v=>{document.addEventListener(v,c,!0)}),()=>{p.forEach(v=>{document.removeEventListener(v,c,!0)}),t.current&&clearTimeout(t.current),r.current&&clearTimeout(r.current)}})()},[c]),{resetTimer:c}},$4=Sc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function qe({className:e,variant:t,...r}){return s.jsx("div",{className:Ae($4({variant:t}),e),...r})}const Ye=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ae("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ye.displayName="Card";const yr=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ae("flex flex-col space-y-1.5 p-6",e),...t}));yr.displayName="CardHeader";const wr=f.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:Ae("text-2xl font-semibold leading-none tracking-tight",e),...t}));wr.displayName="CardTitle";const nn=f.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:Ae("text-sm text-muted-foreground",e),...t}));nn.displayName="CardDescription";const Jt=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ae("p-6 pt-0",e),...t}));Jt.displayName="CardContent";const F4=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ae("flex items-center p-6 pt-0",e),...t}));F4.displayName="CardFooter";function U4(e,t=[]){let r=[];function n(l,c){const d=f.createContext(c);d.displayName=l+"Context";const h=r.length;r=[...r,c];const p=g=>{const{scope:y,children:b,...S}=g,_=y?.[e]?.[h]||d,j=f.useMemo(()=>S,Object.values(S));return s.jsx(_.Provider,{value:j,children:b})};p.displayName=l+"Provider";function v(g,y){const b=y?.[e]?.[h]||d,S=f.useContext(b);if(S)return S;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[p,v]}const o=()=>{const l=r.map(c=>f.createContext(c));return function(d){const h=d?.[e]||l;return f.useMemo(()=>({[`__scope${e}`]:{...d,[e]:h}}),[d,h])}};return o.scopeName=e,[n,B4(o,...t)]}function B4(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const c=n.reduce((d,{useScope:h,scopeName:p})=>{const g=h(l)[`__scope${p}`];return{...d,...g}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}var z4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Hg=z4.reduce((e,t)=>{const r=Pg(`Primitive.${t}`),n=f.forwardRef((o,l)=>{const{asChild:c,...d}=o,h=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(h,{...d,ref:l})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Jm={exports:{}},Zm={};var w0;function W4(){if(w0)return Zm;w0=1;var e=nh();function t(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,o=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function d(g,y){var b=y(),S=n({inst:{value:b,getSnapshot:y}}),_=S[0].inst,j=S[1];return l(function(){_.value=b,_.getSnapshot=y,h(_)&&j({inst:_})},[g,b,y]),o(function(){return h(_)&&j({inst:_}),g(function(){h(_)&&j({inst:_})})},[g]),c(b),b}function h(g){var y=g.getSnapshot;g=g.value;try{var b=y();return!r(g,b)}catch{return!0}}function p(g,y){return y()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:d;return Zm.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:v,Zm}var _0;function V4(){return _0||(_0=1,Jm.exports=W4()),Jm.exports}var q4=V4();function H4(){return q4.useSyncExternalStore(G4,()=>!0,()=>!1)}function G4(){return()=>{}}var Gg="Avatar",[K4]=U4(Gg),[Y4,Dj]=K4(Gg),Ij=f.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[o,l]=f.useState("idle");return s.jsx(Y4,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:l,children:s.jsx(Hg.span,{...n,ref:t})})});Ij.displayName=Gg;var Mj="AvatarImage",Lj=f.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:o=()=>{},...l}=e,c=Dj(Mj,r),d=Q4(n,l),h=_r(p=>{o(p),c.onImageLoadingStatusChange(p)});return Sr(()=>{d!=="idle"&&h(d)},[d,h]),d==="loaded"?s.jsx(Hg.img,{...l,ref:t,src:n}):null});Lj.displayName=Mj;var $j="AvatarFallback",Fj=f.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...o}=e,l=Dj($j,r),[c,d]=f.useState(n===void 0);return f.useEffect(()=>{if(n!==void 0){const h=window.setTimeout(()=>d(!0),n);return()=>window.clearTimeout(h)}},[n]),c&&l.imageLoadingStatus!=="loaded"?s.jsx(Hg.span,{...o,ref:t}):null});Fj.displayName=$j;function b0(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Q4(e,{referrerPolicy:t,crossOrigin:r}){const n=H4(),o=f.useRef(null),l=n?(o.current||(o.current=new window.Image),o.current):null,[c,d]=f.useState(()=>b0(l,e));return Sr(()=>{d(b0(l,e))},[l,e]),Sr(()=>{const h=g=>()=>{d(g)};if(!l)return;const p=h("loaded"),v=h("error");return l.addEventListener("load",p),l.addEventListener("error",v),t&&(l.referrerPolicy=t),typeof r=="string"&&(l.crossOrigin=r),()=>{l.removeEventListener("load",p),l.removeEventListener("error",v)}},[l,r,t]),c}var Uj=Ij,Bj=Lj,zj=Fj;const lr=f.forwardRef(({className:e,...t},r)=>s.jsx(Uj,{ref:r,className:Ae("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));lr.displayName=Uj.displayName;const cr=f.forwardRef(({className:e,...t},r)=>s.jsx(Bj,{ref:r,className:Ae("aspect-square h-full w-full object-cover",e),...t}));cr.displayName=Bj.displayName;const ur=f.forwardRef(({className:e,...t},r)=>s.jsx(zj,{ref:r,className:Ae("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));ur.displayName=zj.displayName;function Xt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function qa(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Wj=6048e5,J4=864e5,gd=43200,j0=1440;let Z4={};function Oc(){return Z4}function mc(e,t){const r=Oc(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=Xt(e),l=o.getDay(),c=(l<n?7:0)+l-n;return o.setDate(o.getDate()-c),o.setHours(0,0,0,0),o}function Bd(e){return mc(e,{weekStartsOn:1})}function Vj(e){const t=Xt(e),r=t.getFullYear(),n=qa(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const o=Bd(n),l=qa(e,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const c=Bd(l);return t.getTime()>=o.getTime()?r+1:t.getTime()>=c.getTime()?r:r-1}function N0(e){const t=Xt(e);return t.setHours(0,0,0,0),t}function zd(e){const t=Xt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function X4(e,t){const r=N0(e),n=N0(t),o=+r-zd(r),l=+n-zd(n);return Math.round((o-l)/J4)}function eL(e){const t=Vj(e),r=qa(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Bd(r)}function kd(e,t){const r=Xt(e),n=Xt(t),o=r.getTime()-n.getTime();return o<0?-1:o>0?1:o}function tL(e){return qa(e,Date.now())}function rL(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function nL(e){if(!rL(e)&&typeof e!="number")return!1;const t=Xt(e);return!isNaN(Number(t))}function sL(e,t){const r=Xt(e),n=Xt(t),o=r.getFullYear()-n.getFullYear(),l=r.getMonth()-n.getMonth();return o*12+l}function aL(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function oL(e,t){return+Xt(e)-+Xt(t)}function iL(e){const t=Xt(e);return t.setHours(23,59,59,999),t}function lL(e){const t=Xt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function cL(e){const t=Xt(e);return+iL(t)==+lL(t)}function uL(e,t){const r=Xt(e),n=Xt(t),o=kd(r,n),l=Math.abs(sL(r,n));let c;if(l<1)c=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-o*l);let d=kd(r,n)===-o;cL(Xt(e))&&l===1&&kd(e,n)===1&&(d=!1),c=o*(l-Number(d))}return c===0?0:c}function dL(e,t,r){const n=oL(e,t)/1e3;return aL(r?.roundingMethod)(n)}function hL(e){const t=Xt(e),r=qa(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const fL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},mL=(e,t,r)=>{let n;const o=fL[e];return typeof o=="string"?n=o:t===1?n=o.one:n=o.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Xm(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const pL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xL={date:Xm({formats:pL,defaultWidth:"full"}),time:Xm({formats:gL,defaultWidth:"full"}),dateTime:Xm({formats:vL,defaultWidth:"full"})},yL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},wL=(e,t,r,n)=>yL[e];function Ul(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let o;if(n==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,d=r?.width?String(r.width):c;o=e.formattingValues[d]||e.formattingValues[c]}else{const c=e.defaultWidth,d=r?.width?String(r.width):e.defaultWidth;o=e.values[d]||e.values[c]}const l=e.argumentCallback?e.argumentCallback(t):t;return o[l]}}const _L={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},bL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},NL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},SL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},EL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kL=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},CL={ordinalNumber:kL,era:Ul({values:_L,defaultWidth:"wide"}),quarter:Ul({values:bL,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ul({values:jL,defaultWidth:"wide"}),day:Ul({values:NL,defaultWidth:"wide"}),dayPeriod:Ul({values:SL,defaultWidth:"wide",formattingValues:EL,defaultFormattingWidth:"wide"})};function Bl(e){return(t,r={})=>{const n=r.width,o=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],l=t.match(o);if(!l)return null;const c=l[0],d=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(d)?RL(d,g=>g.test(c)):TL(d,g=>g.test(c));let p;p=e.valueCallback?e.valueCallback(h):h,p=r.valueCallback?r.valueCallback(p):p;const v=t.slice(c.length);return{value:p,rest:v}}}function TL(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function RL(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function AL(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const o=n[0],l=t.match(e.parsePattern);if(!l)return null;let c=e.valueCallback?e.valueCallback(l[0]):l[0];c=r.valueCallback?r.valueCallback(c):c;const d=t.slice(o.length);return{value:c,rest:d}}}const PL=/^(\d+)(th|st|nd|rd)?/i,OL=/\d+/i,DL={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},IL={any:[/^b/i,/^(a|c)/i]},ML={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},LL={any:[/1/i,/2/i,/3/i,/4/i]},$L={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},FL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},UL={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},BL={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},WL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},VL={ordinalNumber:AL({matchPattern:PL,parsePattern:OL,valueCallback:e=>parseInt(e,10)}),era:Bl({matchPatterns:DL,defaultMatchWidth:"wide",parsePatterns:IL,defaultParseWidth:"any"}),quarter:Bl({matchPatterns:ML,defaultMatchWidth:"wide",parsePatterns:LL,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Bl({matchPatterns:$L,defaultMatchWidth:"wide",parsePatterns:FL,defaultParseWidth:"any"}),day:Bl({matchPatterns:UL,defaultMatchWidth:"wide",parsePatterns:BL,defaultParseWidth:"any"}),dayPeriod:Bl({matchPatterns:zL,defaultMatchWidth:"any",parsePatterns:WL,defaultParseWidth:"any"})},qj={code:"en-US",formatDistance:mL,formatLong:xL,formatRelative:wL,localize:CL,match:VL,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qL(e){const t=Xt(e);return X4(t,hL(t))+1}function HL(e){const t=Xt(e),r=+Bd(t)-+eL(t);return Math.round(r/Wj)+1}function Hj(e,t){const r=Xt(e),n=r.getFullYear(),o=Oc(),l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,c=qa(e,0);c.setFullYear(n+1,0,l),c.setHours(0,0,0,0);const d=mc(c,t),h=qa(e,0);h.setFullYear(n,0,l),h.setHours(0,0,0,0);const p=mc(h,t);return r.getTime()>=d.getTime()?n+1:r.getTime()>=p.getTime()?n:n-1}function GL(e,t){const r=Oc(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=Hj(e,t),l=qa(e,0);return l.setFullYear(o,0,n),l.setHours(0,0,0,0),mc(l,t)}function KL(e,t){const r=Xt(e),n=+mc(r,t)-+GL(r,t);return Math.round(n/Wj)+1}function Gt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Pa={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Gt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Gt(r+1,2)},d(e,t){return Gt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Gt(e.getHours()%12||12,t.length)},H(e,t){return Gt(e.getHours(),t.length)},m(e,t){return Gt(e.getMinutes(),t.length)},s(e,t){return Gt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),o=Math.trunc(n*Math.pow(10,r-3));return Gt(o,t.length)}},gi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},S0={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),o=n>0?n:1-n;return r.ordinalNumber(o,{unit:"year"})}return Pa.y(e,t)},Y:function(e,t,r,n){const o=Hj(e,n),l=o>0?o:1-o;if(t==="YY"){const c=l%100;return Gt(c,2)}return t==="Yo"?r.ordinalNumber(l,{unit:"year"}):Gt(l,t.length)},R:function(e,t){const r=Vj(e);return Gt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Gt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Gt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Gt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Pa.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Gt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const o=KL(e,n);return t==="wo"?r.ordinalNumber(o,{unit:"week"}):Gt(o,t.length)},I:function(e,t,r){const n=HL(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Gt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Pa.d(e,t)},D:function(e,t,r){const n=qL(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Gt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const o=e.getDay(),l=(o-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return Gt(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const o=e.getDay(),l=(o-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return Gt(l,t.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),o=n===0?7:n;switch(t){case"i":return String(o);case"ii":return Gt(o,t.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let o;switch(n===12?o=gi.noon:n===0?o=gi.midnight:o=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let o;switch(n>=17?o=gi.evening:n>=12?o=gi.afternoon:n>=4?o=gi.morning:o=gi.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Pa.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Pa.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Gt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Gt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Pa.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Pa.s(e,t)},S:function(e,t){return Pa.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return k0(n);case"XXXX":case"XX":return yo(n);default:return yo(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return k0(n);case"xxxx":case"xx":return yo(n);default:return yo(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+E0(n,":");default:return"GMT"+yo(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+E0(n,":");default:return"GMT"+yo(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Gt(n,t.length)},T:function(e,t,r){const n=e.getTime();return Gt(n,t.length)}};function E0(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),o=Math.trunc(n/60),l=n%60;return l===0?r+String(o):r+String(o)+t+Gt(l,2)}function k0(e,t){return e%60===0?(e>0?"-":"+")+Gt(Math.abs(e)/60,2):yo(e,t)}function yo(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),o=Gt(Math.trunc(n/60),2),l=Gt(n%60,2);return r+o+t+l}const C0=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Gj=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},YL=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],o=r[2];if(!o)return C0(e,t);let l;switch(n){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",C0(n,t)).replace("{{time}}",Gj(o,t))},QL={p:Gj,P:YL},JL=/^D+$/,ZL=/^Y+$/,XL=["D","DD","YY","YYYY"];function e$(e){return JL.test(e)}function t$(e){return ZL.test(e)}function r$(e,t,r){const n=n$(e,t,r);if(console.warn(n),XL.includes(e))throw new RangeError(n)}function n$(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const s$=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,a$=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,o$=/^'([^]*?)'?$/,i$=/''/g,l$=/[a-zA-Z]/;function c$(e,t,r){const n=Oc(),o=n.locale??qj,l=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,c=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,d=Xt(e);if(!nL(d))throw new RangeError("Invalid time value");let h=t.match(a$).map(v=>{const g=v[0];if(g==="p"||g==="P"){const y=QL[g];return y(v,o.formatLong)}return v}).join("").match(s$).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const g=v[0];if(g==="'")return{isToken:!1,value:u$(v)};if(S0[g])return{isToken:!0,value:v};if(g.match(l$))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:v}});o.localize.preprocessor&&(h=o.localize.preprocessor(d,h));const p={firstWeekContainsDate:l,weekStartsOn:c,locale:o};return h.map(v=>{if(!v.isToken)return v.value;const g=v.value;(t$(g)||e$(g))&&r$(g,t,String(e));const y=S0[g[0]];return y(d,g,o.localize,p)}).join("")}function u$(e){const t=e.match(o$);return t?t[1].replace(i$,"'"):e}function d$(e,t,r){const n=Oc(),o=r?.locale??n.locale??qj,l=2520,c=kd(e,t);if(isNaN(c))throw new RangeError("Invalid time value");const d=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:c});let h,p;c>0?(h=Xt(t),p=Xt(e)):(h=Xt(e),p=Xt(t));const v=dL(p,h),g=(zd(p)-zd(h))/1e3,y=Math.round((v-g)/60);let b;if(y<2)return r?.includeSeconds?v<5?o.formatDistance("lessThanXSeconds",5,d):v<10?o.formatDistance("lessThanXSeconds",10,d):v<20?o.formatDistance("lessThanXSeconds",20,d):v<40?o.formatDistance("halfAMinute",0,d):v<60?o.formatDistance("lessThanXMinutes",1,d):o.formatDistance("xMinutes",1,d):y===0?o.formatDistance("lessThanXMinutes",1,d):o.formatDistance("xMinutes",y,d);if(y<45)return o.formatDistance("xMinutes",y,d);if(y<90)return o.formatDistance("aboutXHours",1,d);if(y<j0){const S=Math.round(y/60);return o.formatDistance("aboutXHours",S,d)}else{if(y<l)return o.formatDistance("xDays",1,d);if(y<gd){const S=Math.round(y/j0);return o.formatDistance("xDays",S,d)}else if(y<gd*2)return b=Math.round(y/gd),o.formatDistance("aboutXMonths",b,d)}if(b=uL(p,h),b<12){const S=Math.round(y/gd);return o.formatDistance("xMonths",S,d)}else{const S=b%12,_=Math.trunc(b/12);return S<3?o.formatDistance("aboutXYears",_,d):S<9?o.formatDistance("overXYears",_,d):o.formatDistance("almostXYears",_+1,d)}}function To(e,t){return d$(e,tL(e),t)}const{entries:Kj,setPrototypeOf:T0,isFrozen:h$,getPrototypeOf:f$,getOwnPropertyDescriptor:m$}=Object;let{freeze:pn,seal:Xn,create:Vp}=Object,{apply:qp,construct:Hp}=typeof Reflect<"u"&&Reflect;pn||(pn=function(t){return t});Xn||(Xn=function(t){return t});qp||(qp=function(t,r){for(var n=arguments.length,o=new Array(n>2?n-2:0),l=2;l<n;l++)o[l-2]=arguments[l];return t.apply(r,o)});Hp||(Hp=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return new t(...n)});const vd=gn(Array.prototype.forEach),p$=gn(Array.prototype.lastIndexOf),R0=gn(Array.prototype.pop),zl=gn(Array.prototype.push),g$=gn(Array.prototype.splice),Cd=gn(String.prototype.toLowerCase),ep=gn(String.prototype.toString),tp=gn(String.prototype.match),Wl=gn(String.prototype.replace),v$=gn(String.prototype.indexOf),x$=gn(String.prototype.trim),fs=gn(Object.prototype.hasOwnProperty),on=gn(RegExp.prototype.test),Vl=y$(TypeError);function gn(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return qp(e,t,n)}}function y$(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Hp(e,r)}}function Tt(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Cd;T0&&T0(e,null);let n=t.length;for(;n--;){let o=t[n];if(typeof o=="string"){const l=r(o);l!==o&&(h$(t)||(t[n]=l),o=l)}e[o]=!0}return e}function w$(e){for(let t=0;t<e.length;t++)fs(e,t)||(e[t]=null);return e}function Rs(e){const t=Vp(null);for(const[r,n]of Kj(e))fs(e,r)&&(Array.isArray(n)?t[r]=w$(n):n&&typeof n=="object"&&n.constructor===Object?t[r]=Rs(n):t[r]=n);return t}function ql(e,t){for(;e!==null;){const n=m$(e,t);if(n){if(n.get)return gn(n.get);if(typeof n.value=="function")return gn(n.value)}e=f$(e)}function r(){return null}return r}const A0=pn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),rp=pn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),np=pn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),_$=pn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),sp=pn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),b$=pn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),P0=pn(["#text"]),O0=pn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),ap=pn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),D0=pn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xd=pn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),j$=Xn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),N$=Xn(/<%[\w\W]*|[\w\W]*%>/gm),S$=Xn(/\$\{[\w\W]*/gm),E$=Xn(/^data-[\-\w.\u00B7-\uFFFF]+$/),k$=Xn(/^aria-[\-\w]+$/),Yj=Xn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),C$=Xn(/^(?:\w+script|data):/i),T$=Xn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Qj=Xn(/^html$/i),R$=Xn(/^[a-z][.\w]*(-[.\w]+)+$/i);var I0=Object.freeze({__proto__:null,ARIA_ATTR:k$,ATTR_WHITESPACE:T$,CUSTOM_ELEMENT:R$,DATA_ATTR:E$,DOCTYPE_NAME:Qj,ERB_EXPR:N$,IS_ALLOWED_URI:Yj,IS_SCRIPT_OR_DATA:C$,MUSTACHE_EXPR:j$,TMPLIT_EXPR:S$});const Hl={element:1,text:3,progressingInstruction:7,comment:8,document:9},A$=function(){return typeof window>"u"?null:window},P$=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null;const o="data-tt-policy-suffix";r&&r.hasAttribute(o)&&(n=r.getAttribute(o));const l="dompurify"+(n?"#"+n:"");try{return t.createPolicy(l,{createHTML(c){return c},createScriptURL(c){return c}})}catch{return console.warn("TrustedTypes policy "+l+" could not be created."),null}},M0=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Jj(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A$();const t=tt=>Jj(tt);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==Hl.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e;const n=r,o=n.currentScript,{DocumentFragment:l,HTMLTemplateElement:c,Node:d,Element:h,NodeFilter:p,NamedNodeMap:v=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:g,DOMParser:y,trustedTypes:b}=e,S=h.prototype,_=ql(S,"cloneNode"),j=ql(S,"remove"),k=ql(S,"nextSibling"),C=ql(S,"childNodes"),E=ql(S,"parentNode");if(typeof c=="function"){const tt=r.createElement("template");tt.content&&tt.content.ownerDocument&&(r=tt.content.ownerDocument)}let N,O="";const{implementation:R,createNodeIterator:P,createDocumentFragment:I,getElementsByTagName:Z}=r,{importNode:B}=n;let X=M0();t.isSupported=typeof Kj=="function"&&typeof E=="function"&&R&&R.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:z,ERB_EXPR:F,TMPLIT_EXPR:U,DATA_ATTR:le,ARIA_ATTR:V,IS_SCRIPT_OR_DATA:ee,ATTR_WHITESPACE:D,CUSTOM_ELEMENT:H}=I0;let{IS_ALLOWED_URI:te}=I0,A=null;const $=Tt({},[...A0,...rp,...np,...sp,...P0]);let J=null;const ce=Tt({},[...O0,...ap,...D0,...xd]);let G=Object.seal(Vp(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),pe=null,oe=null;const ue=Object.seal(Vp(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Re=!0,ve=!0,re=!1,he=!0,Ne=!1,dt=!0,pt=!1,jt=!1,St=!1,De=!1,Ze=!1,Y=!1,me=!0,He=!1;const at="user-content-";let nt=!0,dr=!1,er={},zt=null;const se=Tt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let _e=null;const Oe=Tt({},["audio","video","img","source","image","track"]);let Se=null;const It=Tt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Q="http://www.w3.org/1998/Math/MathML",xe="http://www.w3.org/2000/svg",Xe="http://www.w3.org/1999/xhtml";let it=Xe,Ot=!1,_t=null;const Mt=Tt({},[Q,xe,Xe],ep);let Hr=Tt({},["mi","mo","mn","ms","mtext"]),Fr=Tt({},["annotation-xml"]);const br=Tt({},["title","style","font","a","script"]);let ge=null;const fe=["application/xhtml+xml","text/html"],Pe="text/html";let Ie=null,et=null;const mt=r.createElement("form"),lt=function(q){return q instanceof RegExp||q instanceof Function},bt=function(){let q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(et&&et===q)){if((!q||typeof q!="object")&&(q={}),q=Rs(q),ge=fe.indexOf(q.PARSER_MEDIA_TYPE)===-1?Pe:q.PARSER_MEDIA_TYPE,Ie=ge==="application/xhtml+xml"?ep:Cd,A=fs(q,"ALLOWED_TAGS")?Tt({},q.ALLOWED_TAGS,Ie):$,J=fs(q,"ALLOWED_ATTR")?Tt({},q.ALLOWED_ATTR,Ie):ce,_t=fs(q,"ALLOWED_NAMESPACES")?Tt({},q.ALLOWED_NAMESPACES,ep):Mt,Se=fs(q,"ADD_URI_SAFE_ATTR")?Tt(Rs(It),q.ADD_URI_SAFE_ATTR,Ie):It,_e=fs(q,"ADD_DATA_URI_TAGS")?Tt(Rs(Oe),q.ADD_DATA_URI_TAGS,Ie):Oe,zt=fs(q,"FORBID_CONTENTS")?Tt({},q.FORBID_CONTENTS,Ie):se,pe=fs(q,"FORBID_TAGS")?Tt({},q.FORBID_TAGS,Ie):Rs({}),oe=fs(q,"FORBID_ATTR")?Tt({},q.FORBID_ATTR,Ie):Rs({}),er=fs(q,"USE_PROFILES")?q.USE_PROFILES:!1,Re=q.ALLOW_ARIA_ATTR!==!1,ve=q.ALLOW_DATA_ATTR!==!1,re=q.ALLOW_UNKNOWN_PROTOCOLS||!1,he=q.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ne=q.SAFE_FOR_TEMPLATES||!1,dt=q.SAFE_FOR_XML!==!1,pt=q.WHOLE_DOCUMENT||!1,De=q.RETURN_DOM||!1,Ze=q.RETURN_DOM_FRAGMENT||!1,Y=q.RETURN_TRUSTED_TYPE||!1,St=q.FORCE_BODY||!1,me=q.SANITIZE_DOM!==!1,He=q.SANITIZE_NAMED_PROPS||!1,nt=q.KEEP_CONTENT!==!1,dr=q.IN_PLACE||!1,te=q.ALLOWED_URI_REGEXP||Yj,it=q.NAMESPACE||Xe,Hr=q.MATHML_TEXT_INTEGRATION_POINTS||Hr,Fr=q.HTML_INTEGRATION_POINTS||Fr,G=q.CUSTOM_ELEMENT_HANDLING||{},q.CUSTOM_ELEMENT_HANDLING&&lt(q.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(G.tagNameCheck=q.CUSTOM_ELEMENT_HANDLING.tagNameCheck),q.CUSTOM_ELEMENT_HANDLING&&lt(q.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(G.attributeNameCheck=q.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),q.CUSTOM_ELEMENT_HANDLING&&typeof q.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(G.allowCustomizedBuiltInElements=q.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ne&&(ve=!1),Ze&&(De=!0),er&&(A=Tt({},P0),J=[],er.html===!0&&(Tt(A,A0),Tt(J,O0)),er.svg===!0&&(Tt(A,rp),Tt(J,ap),Tt(J,xd)),er.svgFilters===!0&&(Tt(A,np),Tt(J,ap),Tt(J,xd)),er.mathMl===!0&&(Tt(A,sp),Tt(J,D0),Tt(J,xd))),q.ADD_TAGS&&(typeof q.ADD_TAGS=="function"?ue.tagCheck=q.ADD_TAGS:(A===$&&(A=Rs(A)),Tt(A,q.ADD_TAGS,Ie))),q.ADD_ATTR&&(typeof q.ADD_ATTR=="function"?ue.attributeCheck=q.ADD_ATTR:(J===ce&&(J=Rs(J)),Tt(J,q.ADD_ATTR,Ie))),q.ADD_URI_SAFE_ATTR&&Tt(Se,q.ADD_URI_SAFE_ATTR,Ie),q.FORBID_CONTENTS&&(zt===se&&(zt=Rs(zt)),Tt(zt,q.FORBID_CONTENTS,Ie)),q.ADD_FORBID_CONTENTS&&(zt===se&&(zt=Rs(zt)),Tt(zt,q.ADD_FORBID_CONTENTS,Ie)),nt&&(A["#text"]=!0),pt&&Tt(A,["html","head","body"]),A.table&&(Tt(A,["tbody"]),delete pe.tbody),q.TRUSTED_TYPES_POLICY){if(typeof q.TRUSTED_TYPES_POLICY.createHTML!="function")throw Vl('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof q.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Vl('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');N=q.TRUSTED_TYPES_POLICY,O=N.createHTML("")}else N===void 0&&(N=P$(b,o)),N!==null&&typeof O=="string"&&(O=N.createHTML(""));pn&&pn(q),et=q}},Yt=Tt({},[...rp,...np,..._$]),vt=Tt({},[...sp,...b$]),Wt=function(q){let je=E(q);(!je||!je.tagName)&&(je={namespaceURI:it,tagName:"template"});const Ve=Cd(q.tagName),tr=Cd(je.tagName);return _t[q.namespaceURI]?q.namespaceURI===xe?je.namespaceURI===Xe?Ve==="svg":je.namespaceURI===Q?Ve==="svg"&&(tr==="annotation-xml"||Hr[tr]):!!Yt[Ve]:q.namespaceURI===Q?je.namespaceURI===Xe?Ve==="math":je.namespaceURI===xe?Ve==="math"&&Fr[tr]:!!vt[Ve]:q.namespaceURI===Xe?je.namespaceURI===xe&&!Fr[tr]||je.namespaceURI===Q&&!Hr[tr]?!1:!vt[Ve]&&(br[Ve]||!Yt[Ve]):!!(ge==="application/xhtml+xml"&&_t[q.namespaceURI]):!1},Nt=function(q){zl(t.removed,{element:q});try{E(q).removeChild(q)}catch{j(q)}},Dt=function(q,je){try{zl(t.removed,{attribute:je.getAttributeNode(q),from:je})}catch{zl(t.removed,{attribute:null,from:je})}if(je.removeAttribute(q),q==="is")if(De||Ze)try{Nt(je)}catch{}else try{je.setAttribute(q,"")}catch{}},Gr=function(q){let je=null,Ve=null;if(St)q="<remove></remove>"+q;else{const gr=tp(q,/^[\r\n\t ]+/);Ve=gr&&gr[0]}ge==="application/xhtml+xml"&&it===Xe&&(q='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+q+"</body></html>");const tr=N?N.createHTML(q):q;if(it===Xe)try{je=new y().parseFromString(tr,ge)}catch{}if(!je||!je.documentElement){je=R.createDocument(it,"template",null);try{je.documentElement.innerHTML=Ot?O:tr}catch{}}const kt=je.body||je.documentElement;return q&&Ve&&kt.insertBefore(r.createTextNode(Ve),kt.childNodes[0]||null),it===Xe?Z.call(je,pt?"html":"body")[0]:pt?je.documentElement:kt},Bt=function(q){return P.call(q.ownerDocument||q,q,p.SHOW_ELEMENT|p.SHOW_COMMENT|p.SHOW_TEXT|p.SHOW_PROCESSING_INSTRUCTION|p.SHOW_CDATA_SECTION,null)},Qt=function(q){return q instanceof g&&(typeof q.nodeName!="string"||typeof q.textContent!="string"||typeof q.removeChild!="function"||!(q.attributes instanceof v)||typeof q.removeAttribute!="function"||typeof q.setAttribute!="function"||typeof q.namespaceURI!="string"||typeof q.insertBefore!="function"||typeof q.hasChildNodes!="function")},zs=function(q){return typeof d=="function"&&q instanceof d};function Rn(tt,q,je){vd(tt,Ve=>{Ve.call(t,q,je,et)})}const Ns=function(q){let je=null;if(Rn(X.beforeSanitizeElements,q,null),Qt(q))return Nt(q),!0;const Ve=Ie(q.nodeName);if(Rn(X.uponSanitizeElement,q,{tagName:Ve,allowedTags:A}),dt&&q.hasChildNodes()&&!zs(q.firstElementChild)&&on(/<[/\w!]/g,q.innerHTML)&&on(/<[/\w!]/g,q.textContent)||q.nodeType===Hl.progressingInstruction||dt&&q.nodeType===Hl.comment&&on(/<[/\w]/g,q.data))return Nt(q),!0;if(!(ue.tagCheck instanceof Function&&ue.tagCheck(Ve))&&(!A[Ve]||pe[Ve])){if(!pe[Ve]&&nl(Ve)&&(G.tagNameCheck instanceof RegExp&&on(G.tagNameCheck,Ve)||G.tagNameCheck instanceof Function&&G.tagNameCheck(Ve)))return!1;if(nt&&!zt[Ve]){const tr=E(q)||q.parentNode,kt=C(q)||q.childNodes;if(kt&&tr){const gr=kt.length;for(let Ur=gr-1;Ur>=0;--Ur){const zn=_(kt[Ur],!0);zn.__removalCount=(q.__removalCount||0)+1,tr.insertBefore(zn,k(q))}}}return Nt(q),!0}return q instanceof h&&!Wt(q)||(Ve==="noscript"||Ve==="noembed"||Ve==="noframes")&&on(/<\/no(script|embed|frames)/i,q.innerHTML)?(Nt(q),!0):(Ne&&q.nodeType===Hl.text&&(je=q.textContent,vd([z,F,U],tr=>{je=Wl(je,tr," ")}),q.textContent!==je&&(zl(t.removed,{element:q.cloneNode()}),q.textContent=je)),Rn(X.afterSanitizeElements,q,null),!1)},rl=function(q,je,Ve){if(me&&(je==="id"||je==="name")&&(Ve in r||Ve in mt))return!1;if(!(ve&&!oe[je]&&on(le,je))){if(!(Re&&on(V,je))){if(!(ue.attributeCheck instanceof Function&&ue.attributeCheck(je,q))){if(!J[je]||oe[je]){if(!(nl(q)&&(G.tagNameCheck instanceof RegExp&&on(G.tagNameCheck,q)||G.tagNameCheck instanceof Function&&G.tagNameCheck(q))&&(G.attributeNameCheck instanceof RegExp&&on(G.attributeNameCheck,je)||G.attributeNameCheck instanceof Function&&G.attributeNameCheck(je,q))||je==="is"&&G.allowCustomizedBuiltInElements&&(G.tagNameCheck instanceof RegExp&&on(G.tagNameCheck,Ve)||G.tagNameCheck instanceof Function&&G.tagNameCheck(Ve))))return!1}else if(!Se[je]){if(!on(te,Wl(Ve,D,""))){if(!((je==="src"||je==="xlink:href"||je==="href")&&q!=="script"&&v$(Ve,"data:")===0&&_e[q])){if(!(re&&!on(ee,Wl(Ve,D,"")))){if(Ve)return!1}}}}}}}return!0},nl=function(q){return q!=="annotation-xml"&&tp(q,H)},Yc=function(q){Rn(X.beforeSanitizeAttributes,q,null);const{attributes:je}=q;if(!je||Qt(q))return;const Ve={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:J,forceKeepAttr:void 0};let tr=je.length;for(;tr--;){const kt=je[tr],{name:gr,namespaceURI:Ur,value:zn}=kt,ss=Ie(gr),sl=zn;let Er=gr==="value"?sl:x$(sl);if(Ve.attrName=ss,Ve.attrValue=Er,Ve.keepAttr=!0,Ve.forceKeepAttr=void 0,Rn(X.uponSanitizeAttribute,q,Ve),Er=Ve.attrValue,He&&(ss==="id"||ss==="name")&&(Dt(gr,q),Er=at+Er),dt&&on(/((--!?|])>)|<\/(style|title|textarea)/i,Er)){Dt(gr,q);continue}if(ss==="attributename"&&tp(Er,"href")){Dt(gr,q);continue}if(Ve.forceKeepAttr)continue;if(!Ve.keepAttr){Dt(gr,q);continue}if(!he&&on(/\/>/i,Er)){Dt(gr,q);continue}Ne&&vd([z,F,U],An=>{Er=Wl(Er,An," ")});const eo=Ie(q.nodeName);if(!rl(eo,ss,Er)){Dt(gr,q);continue}if(N&&typeof b=="object"&&typeof b.getAttributeType=="function"&&!Ur)switch(b.getAttributeType(eo,ss)){case"TrustedHTML":{Er=N.createHTML(Er);break}case"TrustedScriptURL":{Er=N.createScriptURL(Er);break}}if(Er!==sl)try{Ur?q.setAttributeNS(Ur,gr,Er):q.setAttribute(gr,Er),Qt(q)?Nt(q):R0(t.removed)}catch{Dt(gr,q)}}Rn(X.afterSanitizeAttributes,q,null)},Qc=function tt(q){let je=null;const Ve=Bt(q);for(Rn(X.beforeSanitizeShadowDOM,q,null);je=Ve.nextNode();)Rn(X.uponSanitizeShadowNode,je,null),Ns(je),Yc(je),je.content instanceof l&&tt(je.content);Rn(X.afterSanitizeShadowDOM,q,null)};return t.sanitize=function(tt){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},je=null,Ve=null,tr=null,kt=null;if(Ot=!tt,Ot&&(tt="<!-->"),typeof tt!="string"&&!zs(tt))if(typeof tt.toString=="function"){if(tt=tt.toString(),typeof tt!="string")throw Vl("dirty is not a string, aborting")}else throw Vl("toString is not a function");if(!t.isSupported)return tt;if(jt||bt(q),t.removed=[],typeof tt=="string"&&(dr=!1),dr){if(tt.nodeName){const zn=Ie(tt.nodeName);if(!A[zn]||pe[zn])throw Vl("root node is forbidden and cannot be sanitized in-place")}}else if(tt instanceof d)je=Gr("<!---->"),Ve=je.ownerDocument.importNode(tt,!0),Ve.nodeType===Hl.element&&Ve.nodeName==="BODY"||Ve.nodeName==="HTML"?je=Ve:je.appendChild(Ve);else{if(!De&&!Ne&&!pt&&tt.indexOf("<")===-1)return N&&Y?N.createHTML(tt):tt;if(je=Gr(tt),!je)return De?null:Y?O:""}je&&St&&Nt(je.firstChild);const gr=Bt(dr?tt:je);for(;tr=gr.nextNode();)Ns(tr),Yc(tr),tr.content instanceof l&&Qc(tr.content);if(dr)return tt;if(De){if(Ze)for(kt=I.call(je.ownerDocument);je.firstChild;)kt.appendChild(je.firstChild);else kt=je;return(J.shadowroot||J.shadowrootmode)&&(kt=B.call(n,kt,!0)),kt}let Ur=pt?je.outerHTML:je.innerHTML;return pt&&A["!doctype"]&&je.ownerDocument&&je.ownerDocument.doctype&&je.ownerDocument.doctype.name&&on(Qj,je.ownerDocument.doctype.name)&&(Ur="<!DOCTYPE "+je.ownerDocument.doctype.name+`>
`+Ur),Ne&&vd([z,F,U],zn=>{Ur=Wl(Ur,zn," ")}),N&&Y?N.createHTML(Ur):Ur},t.setConfig=function(){let tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};bt(tt),jt=!0},t.clearConfig=function(){et=null,jt=!1},t.isValidAttribute=function(tt,q,je){et||bt({});const Ve=Ie(tt),tr=Ie(q);return rl(Ve,tr,je)},t.addHook=function(tt,q){typeof q=="function"&&zl(X[tt],q)},t.removeHook=function(tt,q){if(q!==void 0){const je=p$(X[tt],q);return je===-1?void 0:g$(X[tt],je,1)[0]}return R0(X[tt])},t.removeHooks=function(tt){X[tt]=[]},t.removeAllHooks=function(){X=M0()},t}var Kg=Jj(),O$=f.createContext(void 0);function Ki(e){const t=f.useContext(O$);return e||t||"ltr"}const D$=["top","right","bottom","left"],Ha=Math.min,Ln=Math.max,Wd=Math.round,yd=Math.floor,Os=e=>({x:e,y:e}),I$={left:"right",right:"left",bottom:"top",top:"bottom"},M$={start:"end",end:"start"};function Gp(e,t,r){return Ln(e,Ha(t,r))}function sa(e,t){return typeof e=="function"?e(t):e}function aa(e){return e.split("-")[0]}function Yi(e){return e.split("-")[1]}function Yg(e){return e==="x"?"y":"x"}function Qg(e){return e==="y"?"height":"width"}const L$=new Set(["top","bottom"]);function Ps(e){return L$.has(aa(e))?"y":"x"}function Jg(e){return Yg(Ps(e))}function $$(e,t,r){r===void 0&&(r=!1);const n=Yi(e),o=Jg(e),l=Qg(o);let c=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=Vd(c)),[c,Vd(c)]}function F$(e){const t=Vd(e);return[Kp(e),t,Kp(t)]}function Kp(e){return e.replace(/start|end/g,t=>M$[t])}const L0=["left","right"],$0=["right","left"],U$=["top","bottom"],B$=["bottom","top"];function z$(e,t,r){switch(e){case"top":case"bottom":return r?t?$0:L0:t?L0:$0;case"left":case"right":return t?U$:B$;default:return[]}}function W$(e,t,r,n){const o=Yi(e);let l=z$(aa(e),r==="start",n);return o&&(l=l.map(c=>c+"-"+o),t&&(l=l.concat(l.map(Kp)))),l}function Vd(e){return e.replace(/left|right|bottom|top/g,t=>I$[t])}function V$(e){return{top:0,right:0,bottom:0,left:0,...e}}function Zj(e){return typeof e!="number"?V$(e):{top:e,right:e,bottom:e,left:e}}function qd(e){const{x:t,y:r,width:n,height:o}=e;return{width:n,height:o,top:r,left:t,right:t+n,bottom:r+o,x:t,y:r}}function F0(e,t,r){let{reference:n,floating:o}=e;const l=Ps(t),c=Jg(t),d=Qg(c),h=aa(t),p=l==="y",v=n.x+n.width/2-o.width/2,g=n.y+n.height/2-o.height/2,y=n[d]/2-o[d]/2;let b;switch(h){case"top":b={x:v,y:n.y-o.height};break;case"bottom":b={x:v,y:n.y+n.height};break;case"right":b={x:n.x+n.width,y:g};break;case"left":b={x:n.x-o.width,y:g};break;default:b={x:n.x,y:n.y}}switch(Yi(t)){case"start":b[c]-=y*(r&&p?-1:1);break;case"end":b[c]+=y*(r&&p?-1:1);break}return b}const q$=async(e,t,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:l=[],platform:c}=r,d=l.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(t));let p=await c.getElementRects({reference:e,floating:t,strategy:o}),{x:v,y:g}=F0(p,n,h),y=n,b={},S=0;for(let _=0;_<d.length;_++){const{name:j,fn:k}=d[_],{x:C,y:E,data:N,reset:O}=await k({x:v,y:g,initialPlacement:n,placement:y,strategy:o,middlewareData:b,rects:p,platform:c,elements:{reference:e,floating:t}});v=C??v,g=E??g,b={...b,[j]:{...b[j],...N}},O&&S<=50&&(S++,typeof O=="object"&&(O.placement&&(y=O.placement),O.rects&&(p=O.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:o}):O.rects),{x:v,y:g}=F0(p,y,h)),_=-1)}return{x:v,y:g,placement:y,strategy:o,middlewareData:b}};async function pc(e,t){var r;t===void 0&&(t={});const{x:n,y:o,platform:l,rects:c,elements:d,strategy:h}=e,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:g="floating",altBoundary:y=!1,padding:b=0}=sa(t,e),S=Zj(b),j=d[y?g==="floating"?"reference":"floating":g],k=qd(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(j)))==null||r?j:j.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:p,rootBoundary:v,strategy:h})),C=g==="floating"?{x:n,y:o,width:c.floating.width,height:c.floating.height}:c.reference,E=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),N=await(l.isElement==null?void 0:l.isElement(E))?await(l.getScale==null?void 0:l.getScale(E))||{x:1,y:1}:{x:1,y:1},O=qd(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:C,offsetParent:E,strategy:h}):C);return{top:(k.top-O.top+S.top)/N.y,bottom:(O.bottom-k.bottom+S.bottom)/N.y,left:(k.left-O.left+S.left)/N.x,right:(O.right-k.right+S.right)/N.x}}const H$=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:o,rects:l,platform:c,elements:d,middlewareData:h}=t,{element:p,padding:v=0}=sa(e,t)||{};if(p==null)return{};const g=Zj(v),y={x:r,y:n},b=Jg(o),S=Qg(b),_=await c.getDimensions(p),j=b==="y",k=j?"top":"left",C=j?"bottom":"right",E=j?"clientHeight":"clientWidth",N=l.reference[S]+l.reference[b]-y[b]-l.floating[S],O=y[b]-l.reference[b],R=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p));let P=R?R[E]:0;(!P||!await(c.isElement==null?void 0:c.isElement(R)))&&(P=d.floating[E]||l.floating[S]);const I=N/2-O/2,Z=P/2-_[S]/2-1,B=Ha(g[k],Z),X=Ha(g[C],Z),z=B,F=P-_[S]-X,U=P/2-_[S]/2+I,le=Gp(z,U,F),V=!h.arrow&&Yi(o)!=null&&U!==le&&l.reference[S]/2-(U<z?B:X)-_[S]/2<0,ee=V?U<z?U-z:U-F:0;return{[b]:y[b]+ee,data:{[b]:le,centerOffset:U-le-ee,...V&&{alignmentOffset:ee}},reset:V}}}),G$=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:o,middlewareData:l,rects:c,initialPlacement:d,platform:h,elements:p}=t,{mainAxis:v=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:_=!0,...j}=sa(e,t);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const k=aa(o),C=Ps(d),E=aa(d)===d,N=await(h.isRTL==null?void 0:h.isRTL(p.floating)),O=y||(E||!_?[Vd(d)]:F$(d)),R=S!=="none";!y&&R&&O.push(...W$(d,_,S,N));const P=[d,...O],I=await pc(t,j),Z=[];let B=((n=l.flip)==null?void 0:n.overflows)||[];if(v&&Z.push(I[k]),g){const U=$$(o,c,N);Z.push(I[U[0]],I[U[1]])}if(B=[...B,{placement:o,overflows:Z}],!Z.every(U=>U<=0)){var X,z;const U=(((X=l.flip)==null?void 0:X.index)||0)+1,le=P[U];if(le&&(!(g==="alignment"?C!==Ps(le):!1)||B.every(D=>Ps(D.placement)===C?D.overflows[0]>0:!0)))return{data:{index:U,overflows:B},reset:{placement:le}};let V=(z=B.filter(ee=>ee.overflows[0]<=0).sort((ee,D)=>ee.overflows[1]-D.overflows[1])[0])==null?void 0:z.placement;if(!V)switch(b){case"bestFit":{var F;const ee=(F=B.filter(D=>{if(R){const H=Ps(D.placement);return H===C||H==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(H=>H>0).reduce((H,te)=>H+te,0)]).sort((D,H)=>D[1]-H[1])[0])==null?void 0:F[0];ee&&(V=ee);break}case"initialPlacement":V=d;break}if(o!==V)return{reset:{placement:V}}}return{}}}};function U0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function B0(e){return D$.some(t=>e[t]>=0)}const K$=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...o}=sa(e,t);switch(n){case"referenceHidden":{const l=await pc(t,{...o,elementContext:"reference"}),c=U0(l,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:B0(c)}}}case"escaped":{const l=await pc(t,{...o,altBoundary:!0}),c=U0(l,r.floating);return{data:{escapedOffsets:c,escaped:B0(c)}}}default:return{}}}}},Xj=new Set(["left","top"]);async function Y$(e,t){const{placement:r,platform:n,elements:o}=e,l=await(n.isRTL==null?void 0:n.isRTL(o.floating)),c=aa(r),d=Yi(r),h=Ps(r)==="y",p=Xj.has(c)?-1:1,v=l&&h?-1:1,g=sa(t,e);let{mainAxis:y,crossAxis:b,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return d&&typeof S=="number"&&(b=d==="end"?S*-1:S),h?{x:b*v,y:y*p}:{x:y*p,y:b*v}}const Q$=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:o,y:l,placement:c,middlewareData:d}=t,h=await Y$(t,e);return c===((r=d.offset)==null?void 0:r.placement)&&(n=d.arrow)!=null&&n.alignmentOffset?{}:{x:o+h.x,y:l+h.y,data:{...h,placement:c}}}}},J$=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:o}=t,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:j=>{let{x:k,y:C}=j;return{x:k,y:C}}},...h}=sa(e,t),p={x:r,y:n},v=await pc(t,h),g=Ps(aa(o)),y=Yg(g);let b=p[y],S=p[g];if(l){const j=y==="y"?"top":"left",k=y==="y"?"bottom":"right",C=b+v[j],E=b-v[k];b=Gp(C,b,E)}if(c){const j=g==="y"?"top":"left",k=g==="y"?"bottom":"right",C=S+v[j],E=S-v[k];S=Gp(C,S,E)}const _=d.fn({...t,[y]:b,[g]:S});return{..._,data:{x:_.x-r,y:_.y-n,enabled:{[y]:l,[g]:c}}}}}},Z$=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:o,rects:l,middlewareData:c}=t,{offset:d=0,mainAxis:h=!0,crossAxis:p=!0}=sa(e,t),v={x:r,y:n},g=Ps(o),y=Yg(g);let b=v[y],S=v[g];const _=sa(d,t),j=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(h){const E=y==="y"?"height":"width",N=l.reference[y]-l.floating[E]+j.mainAxis,O=l.reference[y]+l.reference[E]-j.mainAxis;b<N?b=N:b>O&&(b=O)}if(p){var k,C;const E=y==="y"?"width":"height",N=Xj.has(aa(o)),O=l.reference[g]-l.floating[E]+(N&&((k=c.offset)==null?void 0:k[g])||0)+(N?0:j.crossAxis),R=l.reference[g]+l.reference[E]+(N?0:((C=c.offset)==null?void 0:C[g])||0)-(N?j.crossAxis:0);S<O?S=O:S>R&&(S=R)}return{[y]:b,[g]:S}}}},X$=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:o,rects:l,platform:c,elements:d}=t,{apply:h=()=>{},...p}=sa(e,t),v=await pc(t,p),g=aa(o),y=Yi(o),b=Ps(o)==="y",{width:S,height:_}=l.floating;let j,k;g==="top"||g==="bottom"?(j=g,k=y===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(k=g,j=y==="end"?"top":"bottom");const C=_-v.top-v.bottom,E=S-v.left-v.right,N=Ha(_-v[j],C),O=Ha(S-v[k],E),R=!t.middlewareData.shift;let P=N,I=O;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(I=E),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(P=C),R&&!y){const B=Ln(v.left,0),X=Ln(v.right,0),z=Ln(v.top,0),F=Ln(v.bottom,0);b?I=S-2*(B!==0||X!==0?B+X:Ln(v.left,v.right)):P=_-2*(z!==0||F!==0?z+F:Ln(v.top,v.bottom))}await h({...t,availableWidth:I,availableHeight:P});const Z=await c.getDimensions(d.floating);return S!==Z.width||_!==Z.height?{reset:{rects:!0}}:{}}}};function bh(){return typeof window<"u"}function Qi(e){return eN(e)?(e.nodeName||"").toLowerCase():"#document"}function Un(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Us(e){var t;return(t=(eN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function eN(e){return bh()?e instanceof Node||e instanceof Un(e).Node:!1}function _s(e){return bh()?e instanceof Element||e instanceof Un(e).Element:!1}function Ms(e){return bh()?e instanceof HTMLElement||e instanceof Un(e).HTMLElement:!1}function z0(e){return!bh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Un(e).ShadowRoot}const eF=new Set(["inline","contents"]);function Dc(e){const{overflow:t,overflowX:r,overflowY:n,display:o}=bs(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!eF.has(o)}const tF=new Set(["table","td","th"]);function rF(e){return tF.has(Qi(e))}const nF=[":popover-open",":modal"];function jh(e){return nF.some(t=>{try{return e.matches(t)}catch{return!1}})}const sF=["transform","translate","scale","rotate","perspective"],aF=["transform","translate","scale","rotate","perspective","filter"],oF=["paint","layout","strict","content"];function Zg(e){const t=Xg(),r=_s(e)?bs(e):e;return sF.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||aF.some(n=>(r.willChange||"").includes(n))||oF.some(n=>(r.contain||"").includes(n))}function iF(e){let t=Ga(e);for(;Ms(t)&&!Pi(t);){if(Zg(t))return t;if(jh(t))return null;t=Ga(t)}return null}function Xg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lF=new Set(["html","body","#document"]);function Pi(e){return lF.has(Qi(e))}function bs(e){return Un(e).getComputedStyle(e)}function Nh(e){return _s(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ga(e){if(Qi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||z0(e)&&e.host||Us(e);return z0(t)?t.host:t}function tN(e){const t=Ga(e);return Pi(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ms(t)&&Dc(t)?t:tN(t)}function gc(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const o=tN(e),l=o===((n=e.ownerDocument)==null?void 0:n.body),c=Un(o);if(l){const d=Yp(c);return t.concat(c,c.visualViewport||[],Dc(o)?o:[],d&&r?gc(d):[])}return t.concat(o,gc(o,[],r))}function Yp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function rN(e){const t=bs(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const o=Ms(e),l=o?e.offsetWidth:r,c=o?e.offsetHeight:n,d=Wd(r)!==l||Wd(n)!==c;return d&&(r=l,n=c),{width:r,height:n,$:d}}function ev(e){return _s(e)?e:e.contextElement}function ki(e){const t=ev(e);if(!Ms(t))return Os(1);const r=t.getBoundingClientRect(),{width:n,height:o,$:l}=rN(t);let c=(l?Wd(r.width):r.width)/n,d=(l?Wd(r.height):r.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const cF=Os(0);function nN(e){const t=Un(e);return!Xg()||!t.visualViewport?cF:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function uF(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Un(e)?!1:t}function Ro(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const o=e.getBoundingClientRect(),l=ev(e);let c=Os(1);t&&(n?_s(n)&&(c=ki(n)):c=ki(e));const d=uF(l,r,n)?nN(l):Os(0);let h=(o.left+d.x)/c.x,p=(o.top+d.y)/c.y,v=o.width/c.x,g=o.height/c.y;if(l){const y=Un(l),b=n&&_s(n)?Un(n):n;let S=y,_=Yp(S);for(;_&&n&&b!==S;){const j=ki(_),k=_.getBoundingClientRect(),C=bs(_),E=k.left+(_.clientLeft+parseFloat(C.paddingLeft))*j.x,N=k.top+(_.clientTop+parseFloat(C.paddingTop))*j.y;h*=j.x,p*=j.y,v*=j.x,g*=j.y,h+=E,p+=N,S=Un(_),_=Yp(S)}}return qd({width:v,height:g,x:h,y:p})}function Sh(e,t){const r=Nh(e).scrollLeft;return t?t.left+r:Ro(Us(e)).left+r}function sN(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Sh(e,r),o=r.top+t.scrollTop;return{x:n,y:o}}function dF(e){let{elements:t,rect:r,offsetParent:n,strategy:o}=e;const l=o==="fixed",c=Us(n),d=t?jh(t.floating):!1;if(n===c||d&&l)return r;let h={scrollLeft:0,scrollTop:0},p=Os(1);const v=Os(0),g=Ms(n);if((g||!g&&!l)&&((Qi(n)!=="body"||Dc(c))&&(h=Nh(n)),Ms(n))){const b=Ro(n);p=ki(n),v.x=b.x+n.clientLeft,v.y=b.y+n.clientTop}const y=c&&!g&&!l?sN(c,h):Os(0);return{width:r.width*p.x,height:r.height*p.y,x:r.x*p.x-h.scrollLeft*p.x+v.x+y.x,y:r.y*p.y-h.scrollTop*p.y+v.y+y.y}}function hF(e){return Array.from(e.getClientRects())}function fF(e){const t=Us(e),r=Nh(e),n=e.ownerDocument.body,o=Ln(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),l=Ln(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+Sh(e);const d=-r.scrollTop;return bs(n).direction==="rtl"&&(c+=Ln(t.clientWidth,n.clientWidth)-o),{width:o,height:l,x:c,y:d}}const W0=25;function mF(e,t){const r=Un(e),n=Us(e),o=r.visualViewport;let l=n.clientWidth,c=n.clientHeight,d=0,h=0;if(o){l=o.width,c=o.height;const v=Xg();(!v||v&&t==="fixed")&&(d=o.offsetLeft,h=o.offsetTop)}const p=Sh(n);if(p<=0){const v=n.ownerDocument,g=v.body,y=getComputedStyle(g),b=v.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,S=Math.abs(n.clientWidth-g.clientWidth-b);S<=W0&&(l-=S)}else p<=W0&&(l+=p);return{width:l,height:c,x:d,y:h}}const pF=new Set(["absolute","fixed"]);function gF(e,t){const r=Ro(e,!0,t==="fixed"),n=r.top+e.clientTop,o=r.left+e.clientLeft,l=Ms(e)?ki(e):Os(1),c=e.clientWidth*l.x,d=e.clientHeight*l.y,h=o*l.x,p=n*l.y;return{width:c,height:d,x:h,y:p}}function V0(e,t,r){let n;if(t==="viewport")n=mF(e,r);else if(t==="document")n=fF(Us(e));else if(_s(t))n=gF(t,r);else{const o=nN(e);n={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return qd(n)}function aN(e,t){const r=Ga(e);return r===t||!_s(r)||Pi(r)?!1:bs(r).position==="fixed"||aN(r,t)}function vF(e,t){const r=t.get(e);if(r)return r;let n=gc(e,[],!1).filter(d=>_s(d)&&Qi(d)!=="body"),o=null;const l=bs(e).position==="fixed";let c=l?Ga(e):e;for(;_s(c)&&!Pi(c);){const d=bs(c),h=Zg(c);!h&&d.position==="fixed"&&(o=null),(l?!h&&!o:!h&&d.position==="static"&&!!o&&pF.has(o.position)||Dc(c)&&!h&&aN(e,c))?n=n.filter(v=>v!==c):o=d,c=Ga(c)}return t.set(e,n),n}function xF(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e;const c=[...r==="clippingAncestors"?jh(t)?[]:vF(t,this._c):[].concat(r),n],d=c[0],h=c.reduce((p,v)=>{const g=V0(t,v,o);return p.top=Ln(g.top,p.top),p.right=Ha(g.right,p.right),p.bottom=Ha(g.bottom,p.bottom),p.left=Ln(g.left,p.left),p},V0(t,d,o));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function yF(e){const{width:t,height:r}=rN(e);return{width:t,height:r}}function wF(e,t,r){const n=Ms(t),o=Us(t),l=r==="fixed",c=Ro(e,!0,l,t);let d={scrollLeft:0,scrollTop:0};const h=Os(0);function p(){h.x=Sh(o)}if(n||!n&&!l)if((Qi(t)!=="body"||Dc(o))&&(d=Nh(t)),n){const b=Ro(t,!0,l,t);h.x=b.x+t.clientLeft,h.y=b.y+t.clientTop}else o&&p();l&&!n&&o&&p();const v=o&&!n&&!l?sN(o,d):Os(0),g=c.left+d.scrollLeft-h.x-v.x,y=c.top+d.scrollTop-h.y-v.y;return{x:g,y,width:c.width,height:c.height}}function op(e){return bs(e).position==="static"}function q0(e,t){if(!Ms(e)||bs(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Us(e)===r&&(r=r.ownerDocument.body),r}function oN(e,t){const r=Un(e);if(jh(e))return r;if(!Ms(e)){let o=Ga(e);for(;o&&!Pi(o);){if(_s(o)&&!op(o))return o;o=Ga(o)}return r}let n=q0(e,t);for(;n&&rF(n)&&op(n);)n=q0(n,t);return n&&Pi(n)&&op(n)&&!Zg(n)?r:n||iF(e)||r}const _F=async function(e){const t=this.getOffsetParent||oN,r=this.getDimensions,n=await r(e.floating);return{reference:wF(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function bF(e){return bs(e).direction==="rtl"}const jF={convertOffsetParentRelativeRectToViewportRelativeRect:dF,getDocumentElement:Us,getClippingRect:xF,getOffsetParent:oN,getElementRects:_F,getClientRects:hF,getDimensions:yF,getScale:ki,isElement:_s,isRTL:bF};function iN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function NF(e,t){let r=null,n;const o=Us(e);function l(){var d;clearTimeout(n),(d=r)==null||d.disconnect(),r=null}function c(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),l();const p=e.getBoundingClientRect(),{left:v,top:g,width:y,height:b}=p;if(d||t(),!y||!b)return;const S=yd(g),_=yd(o.clientWidth-(v+y)),j=yd(o.clientHeight-(g+b)),k=yd(v),E={rootMargin:-S+"px "+-_+"px "+-j+"px "+-k+"px",threshold:Ln(0,Ha(1,h))||1};let N=!0;function O(R){const P=R[0].intersectionRatio;if(P!==h){if(!N)return c();P?c(!1,P):n=setTimeout(()=>{c(!1,1e-7)},1e3)}P===1&&!iN(p,e.getBoundingClientRect())&&c(),N=!1}try{r=new IntersectionObserver(O,{...E,root:o.ownerDocument})}catch{r=new IntersectionObserver(O,E)}r.observe(e)}return c(!0),l}function SF(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=n,p=ev(e),v=o||l?[...p?gc(p):[],...gc(t)]:[];v.forEach(k=>{o&&k.addEventListener("scroll",r,{passive:!0}),l&&k.addEventListener("resize",r)});const g=p&&d?NF(p,r):null;let y=-1,b=null;c&&(b=new ResizeObserver(k=>{let[C]=k;C&&C.target===p&&b&&(b.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var E;(E=b)==null||E.observe(t)})),r()}),p&&!h&&b.observe(p),b.observe(t));let S,_=h?Ro(e):null;h&&j();function j(){const k=Ro(e);_&&!iN(_,k)&&r(),_=k,S=requestAnimationFrame(j)}return r(),()=>{var k;v.forEach(C=>{o&&C.removeEventListener("scroll",r),l&&C.removeEventListener("resize",r)}),g?.(),(k=b)==null||k.disconnect(),b=null,h&&cancelAnimationFrame(S)}}const EF=Q$,kF=J$,CF=G$,TF=X$,RF=K$,H0=H$,AF=Z$,PF=(e,t,r)=>{const n=new Map,o={platform:jF,...r},l={...o.platform,_c:n};return q$(e,t,{...o,platform:l})};var OF=typeof document<"u",DF=function(){},Td=OF?f.useLayoutEffect:DF;function Hd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Hd(e[n],t[n]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,o[n]))return!1;for(n=r;n--!==0;){const l=o[n];if(!(l==="_owner"&&e.$$typeof)&&!Hd(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function lN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function G0(e,t){const r=lN(e);return Math.round(t*r)/r}function ip(e){const t=f.useRef(e);return Td(()=>{t.current=e}),t}function IF(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:l,floating:c}={},transform:d=!0,whileElementsMounted:h,open:p}=e,[v,g]=f.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[y,b]=f.useState(n);Hd(y,n)||b(n);const[S,_]=f.useState(null),[j,k]=f.useState(null),C=f.useCallback(D=>{D!==R.current&&(R.current=D,_(D))},[]),E=f.useCallback(D=>{D!==P.current&&(P.current=D,k(D))},[]),N=l||S,O=c||j,R=f.useRef(null),P=f.useRef(null),I=f.useRef(v),Z=h!=null,B=ip(h),X=ip(o),z=ip(p),F=f.useCallback(()=>{if(!R.current||!P.current)return;const D={placement:t,strategy:r,middleware:y};X.current&&(D.platform=X.current),PF(R.current,P.current,D).then(H=>{const te={...H,isPositioned:z.current!==!1};U.current&&!Hd(I.current,te)&&(I.current=te,Bi.flushSync(()=>{g(te)}))})},[y,t,r,X,z]);Td(()=>{p===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,g(D=>({...D,isPositioned:!1})))},[p]);const U=f.useRef(!1);Td(()=>(U.current=!0,()=>{U.current=!1}),[]),Td(()=>{if(N&&(R.current=N),O&&(P.current=O),N&&O){if(B.current)return B.current(N,O,F);F()}},[N,O,F,B,Z]);const le=f.useMemo(()=>({reference:R,floating:P,setReference:C,setFloating:E}),[C,E]),V=f.useMemo(()=>({reference:N,floating:O}),[N,O]),ee=f.useMemo(()=>{const D={position:r,left:0,top:0};if(!V.floating)return D;const H=G0(V.floating,v.x),te=G0(V.floating,v.y);return d?{...D,transform:"translate("+H+"px, "+te+"px)",...lN(V.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:H,top:te}},[r,d,V.floating,v.x,v.y]);return f.useMemo(()=>({...v,update:F,refs:le,elements:V,floatingStyles:ee}),[v,F,le,V,ee])}const MF=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:o}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?H0({element:n.current,padding:o}).fn(r):{}:n?H0({element:n,padding:o}).fn(r):{}}}},LF=(e,t)=>({...EF(e),options:[e,t]}),$F=(e,t)=>({...kF(e),options:[e,t]}),FF=(e,t)=>({...AF(e),options:[e,t]}),UF=(e,t)=>({...CF(e),options:[e,t]}),BF=(e,t)=>({...TF(e),options:[e,t]}),zF=(e,t)=>({...RF(e),options:[e,t]}),WF=(e,t)=>({...MF(e),options:[e,t]});var VF="Arrow",cN=f.forwardRef((e,t)=>{const{children:r,width:n=10,height:o=5,...l}=e;return s.jsx(st.svg,{...l,ref:t,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});cN.displayName=VF;var qF=cN;function uN(e){const[t,r]=f.useState(void 0);return Sr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let c,d;if("borderBoxSize"in l){const h=l.borderBoxSize,p=Array.isArray(h)?h[0]:h;c=p.inlineSize,d=p.blockSize}else c=e.offsetWidth,d=e.offsetHeight;r({width:c,height:d})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var tv="Popper",[dN,Qa]=vn(tv),[HF,hN]=dN(tv),fN=e=>{const{__scopePopper:t,children:r}=e,[n,o]=f.useState(null);return s.jsx(HF,{scope:t,anchor:n,onAnchorChange:o,children:r})};fN.displayName=tv;var mN="PopperAnchor",pN=f.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...o}=e,l=hN(mN,r),c=f.useRef(null),d=wt(t,c),h=f.useRef(null);return f.useEffect(()=>{const p=h.current;h.current=n?.current||c.current,p!==h.current&&l.onAnchorChange(h.current)}),n?null:s.jsx(st.div,{...o,ref:d})});pN.displayName=mN;var rv="PopperContent",[GF,KF]=dN(rv),gN=f.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:l="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:v=0,sticky:g="partial",hideWhenDetached:y=!1,updatePositionStrategy:b="optimized",onPlaced:S,..._}=e,j=hN(rv,r),[k,C]=f.useState(null),E=wt(t,oe=>C(oe)),[N,O]=f.useState(null),R=uN(N),P=R?.width??0,I=R?.height??0,Z=n+(l!=="center"?"-"+l:""),B=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},X=Array.isArray(p)?p:[p],z=X.length>0,F={padding:B,boundary:X.filter(QF),altBoundary:z},{refs:U,floatingStyles:le,placement:V,isPositioned:ee,middlewareData:D}=IF({strategy:"fixed",placement:Z,whileElementsMounted:(...oe)=>SF(...oe,{animationFrame:b==="always"}),elements:{reference:j.anchor},middleware:[LF({mainAxis:o+I,alignmentAxis:c}),h&&$F({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?FF():void 0,...F}),h&&UF({...F}),BF({...F,apply:({elements:oe,rects:ue,availableWidth:Re,availableHeight:ve})=>{const{width:re,height:he}=ue.reference,Ne=oe.floating.style;Ne.setProperty("--radix-popper-available-width",`${Re}px`),Ne.setProperty("--radix-popper-available-height",`${ve}px`),Ne.setProperty("--radix-popper-anchor-width",`${re}px`),Ne.setProperty("--radix-popper-anchor-height",`${he}px`)}}),N&&WF({element:N,padding:d}),JF({arrowWidth:P,arrowHeight:I}),y&&zF({strategy:"referenceHidden",...F})]}),[H,te]=yN(V),A=_r(S);Sr(()=>{ee&&A?.()},[ee,A]);const $=D.arrow?.x,J=D.arrow?.y,ce=D.arrow?.centerOffset!==0,[G,pe]=f.useState();return Sr(()=>{k&&pe(window.getComputedStyle(k).zIndex)},[k]),s.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...le,transform:ee?le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[D.transformOrigin?.x,D.transformOrigin?.y].join(" "),...D.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(GF,{scope:r,placedSide:H,onArrowChange:O,arrowX:$,arrowY:J,shouldHideArrow:ce,children:s.jsx(st.div,{"data-side":H,"data-align":te,..._,ref:E,style:{..._.style,animation:ee?void 0:"none"}})})})});gN.displayName=rv;var vN="PopperArrow",YF={top:"bottom",right:"left",bottom:"top",left:"right"},xN=f.forwardRef(function(t,r){const{__scopePopper:n,...o}=t,l=KF(vN,n),c=YF[l.placedSide];return s.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:s.jsx(qF,{...o,ref:r,style:{...o.style,display:"block"}})})});xN.displayName=vN;function QF(e){return e!==null}var JF=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:o}=t,c=o.arrow?.centerOffset!==0,d=c?0:e.arrowWidth,h=c?0:e.arrowHeight,[p,v]=yN(r),g={start:"0%",center:"50%",end:"100%"}[v],y=(o.arrow?.x??0)+d/2,b=(o.arrow?.y??0)+h/2;let S="",_="";return p==="bottom"?(S=c?g:`${y}px`,_=`${-h}px`):p==="top"?(S=c?g:`${y}px`,_=`${n.floating.height+h}px`):p==="right"?(S=`${-h}px`,_=c?g:`${b}px`):p==="left"&&(S=`${n.floating.width+h}px`,_=c?g:`${b}px`),{data:{x:S,y:_}}}});function yN(e){const[t,r="center"]=e.split("-");return[t,r]}var Eh=fN,Ic=pN,kh=gN,Ch=xN,lp="rovingFocusGroup.onEntryFocus",ZF={bubbles:!1,cancelable:!0},Mc="RovingFocusGroup",[Qp,wN,XF]=ah(Mc),[e5,Ji]=vn(Mc,[XF]),[t5,r5]=e5(Mc),_N=f.forwardRef((e,t)=>s.jsx(Qp.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Qp.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(n5,{...e,ref:t})})}));_N.displayName=Mc;var n5=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:o=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:v=!1,...g}=e,y=f.useRef(null),b=wt(t,y),S=Ki(l),[_,j]=Is({prop:c,defaultProp:d??null,onChange:h,caller:Mc}),[k,C]=f.useState(!1),E=_r(p),N=wN(r),O=f.useRef(!1),[R,P]=f.useState(0);return f.useEffect(()=>{const I=y.current;if(I)return I.addEventListener(lp,E),()=>I.removeEventListener(lp,E)},[E]),s.jsx(t5,{scope:r,orientation:n,dir:S,loop:o,currentTabStopId:_,onItemFocus:f.useCallback(I=>j(I),[j]),onItemShiftTab:f.useCallback(()=>C(!0),[]),onFocusableItemAdd:f.useCallback(()=>P(I=>I+1),[]),onFocusableItemRemove:f.useCallback(()=>P(I=>I-1),[]),children:s.jsx(st.div,{tabIndex:k||R===0?-1:0,"data-orientation":n,...g,ref:b,style:{outline:"none",...e.style},onMouseDown:Ee(e.onMouseDown,()=>{O.current=!0}),onFocus:Ee(e.onFocus,I=>{const Z=!O.current;if(I.target===I.currentTarget&&Z&&!k){const B=new CustomEvent(lp,ZF);if(I.currentTarget.dispatchEvent(B),!B.defaultPrevented){const X=N().filter(V=>V.focusable),z=X.find(V=>V.active),F=X.find(V=>V.id===_),le=[z,F,...X].filter(Boolean).map(V=>V.ref.current);NN(le,v)}}O.current=!1}),onBlur:Ee(e.onBlur,()=>C(!1))})})}),bN="RovingFocusGroupItem",jN=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:o=!1,tabStopId:l,children:c,...d}=e,h=Qn(),p=l||h,v=r5(bN,r),g=v.currentTabStopId===p,y=wN(r),{onFocusableItemAdd:b,onFocusableItemRemove:S,currentTabStopId:_}=v;return f.useEffect(()=>{if(n)return b(),()=>S()},[n,b,S]),s.jsx(Qp.ItemSlot,{scope:r,id:p,focusable:n,active:o,children:s.jsx(st.span,{tabIndex:g?0:-1,"data-orientation":v.orientation,...d,ref:t,onMouseDown:Ee(e.onMouseDown,j=>{n?v.onItemFocus(p):j.preventDefault()}),onFocus:Ee(e.onFocus,()=>v.onItemFocus(p)),onKeyDown:Ee(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){v.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const k=o5(j,v.orientation,v.dir);if(k!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let E=y().filter(N=>N.focusable).map(N=>N.ref.current);if(k==="last")E.reverse();else if(k==="prev"||k==="next"){k==="prev"&&E.reverse();const N=E.indexOf(j.currentTarget);E=v.loop?i5(E,N+1):E.slice(N+1)}setTimeout(()=>NN(E))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:_!=null}):c})})});jN.displayName=bN;var s5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function a5(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function o5(e,t,r){const n=a5(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return s5[n]}function NN(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function i5(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var nv=_N,sv=jN;function l5(e){const t=c5(e),r=f.forwardRef((n,o)=>{const{children:l,...c}=n,d=f.Children.toArray(l),h=d.find(d5);if(h){const p=h.props.children,v=d.map(g=>g===h?f.Children.count(p)>1?f.Children.only(null):f.isValidElement(p)?p.props.children:null:g);return s.jsx(t,{...c,ref:o,children:f.isValidElement(p)?f.cloneElement(p,void 0,v):null})}return s.jsx(t,{...c,ref:o,children:l})});return r.displayName=`${e}.Slot`,r}function c5(e){const t=f.forwardRef((r,n)=>{const{children:o,...l}=r;if(f.isValidElement(o)){const c=f5(o),d=h5(l,o.props);return o.type!==f.Fragment&&(d.ref=n?$s(n,c):c),f.cloneElement(o,d)}return f.Children.count(o)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var u5=Symbol("radix.slottable");function d5(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===u5}function h5(e,t){const r={...t};for(const n in t){const o=e[n],l=t[n];/^on[A-Z]/.test(n)?o&&l?r[n]=(...d)=>{const h=l(...d);return o(...d),h}:o&&(r[n]=o):n==="style"?r[n]={...o,...l}:n==="className"&&(r[n]=[o,l].filter(Boolean).join(" "))}return{...e,...r}}function f5(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Jp=["Enter"," "],m5=["ArrowDown","PageUp","Home"],SN=["ArrowUp","PageDown","End"],p5=[...m5,...SN],g5={ltr:[...Jp,"ArrowRight"],rtl:[...Jp,"ArrowLeft"]},v5={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Lc="Menu",[vc,x5,y5]=ah(Lc),[Io,EN]=vn(Lc,[y5,Qa,Ji]),Th=Qa(),kN=Ji(),[w5,Mo]=Io(Lc),[_5,$c]=Io(Lc),CN=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:o,onOpenChange:l,modal:c=!0}=e,d=Th(t),[h,p]=f.useState(null),v=f.useRef(!1),g=_r(l),y=Ki(o);return f.useEffect(()=>{const b=()=>{v.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>v.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),s.jsx(Eh,{...d,children:s.jsx(w5,{scope:t,open:r,onOpenChange:g,content:h,onContentChange:p,children:s.jsx(_5,{scope:t,onClose:f.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:v,dir:y,modal:c,children:n})})})};CN.displayName=Lc;var b5="MenuAnchor",av=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,o=Th(r);return s.jsx(Ic,{...o,...n,ref:t})});av.displayName=b5;var ov="MenuPortal",[j5,TN]=Io(ov,{forceMount:void 0}),RN=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:o}=e,l=Mo(ov,t);return s.jsx(j5,{scope:t,forceMount:r,children:s.jsx(qr,{present:r||l.open,children:s.jsx(zi,{asChild:!0,container:o,children:n})})})};RN.displayName=ov;var Jn="MenuContent",[N5,iv]=Io(Jn),AN=f.forwardRef((e,t)=>{const r=TN(Jn,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,l=Mo(Jn,e.__scopeMenu),c=$c(Jn,e.__scopeMenu);return s.jsx(vc.Provider,{scope:e.__scopeMenu,children:s.jsx(qr,{present:n||l.open,children:s.jsx(vc.Slot,{scope:e.__scopeMenu,children:c.modal?s.jsx(S5,{...o,ref:t}):s.jsx(E5,{...o,ref:t})})})})}),S5=f.forwardRef((e,t)=>{const r=Mo(Jn,e.__scopeMenu),n=f.useRef(null),o=wt(t,n);return f.useEffect(()=>{const l=n.current;if(l)return yh(l)},[]),s.jsx(lv,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ee(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),E5=f.forwardRef((e,t)=>{const r=Mo(Jn,e.__scopeMenu);return s.jsx(lv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),k5=l5("MenuContent.ScrollLock"),lv=f.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:o,onOpenAutoFocus:l,onCloseAutoFocus:c,disableOutsidePointerEvents:d,onEntryFocus:h,onEscapeKeyDown:p,onPointerDownOutside:v,onFocusOutside:g,onInteractOutside:y,onDismiss:b,disableOutsideScroll:S,..._}=e,j=Mo(Jn,r),k=$c(Jn,r),C=Th(r),E=kN(r),N=x5(r),[O,R]=f.useState(null),P=f.useRef(null),I=wt(t,P,j.onContentChange),Z=f.useRef(0),B=f.useRef(""),X=f.useRef(0),z=f.useRef(null),F=f.useRef("right"),U=f.useRef(0),le=S?Cc:f.Fragment,V=S?{as:k5,allowPinchZoom:!0}:void 0,ee=H=>{const te=B.current+H,A=N().filter(oe=>!oe.disabled),$=document.activeElement,J=A.find(oe=>oe.ref.current===$)?.textValue,ce=A.map(oe=>oe.textValue),G=F5(ce,te,J),pe=A.find(oe=>oe.textValue===G)?.ref.current;(function oe(ue){B.current=ue,window.clearTimeout(Z.current),ue!==""&&(Z.current=window.setTimeout(()=>oe(""),1e3))})(te),pe&&setTimeout(()=>pe.focus())};f.useEffect(()=>()=>window.clearTimeout(Z.current),[]),vh();const D=f.useCallback(H=>F.current===z.current?.side&&B5(H,z.current?.area),[]);return s.jsx(N5,{scope:r,searchRef:B,onItemEnter:f.useCallback(H=>{D(H)&&H.preventDefault()},[D]),onItemLeave:f.useCallback(H=>{D(H)||(P.current?.focus(),R(null))},[D]),onTriggerLeave:f.useCallback(H=>{D(H)&&H.preventDefault()},[D]),pointerGraceTimerRef:X,onPointerGraceIntentChange:f.useCallback(H=>{z.current=H},[]),children:s.jsx(le,{...V,children:s.jsx(kc,{asChild:!0,trapped:o,onMountAutoFocus:Ee(l,H=>{H.preventDefault(),P.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:s.jsx(Do,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:p,onPointerDownOutside:v,onFocusOutside:g,onInteractOutside:y,onDismiss:b,children:s.jsx(nv,{asChild:!0,...E,dir:k.dir,orientation:"vertical",loop:n,currentTabStopId:O,onCurrentTabStopIdChange:R,onEntryFocus:Ee(h,H=>{k.isUsingKeyboardRef.current||H.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(kh,{role:"menu","aria-orientation":"vertical","data-state":GN(j.open),"data-radix-menu-content":"",dir:k.dir,...C,..._,ref:I,style:{outline:"none",..._.style},onKeyDown:Ee(_.onKeyDown,H=>{const A=H.target.closest("[data-radix-menu-content]")===H.currentTarget,$=H.ctrlKey||H.altKey||H.metaKey,J=H.key.length===1;A&&(H.key==="Tab"&&H.preventDefault(),!$&&J&&ee(H.key));const ce=P.current;if(H.target!==ce||!p5.includes(H.key))return;H.preventDefault();const pe=N().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);SN.includes(H.key)&&pe.reverse(),L5(pe)}),onBlur:Ee(e.onBlur,H=>{H.currentTarget.contains(H.target)||(window.clearTimeout(Z.current),B.current="")}),onPointerMove:Ee(e.onPointerMove,xc(H=>{const te=H.target,A=U.current!==H.clientX;if(H.currentTarget.contains(te)&&A){const $=H.clientX>U.current?"right":"left";F.current=$,U.current=H.clientX}}))})})})})})})});AN.displayName=Jn;var C5="MenuGroup",cv=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(st.div,{role:"group",...n,ref:t})});cv.displayName=C5;var T5="MenuLabel",PN=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(st.div,{...n,ref:t})});PN.displayName=T5;var Gd="MenuItem",K0="menu.itemSelect",Rh=f.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...o}=e,l=f.useRef(null),c=$c(Gd,e.__scopeMenu),d=iv(Gd,e.__scopeMenu),h=wt(t,l),p=f.useRef(!1),v=()=>{const g=l.current;if(!r&&g){const y=new CustomEvent(K0,{bubbles:!0,cancelable:!0});g.addEventListener(K0,b=>n?.(b),{once:!0}),fg(g,y),y.defaultPrevented?p.current=!1:c.onClose()}};return s.jsx(ON,{...o,ref:h,disabled:r,onClick:Ee(e.onClick,v),onPointerDown:g=>{e.onPointerDown?.(g),p.current=!0},onPointerUp:Ee(e.onPointerUp,g=>{p.current||g.currentTarget?.click()}),onKeyDown:Ee(e.onKeyDown,g=>{const y=d.searchRef.current!=="";r||y&&g.key===" "||Jp.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Rh.displayName=Gd;var ON=f.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:o,...l}=e,c=iv(Gd,r),d=kN(r),h=f.useRef(null),p=wt(t,h),[v,g]=f.useState(!1),[y,b]=f.useState("");return f.useEffect(()=>{const S=h.current;S&&b((S.textContent??"").trim())},[l.children]),s.jsx(vc.ItemSlot,{scope:r,disabled:n,textValue:o??y,children:s.jsx(sv,{asChild:!0,...d,focusable:!n,children:s.jsx(st.div,{role:"menuitem","data-highlighted":v?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...l,ref:p,onPointerMove:Ee(e.onPointerMove,xc(S=>{n?c.onItemLeave(S):(c.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ee(e.onPointerLeave,xc(S=>c.onItemLeave(S))),onFocus:Ee(e.onFocus,()=>g(!0)),onBlur:Ee(e.onBlur,()=>g(!1))})})})}),R5="MenuCheckboxItem",DN=f.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...o}=e;return s.jsx(FN,{scope:e.__scopeMenu,checked:r,children:s.jsx(Rh,{role:"menuitemcheckbox","aria-checked":Kd(r)?"mixed":r,...o,ref:t,"data-state":dv(r),onSelect:Ee(o.onSelect,()=>n?.(Kd(r)?!0:!r),{checkForDefaultPrevented:!1})})})});DN.displayName=R5;var IN="MenuRadioGroup",[A5,P5]=Io(IN,{value:void 0,onValueChange:()=>{}}),MN=f.forwardRef((e,t)=>{const{value:r,onValueChange:n,...o}=e,l=_r(n);return s.jsx(A5,{scope:e.__scopeMenu,value:r,onValueChange:l,children:s.jsx(cv,{...o,ref:t})})});MN.displayName=IN;var LN="MenuRadioItem",$N=f.forwardRef((e,t)=>{const{value:r,...n}=e,o=P5(LN,e.__scopeMenu),l=r===o.value;return s.jsx(FN,{scope:e.__scopeMenu,checked:l,children:s.jsx(Rh,{role:"menuitemradio","aria-checked":l,...n,ref:t,"data-state":dv(l),onSelect:Ee(n.onSelect,()=>o.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});$N.displayName=LN;var uv="MenuItemIndicator",[FN,O5]=Io(uv,{checked:!1}),UN=f.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...o}=e,l=O5(uv,r);return s.jsx(qr,{present:n||Kd(l.checked)||l.checked===!0,children:s.jsx(st.span,{...o,ref:t,"data-state":dv(l.checked)})})});UN.displayName=uv;var D5="MenuSeparator",BN=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(st.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});BN.displayName=D5;var I5="MenuArrow",zN=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,o=Th(r);return s.jsx(Ch,{...o,...n,ref:t})});zN.displayName=I5;var M5="MenuSub",[NB,WN]=Io(M5),Kl="MenuSubTrigger",VN=f.forwardRef((e,t)=>{const r=Mo(Kl,e.__scopeMenu),n=$c(Kl,e.__scopeMenu),o=WN(Kl,e.__scopeMenu),l=iv(Kl,e.__scopeMenu),c=f.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:h}=l,p={__scopeMenu:e.__scopeMenu},v=f.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return f.useEffect(()=>v,[v]),f.useEffect(()=>{const g=d.current;return()=>{window.clearTimeout(g),h(null)}},[d,h]),s.jsx(av,{asChild:!0,...p,children:s.jsx(ON,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":o.contentId,"data-state":GN(r.open),...e,ref:$s(t,o.onTriggerChange),onClick:g=>{e.onClick?.(g),!(e.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ee(e.onPointerMove,xc(g=>{l.onItemEnter(g),!g.defaultPrevented&&!e.disabled&&!r.open&&!c.current&&(l.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{r.onOpenChange(!0),v()},100))})),onPointerLeave:Ee(e.onPointerLeave,xc(g=>{v();const y=r.content?.getBoundingClientRect();if(y){const b=r.content?.dataset.side,S=b==="right",_=S?-5:5,j=y[S?"left":"right"],k=y[S?"right":"left"];l.onPointerGraceIntentChange({area:[{x:g.clientX+_,y:g.clientY},{x:j,y:y.top},{x:k,y:y.top},{x:k,y:y.bottom},{x:j,y:y.bottom}],side:b}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(g),g.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:Ee(e.onKeyDown,g=>{const y=l.searchRef.current!=="";e.disabled||y&&g.key===" "||g5[n.dir].includes(g.key)&&(r.onOpenChange(!0),r.content?.focus(),g.preventDefault())})})})});VN.displayName=Kl;var qN="MenuSubContent",HN=f.forwardRef((e,t)=>{const r=TN(Jn,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,l=Mo(Jn,e.__scopeMenu),c=$c(Jn,e.__scopeMenu),d=WN(qN,e.__scopeMenu),h=f.useRef(null),p=wt(t,h);return s.jsx(vc.Provider,{scope:e.__scopeMenu,children:s.jsx(qr,{present:n||l.open,children:s.jsx(vc.Slot,{scope:e.__scopeMenu,children:s.jsx(lv,{id:d.contentId,"aria-labelledby":d.triggerId,...o,ref:p,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:v=>{c.isUsingKeyboardRef.current&&h.current?.focus(),v.preventDefault()},onCloseAutoFocus:v=>v.preventDefault(),onFocusOutside:Ee(e.onFocusOutside,v=>{v.target!==d.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:Ee(e.onEscapeKeyDown,v=>{c.onClose(),v.preventDefault()}),onKeyDown:Ee(e.onKeyDown,v=>{const g=v.currentTarget.contains(v.target),y=v5[c.dir].includes(v.key);g&&y&&(l.onOpenChange(!1),d.trigger?.focus(),v.preventDefault())})})})})})});HN.displayName=qN;function GN(e){return e?"open":"closed"}function Kd(e){return e==="indeterminate"}function dv(e){return Kd(e)?"indeterminate":e?"checked":"unchecked"}function L5(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function $5(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function F5(e,t,r){const o=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,l=r?e.indexOf(r):-1;let c=$5(e,Math.max(l,0));o.length===1&&(c=c.filter(p=>p!==r));const h=c.find(p=>p.toLowerCase().startsWith(o.toLowerCase()));return h!==r?h:void 0}function U5(e,t){const{x:r,y:n}=e;let o=!1;for(let l=0,c=t.length-1;l<t.length;c=l++){const d=t[l],h=t[c],p=d.x,v=d.y,g=h.x,y=h.y;v>n!=y>n&&r<(g-p)*(n-v)/(y-v)+p&&(o=!o)}return o}function B5(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return U5(r,t)}function xc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var z5=CN,W5=av,V5=RN,q5=AN,H5=cv,G5=PN,K5=Rh,Y5=DN,Q5=MN,J5=$N,Z5=UN,X5=BN,eU=zN,tU=VN,rU=HN,Ah="DropdownMenu",[nU]=vn(Ah,[EN]),xn=EN(),[sU,KN]=nU(Ah),YN=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:o,defaultOpen:l,onOpenChange:c,modal:d=!0}=e,h=xn(t),p=f.useRef(null),[v,g]=Is({prop:o,defaultProp:l??!1,onChange:c,caller:Ah});return s.jsx(sU,{scope:t,triggerId:Qn(),triggerRef:p,contentId:Qn(),open:v,onOpenChange:g,onOpenToggle:f.useCallback(()=>g(y=>!y),[g]),modal:d,children:s.jsx(z5,{...h,open:v,onOpenChange:g,dir:n,modal:d,children:r})})};YN.displayName=Ah;var QN="DropdownMenuTrigger",JN=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...o}=e,l=KN(QN,r),c=xn(r);return s.jsx(W5,{asChild:!0,...c,children:s.jsx(st.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...o,ref:$s(t,l.triggerRef),onPointerDown:Ee(e.onPointerDown,d=>{!n&&d.button===0&&d.ctrlKey===!1&&(l.onOpenToggle(),l.open||d.preventDefault())}),onKeyDown:Ee(e.onKeyDown,d=>{n||(["Enter"," "].includes(d.key)&&l.onOpenToggle(),d.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});JN.displayName=QN;var aU="DropdownMenuPortal",ZN=e=>{const{__scopeDropdownMenu:t,...r}=e,n=xn(t);return s.jsx(V5,{...n,...r})};ZN.displayName=aU;var XN="DropdownMenuContent",eS=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=KN(XN,r),l=xn(r),c=f.useRef(!1);return s.jsx(q5,{id:o.contentId,"aria-labelledby":o.triggerId,...l,...n,ref:t,onCloseAutoFocus:Ee(e.onCloseAutoFocus,d=>{c.current||o.triggerRef.current?.focus(),c.current=!1,d.preventDefault()}),onInteractOutside:Ee(e.onInteractOutside,d=>{const h=d.detail.originalEvent,p=h.button===0&&h.ctrlKey===!0,v=h.button===2||p;(!o.modal||v)&&(c.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});eS.displayName=XN;var oU="DropdownMenuGroup",iU=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=xn(r);return s.jsx(H5,{...o,...n,ref:t})});iU.displayName=oU;var lU="DropdownMenuLabel",tS=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=xn(r);return s.jsx(G5,{...o,...n,ref:t})});tS.displayName=lU;var cU="DropdownMenuItem",rS=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=xn(r);return s.jsx(K5,{...o,...n,ref:t})});rS.displayName=cU;var uU="DropdownMenuCheckboxItem",nS=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=xn(r);return s.jsx(Y5,{...o,...n,ref:t})});nS.displayName=uU;var dU="DropdownMenuRadioGroup",hU=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=xn(r);return s.jsx(Q5,{...o,...n,ref:t})});hU.displayName=dU;var fU="DropdownMenuRadioItem",sS=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=xn(r);return s.jsx(J5,{...o,...n,ref:t})});sS.displayName=fU;var mU="DropdownMenuItemIndicator",aS=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=xn(r);return s.jsx(Z5,{...o,...n,ref:t})});aS.displayName=mU;var pU="DropdownMenuSeparator",oS=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=xn(r);return s.jsx(X5,{...o,...n,ref:t})});oS.displayName=pU;var gU="DropdownMenuArrow",vU=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=xn(r);return s.jsx(eU,{...o,...n,ref:t})});vU.displayName=gU;var xU="DropdownMenuSubTrigger",iS=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=xn(r);return s.jsx(tU,{...o,...n,ref:t})});iS.displayName=xU;var yU="DropdownMenuSubContent",lS=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=xn(r);return s.jsx(rU,{...o,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});lS.displayName=yU;var wU=YN,_U=JN,bU=ZN,cS=eS,uS=tS,dS=rS,hS=nS,fS=sS,mS=aS,pS=oS,gS=iS,vS=lS;const Zi=wU,Xi=_U,jU=f.forwardRef(({className:e,inset:t,children:r,...n},o)=>s.jsxs(gS,{ref:o,className:Ae("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(Y_,{className:"ml-auto h-4 w-4"})]}));jU.displayName=gS.displayName;const NU=f.forwardRef(({className:e,...t},r)=>s.jsx(vS,{ref:r,className:Ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));NU.displayName=vS.displayName;const Lo=f.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(bU,{children:s.jsx(cS,{ref:n,sideOffset:t,className:Ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Lo.displayName=cS.displayName;const Zn=f.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(dS,{ref:n,className:Ae("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));Zn.displayName=dS.displayName;const SU=f.forwardRef(({className:e,children:t,checked:r,...n},o)=>s.jsxs(hS,{ref:o,className:Ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(mS,{children:s.jsx(ih,{className:"h-4 w-4"})})}),t]}));SU.displayName=hS.displayName;const EU=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(fS,{ref:n,className:Ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(mS,{children:s.jsx(lh,{className:"h-2 w-2 fill-current"})})}),t]}));EU.displayName=fS.displayName;const xS=f.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(uS,{ref:n,className:Ae("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));xS.displayName=uS.displayName;const hv=f.forwardRef(({className:e,...t},r)=>s.jsx(pS,{ref:r,className:Ae("-mx-1 my-1 h-px bg-muted",e),...t}));hv.displayName=pS.displayName;var kU=Symbol("radix.slottable");function CU(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=kU,t}var[Ph]=vn("Tooltip",[Qa]),Oh=Qa(),yS="TooltipProvider",TU=700,Zp="tooltip.open",[RU,fv]=Ph(yS),wS=e=>{const{__scopeTooltip:t,delayDuration:r=TU,skipDelayDuration:n=300,disableHoverableContent:o=!1,children:l}=e,c=f.useRef(!0),d=f.useRef(!1),h=f.useRef(0);return f.useEffect(()=>{const p=h.current;return()=>window.clearTimeout(p)},[]),s.jsx(RU,{scope:t,isOpenDelayedRef:c,delayDuration:r,onOpen:f.useCallback(()=>{window.clearTimeout(h.current),c.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>c.current=!0,n)},[n]),isPointerInTransitRef:d,onPointerInTransitChange:f.useCallback(p=>{d.current=p},[]),disableHoverableContent:o,children:l})};wS.displayName=yS;var yc="Tooltip",[AU,Dh]=Ph(yc),_S=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:o,onOpenChange:l,disableHoverableContent:c,delayDuration:d}=e,h=fv(yc,e.__scopeTooltip),p=Oh(t),[v,g]=f.useState(null),y=Qn(),b=f.useRef(0),S=c??h.disableHoverableContent,_=d??h.delayDuration,j=f.useRef(!1),[k,C]=Is({prop:n,defaultProp:o??!1,onChange:P=>{P?(h.onOpen(),document.dispatchEvent(new CustomEvent(Zp))):h.onClose(),l?.(P)},caller:yc}),E=f.useMemo(()=>k?j.current?"delayed-open":"instant-open":"closed",[k]),N=f.useCallback(()=>{window.clearTimeout(b.current),b.current=0,j.current=!1,C(!0)},[C]),O=f.useCallback(()=>{window.clearTimeout(b.current),b.current=0,C(!1)},[C]),R=f.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{j.current=!0,C(!0),b.current=0},_)},[_,C]);return f.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),s.jsx(Eh,{...p,children:s.jsx(AU,{scope:t,contentId:y,open:k,stateAttribute:E,trigger:v,onTriggerChange:g,onTriggerEnter:f.useCallback(()=>{h.isOpenDelayedRef.current?R():N()},[h.isOpenDelayedRef,R,N]),onTriggerLeave:f.useCallback(()=>{S?O():(window.clearTimeout(b.current),b.current=0)},[O,S]),onOpen:N,onClose:O,disableHoverableContent:S,children:r})})};_S.displayName=yc;var Xp="TooltipTrigger",bS=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,o=Dh(Xp,r),l=fv(Xp,r),c=Oh(r),d=f.useRef(null),h=wt(t,d,o.onTriggerChange),p=f.useRef(!1),v=f.useRef(!1),g=f.useCallback(()=>p.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),s.jsx(Ic,{asChild:!0,...c,children:s.jsx(st.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...n,ref:h,onPointerMove:Ee(e.onPointerMove,y=>{y.pointerType!=="touch"&&!v.current&&!l.isPointerInTransitRef.current&&(o.onTriggerEnter(),v.current=!0)}),onPointerLeave:Ee(e.onPointerLeave,()=>{o.onTriggerLeave(),v.current=!1}),onPointerDown:Ee(e.onPointerDown,()=>{o.open&&o.onClose(),p.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:Ee(e.onFocus,()=>{p.current||o.onOpen()}),onBlur:Ee(e.onBlur,o.onClose),onClick:Ee(e.onClick,o.onClose)})})});bS.displayName=Xp;var PU="TooltipPortal",[SB,OU]=Ph(PU,{forceMount:void 0}),Oi="TooltipContent",jS=f.forwardRef((e,t)=>{const r=OU(Oi,e.__scopeTooltip),{forceMount:n=r.forceMount,side:o="top",...l}=e,c=Dh(Oi,e.__scopeTooltip);return s.jsx(qr,{present:n||c.open,children:c.disableHoverableContent?s.jsx(NS,{side:o,...l,ref:t}):s.jsx(DU,{side:o,...l,ref:t})})}),DU=f.forwardRef((e,t)=>{const r=Dh(Oi,e.__scopeTooltip),n=fv(Oi,e.__scopeTooltip),o=f.useRef(null),l=wt(t,o),[c,d]=f.useState(null),{trigger:h,onClose:p}=r,v=o.current,{onPointerInTransitChange:g}=n,y=f.useCallback(()=>{d(null),g(!1)},[g]),b=f.useCallback((S,_)=>{const j=S.currentTarget,k={x:S.clientX,y:S.clientY},C=FU(k,j.getBoundingClientRect()),E=UU(k,C),N=BU(_.getBoundingClientRect()),O=WU([...E,...N]);d(O),g(!0)},[g]);return f.useEffect(()=>()=>y(),[y]),f.useEffect(()=>{if(h&&v){const S=j=>b(j,v),_=j=>b(j,h);return h.addEventListener("pointerleave",S),v.addEventListener("pointerleave",_),()=>{h.removeEventListener("pointerleave",S),v.removeEventListener("pointerleave",_)}}},[h,v,b,y]),f.useEffect(()=>{if(c){const S=_=>{const j=_.target,k={x:_.clientX,y:_.clientY},C=h?.contains(j)||v?.contains(j),E=!zU(k,c);C?y():E&&(y(),p())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[h,v,c,p,y]),s.jsx(NS,{...e,ref:l})}),[IU,MU]=Ph(yc,{isInside:!1}),LU=CU("TooltipContent"),NS=f.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":o,onEscapeKeyDown:l,onPointerDownOutside:c,...d}=e,h=Dh(Oi,r),p=Oh(r),{onClose:v}=h;return f.useEffect(()=>(document.addEventListener(Zp,v),()=>document.removeEventListener(Zp,v)),[v]),f.useEffect(()=>{if(h.trigger){const g=y=>{y.target?.contains(h.trigger)&&v()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[h.trigger,v]),s.jsx(Do,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:g=>g.preventDefault(),onDismiss:v,children:s.jsxs(kh,{"data-state":h.stateAttribute,...p,...d,ref:t,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(LU,{children:n}),s.jsx(IU,{scope:r,isInside:!0,children:s.jsx(wT,{id:h.contentId,role:"tooltip",children:o||n})})]})})});jS.displayName=Oi;var SS="TooltipArrow",$U=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,o=Oh(r);return MU(SS,r).isInside?null:s.jsx(Ch,{...o,...n,ref:t})});$U.displayName=SS;function FU(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),l=Math.abs(t.left-e.x);switch(Math.min(r,n,o,l)){case l:return"left";case o:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function UU(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function BU(e){const{top:t,right:r,bottom:n,left:o}=e;return[{x:o,y:t},{x:r,y:t},{x:r,y:n},{x:o,y:n}]}function zU(e,t){const{x:r,y:n}=e;let o=!1;for(let l=0,c=t.length-1;l<t.length;c=l++){const d=t[l],h=t[c],p=d.x,v=d.y,g=h.x,y=h.y;v>n!=y>n&&r<(g-p)*(n-v)/(y-v)+p&&(o=!o)}return o}function WU(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),VU(t)}function VU(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const o=e[n];for(;t.length>=2;){const l=t[t.length-1],c=t[t.length-2];if((l.x-c.x)*(o.y-c.y)>=(l.y-c.y)*(o.x-c.x))t.pop();else break}t.push(o)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const o=e[n];for(;r.length>=2;){const l=r[r.length-1],c=r[r.length-2];if((l.x-c.x)*(o.y-c.y)>=(l.y-c.y)*(o.x-c.x))r.pop();else break}r.push(o)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var qU=wS,HU=_S,GU=bS,ES=jS;const Rr=qU,Ar=HU,Pr=GU,Nr=f.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(ES,{ref:n,sideOffset:t,className:Ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Nr.displayName=ES.displayName;const Kt=(e,t)=>{const r=e?.trim()||"",n=t?.trim()||"";return r&&n?`${r} ${n}`:r||n||""},or=(e,t)=>{const r=e?.trim()||"",n=t?.trim()||"";return r&&n?`${r[0]}${n[0]}`.toUpperCase():r?r[0]?.toUpperCase()||"":n?n[0]?.toUpperCase()||"":"?"},ln=(e,t,r="Unknown User")=>Kt(e,t)||r,cp=(e,t)=>{if(t?.trim())return t.trim();if(!e||e.length===0)return"Group Chat";const r=Kt(e[0]?.first_name,e[0]?.last_name),n=e.length-1;return n===0?r:`${r} +${n}`},Y0=e=>{const r=(h=>{const p=document.createElement("div");return p.textContent=h,p.innerHTML})(e),n=/@\[([a-f0-9-]+):([^\]]+)\]/g,o=r.replace(n,(h,p,v)=>`<a href="/profile/${p}" class="text-gold font-semibold hover:underline">@${v}</a>`),l=/(https?:\/\/[^\s]+)/g,d=o.replace(l,h=>`<a href="${h}" target="_blank" rel="noopener noreferrer" class="text-gold hover:text-gold-light underline">${h}</a>`).replace(/#(\w+)/g,'<span class="text-gold font-semibold">#$1</span>');return Kg.sanitize(d,{ALLOWED_TAGS:["span","a"],ALLOWED_ATTR:["class","href","target","rel"]})},Q0=({images:e,initialIndex:t=0,open:r,onOpenChange:n,comments:o,newComment:l,onNewCommentChange:c,onPostComment:d,postAuthorName:h,postContent:p,postTimeAgo:v,authorAvatar:g,postAuthorRole:y,postAuthorIsAdmin:b,postAuthorBadges:S,likeCount:_=0,liked:j=!1,onLike:k,bookmarked:C=!1,onBookmark:E,shareCount:N=0,onShare:O})=>{const[R,P]=f.useState(t),I=e&&e.length>0;f.useEffect(()=>{P(t)},[t,r]);const Z=()=>{I&&P(z=>(z-1+e.length)%e.length)},B=()=>{I&&P(z=>(z+1)%e.length)},X=I?e[R]:null;return s.jsx(hn,{open:r,onOpenChange:n,children:s.jsxs(fn,{className:`${I?"max-w-6xl":"max-w-2xl"} w-full max-h-[90vh] p-0 border-0 ${I?"bg-black/95":"bg-background"} flex gap-0`,children:[s.jsx(Ri,{asChild:!0,children:s.jsx(mn,{children:"Post Media and Comments Viewer"})}),s.jsx(Ri,{asChild:!0,children:s.jsx(Tn,{children:"View post images and comments"})}),I&&s.jsxs("div",{className:"flex-1 min-w-0 flex flex-col relative h-[80vh]",children:[s.jsx("div",{className:"flex-1 flex items-center justify-center min-w-0",children:X?.media_type.startsWith("image")?s.jsx("img",{src:X.url,alt:`Image ${R+1}`,className:"max-w-full max-h-full object-contain"}):s.jsx("video",{src:X?.url,controls:!0,className:"max-w-full max-h-full object-contain"})}),e.length>1&&s.jsxs(s.Fragment,{children:[s.jsx(de,{variant:"ghost",size:"icon",className:"absolute left-4 top-1/2 -translate-y-1/2 z-10 text-white hover:bg-white/20 h-12 w-12",onClick:Z,children:s.jsx(nR,{className:"h-8 w-8"})}),s.jsx(de,{variant:"ghost",size:"icon",className:"absolute right-4 top-1/2 -translate-y-1/2 z-10 text-white hover:bg-white/20 h-12 w-12",onClick:B,children:s.jsx(Y_,{className:"h-8 w-8"})}),s.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-10 bg-black/50 text-white px-4 py-2 rounded-full text-sm font-medium",children:[R+1," / ",e.length]})]})]}),s.jsxs("div",{className:`${I?"w-96":"flex-1"} bg-background ${I?"border-l border-border":""} flex flex-col ${I?"h-[80vh]":"max-h-[80vh]"}`,children:[s.jsxs("div",{className:"p-4 border-b border-border flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.jsxs(lr,{className:"w-10 h-10",children:[s.jsx(cr,{src:g}),s.jsx(ur,{className:"bg-secondary text-xs font-semibold",children:h?or(h.split(" ")[0],h.split(" ")[1]):"U"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-1 mb-1",children:[s.jsx("p",{className:"font-semibold text-sm",children:h}),b&&s.jsx(qe,{variant:"destructive",className:"text-xs px-1 py-0",children:"Admin"}),y&&s.jsx(qe,{variant:y==="employer"?"default":y==="mentor"?"secondary":"outline",className:"text-xs px-1 py-0",children:y.charAt(0).toUpperCase()+y.slice(1)}),S&&S.length>0&&S.map(z=>{const F=z.badges;return F?s.jsx(Rr,{children:s.jsxs(Ar,{delayDuration:100,children:[s.jsx(Pr,{asChild:!0,children:s.jsx("div",{className:"cursor-help",children:F.image_url?s.jsx("img",{src:F.image_url,alt:F.name,className:"w-4 h-4 object-contain"}):F.icon?s.jsx("span",{className:"text-sm",children:F.icon}):null})}),s.jsx(Nr,{children:s.jsxs("div",{className:"text-xs",children:[s.jsx("p",{className:"font-semibold",children:F.name}),F.description&&s.jsx("p",{className:"text-xs mt-1",children:F.description})]})})]})},z.id):null})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:v})]})]}),p&&s.jsx("p",{className:"text-sm whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:Y0(p)}})]}),s.jsxs("div",{className:"px-4 py-3 border-b border-border flex-shrink-0 flex items-center space-x-6",children:[s.jsxs(de,{variant:"ghost",size:"sm",onClick:k,className:j?"text-destructive":"",children:[s.jsx(rc,{className:`h-4 w-4 mr-2 ${j?"fill-current":""}`}),_||"Like"]}),s.jsxs(de,{variant:"ghost",size:"sm",onClick:O,children:[s.jsx(jg,{className:"h-4 w-4 mr-2"}),N>0?N:"Share"]}),s.jsx(de,{variant:"ghost",size:"sm",onClick:E,className:"ml-auto",children:s.jsx(vg,{className:`h-4 w-4 ${C?"fill-current":""}`})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:o.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No comments yet. Be the first!"}):o.map(z=>s.jsxs("div",{className:"flex space-x-3",children:[s.jsx(Zt,{to:`/profile/${z.user_id}`,className:"flex-shrink-0",children:s.jsxs(lr,{className:"w-8 h-8 cursor-pointer hover:opacity-80 transition-opacity",children:[s.jsx(cr,{src:z.profiles?.avatar_url||void 0,alt:ln(z.profiles?.first_name,z.profiles?.last_name)}),s.jsx(ur,{className:"bg-secondary text-xs font-semibold",children:or(z.profiles?.first_name,z.profiles?.last_name)})]})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"bg-secondary/50 rounded-lg p-2",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-1 mb-1",children:[s.jsx(Zt,{to:`/profile/${z.user_id}`,className:"font-semibold text-xs hover:text-gold transition-colors",children:ln(z.profiles?.first_name,z.profiles?.last_name)}),z.user_is_admin&&s.jsx(qe,{variant:"destructive",className:"text-xs px-1 py-0",children:"Admin"}),z.user_role&&s.jsx(qe,{variant:z.user_role==="employer"?"default":z.user_role==="mentor"?"secondary":"outline",className:"text-xs px-1 py-0",children:z.user_role.charAt(0).toUpperCase()+z.user_role.slice(1)}),z.user_badges&&z.user_badges.length>0&&z.user_badges.map(F=>{const U=F.badges;return U?s.jsx(Rr,{children:s.jsxs(Ar,{delayDuration:100,children:[s.jsx(Pr,{asChild:!0,children:s.jsx("div",{className:"cursor-help",children:U.image_url?s.jsx("img",{src:U.image_url,alt:U.name,className:"w-4 h-4 object-contain"}):U.icon?s.jsx("span",{className:"text-sm",children:U.icon}):null})}),s.jsx(Nr,{children:s.jsxs("div",{className:"text-xs",children:[s.jsx("p",{className:"font-semibold",children:U.name}),U.description&&s.jsx("p",{className:"text-xs mt-1",children:U.description})]})})]})},F.id):null})]}),s.jsx("p",{className:"text-sm break-words whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:Y0(z.content)}})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:To(new Date(z.created_at),{addSuffix:!0})})]})]},z.id))}),s.jsxs("div",{className:"p-4 border-t border-border flex-shrink-0 space-y-2",children:[s.jsx(Zr,{placeholder:"Write a comment...",value:l,onChange:z=>c(z.target.value),rows:2,className:"resize-none"}),s.jsx(de,{onClick:d,disabled:!l.trim(),className:"w-full bg-gold hover:bg-gold-light text-navy",children:"Post"})]})]})]})})},wc=async e=>{const{data:t}=await M.from("user_roles").select("role").eq("user_id",e),r=t?.map(l=>l.role)||[],n=r.find(l=>l!=="admin")||null,o=r.includes("admin");return{baseRole:n,hasAdminRole:o}},ea=async e=>{if(e.length===0)return new Map;const{data:t}=await M.from("user_roles").select("user_id, role").in("user_id",e),r=new Map;e.forEach(o=>{r.set(o,{baseRole:null,hasAdminRole:!1})});const n=new Map;return t?.forEach(o=>{n.has(o.user_id)||n.set(o.user_id,[]),n.get(o.user_id).push(o.role)}),n.forEach((o,l)=>{const c=o.find(h=>h!=="admin")||null,d=o.includes("admin");r.set(l,{baseRole:c,hasAdminRole:d})}),r},wd=({post:e,onUpdate:t,currentUserId:r,isDraft:n=!1,isHighlighted:o=!1})=>{const[l,c]=f.useState(!1),[d,h]=f.useState(!1),[p,v]=f.useState(!1),[g,y]=f.useState(""),[b,S]=f.useState(e.post_comments||[]),[_,j]=f.useState(!1),[k,C]=f.useState(e.content),[E,N]=f.useState(!1),[O,R]=f.useState(0),{toast:P}=Or(),I=e.post_media&&e.post_media.length>0?e.post_media:e.media_url?[{media_url:e.media_url,media_type:e.media_type||"image"}]:[],Z=f.useCallback(async()=>{const{data:A,error:$}=await M.from("post_comments").select(`
        *,
        profiles!post_comments_user_id_fkey(first_name, last_name, avatar_url)
      `).eq("post_id",e.id).order("created_at",{ascending:!0});if(!$&&A){const J=[...new Set(A.map(ue=>ue.user_id))],[ce,{data:G}]=await Promise.all([ea(J),M.from("user_badges").select(`
            id,
            user_id,
            badge_id,
            created_at,
            badges(id, name, description, icon, image_url, color_bg, color_text, is_active)
          `).in("user_id",J)]),pe=new Map;G?.forEach(ue=>{pe.has(ue.user_id)||pe.set(ue.user_id,[]),pe.get(ue.user_id).push(ue)});const oe=A.map(ue=>{const Re=ce.get(ue.user_id);return{...ue,user_role:Re?.baseRole??null,user_is_admin:Re?.hasAdminRole??!1,user_badges:pe.get(ue.user_id)||[]}});S(oe)}},[e.id]);f.useEffect(()=>{r&&(c(e.post_likes.some(A=>A.user_id===r)),h(e.post_bookmarks.some(A=>A.user_id===r)))},[e,r]),f.useEffect(()=>{p&&Z()},[p,Z]),f.useEffect(()=>{Z()},[Z]);const B=async()=>{if(!r){P({title:"Authentication required",description:"Please sign in to like posts",variant:"destructive"});return}try{if(l){const{error:A}=await M.from("post_likes").delete().eq("post_id",e.id).eq("user_id",r);if(A)throw A;c(!1)}else{const{error:A}=await M.from("post_likes").insert({post_id:e.id,user_id:r});if(A)throw A;c(!0)}t()}catch(A){console.error("Error toggling like:",A);let $="Failed to update like";A instanceof Error?$=A.message:typeof A=="string"&&($=A),P({title:"Error",description:$,variant:"destructive"})}},X=async()=>{if(!r){P({title:"Authentication required",description:"Please sign in to comment",variant:"destructive"});return}if(g.trim())try{const{error:A}=await M.from("post_comments").insert({post_id:e.id,user_id:r,content:g});if(A)throw A;y(""),Z(),t(),P({title:"Comment added",description:"Your comment has been posted"})}catch(A){console.error("Error adding comment:",A);let $="Failed to add comment";A instanceof Error?$=A.message:typeof A=="string"&&($=A),P({title:"Error",description:$,variant:"destructive"})}},z=async()=>{if(!r){P({title:"Authentication required",description:"Please sign in to share posts",variant:"destructive"});return}try{const{error:A}=await M.from("post_shares").insert({post_id:e.id,user_id:r});if(A)throw A;const $=`${window.location.origin}/?post=${e.id}`;await navigator.clipboard.writeText($),P({title:"Post shared",description:"Link copied to clipboard"}),t()}catch(A){console.error("Error sharing post:",A);let $="Failed to share post";A instanceof Error?$=A.message:typeof A=="string"&&($=A),P({title:"Error",description:$,variant:"destructive"})}},F=async()=>{if(!r){P({title:"Authentication required",description:"Please sign in to bookmark posts",variant:"destructive"});return}try{if(d){const{error:A}=await M.from("post_bookmarks").delete().eq("post_id",e.id).eq("user_id",r);if(A)throw A;h(!1),P({title:"Bookmark removed",description:"Post removed from your bookmarks"})}else{const{error:A}=await M.from("post_bookmarks").insert({post_id:e.id,user_id:r});if(A)throw A;h(!0),P({title:"Post bookmarked",description:"Post saved to your bookmarks"})}t()}catch(A){console.error("Error toggling bookmark:",A);let $="Failed to update bookmark";A instanceof Error?$=A.message:typeof A=="string"&&($=A),P({title:"Error",description:$,variant:"destructive"})}},U=async()=>{if(!k.trim()){P({title:"Empty content",description:"Post content cannot be empty",variant:"destructive"});return}try{const{error:A}=await M.from("posts").update({content:k}).eq("id",e.id).eq("user_id",r);if(A)throw A;P({title:"Post updated",description:"Your post has been updated successfully"}),j(!1),t()}catch(A){console.error("Error updating post:",A);let $="Failed to update post";A instanceof Error?$=A.message:typeof A=="string"&&($=A),P({title:"Error",description:$,variant:"destructive"})}},le=async()=>{if(confirm("Are you sure you want to delete this post?"))try{const{error:A}=await M.from("posts").delete().eq("id",e.id).eq("user_id",r);if(A)throw A;P({title:"Post deleted",description:"Your post has been deleted"}),t()}catch(A){console.error("Error deleting post:",A);let $="Failed to delete post";A instanceof Error?$=A.message:typeof A=="string"&&($=A),P({title:"Error",description:$,variant:"destructive"})}},V=async()=>{try{const{error:A}=await M.from("posts").update({is_published:!0,published_at:new Date().toISOString()}).eq("id",e.id).eq("user_id",r);if(A)throw A;P({title:"Post published",description:"Your draft has been published"}),t()}catch(A){console.error("Error publishing draft:",A);let $="Failed to publish draft";A instanceof Error?$=A.message:typeof A=="string"&&($=A),P({title:"Error",description:$,variant:"destructive"})}},ee=()=>{const A=ve=>{const re=document.createElement("div");return re.textContent=ve,re.innerHTML},$=ve=>{try{const re=new URL(ve);return["http:","https:"].includes(re.protocol)}catch{return!1}},J=A(e.content),ce=/@\[([a-f0-9-]+):([^\]]+)\]/g,G=J.replace(ce,(ve,re,he)=>`<a href="/profile/${re}" class="text-gold font-semibold hover:underline">@${he}</a>`),pe=/(https?:\/\/[^\s]+)/g,ue=G.replace(pe,ve=>$(ve)?`<a href="${ve}" target="_blank" rel="noopener noreferrer" class="text-gold hover:text-gold-light underline">${ve}</a>`:ve).replace(/#(\w+)/g,'<span class="text-gold font-semibold">#$1</span>'),Re=Kg.sanitize(ue,{ALLOWED_TAGS:["span","a"],ALLOWED_ATTR:["class","href","target","rel"]});return s.jsx("p",{className:"mt-3 text-foreground whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:Re}})},D=ln(e.profiles?.first_name,e.profiles?.last_name),H=or(e.profiles?.first_name,e.profiles?.last_name),te=To(new Date(e.published_at),{addSuffix:!0});return s.jsx(Ye,{id:`post-${e.id}`,className:`p-6 mb-4 animate-slide-up hover:shadow-lg transition-shadow overflow-hidden ${o?"ring-2 ring-gold animate-pulse":""}`,children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Zt,{to:`/profile/${e.user_id}`,className:"flex-shrink-0",children:s.jsxs(lr,{className:"w-12 h-12 cursor-pointer hover:opacity-80 transition-opacity",children:[s.jsx(cr,{src:e.profiles?.avatar_url||void 0,alt:D}),s.jsx(ur,{className:"bg-secondary text-primary font-semibold",children:H})]})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[s.jsx(Zt,{to:`/profile/${e.user_id}`,className:"font-semibold text-foreground hover:text-gold transition-colors",children:D}),e.user_is_admin&&s.jsx(qe,{variant:"destructive",className:"text-xs px-1.5 py-0.5",children:"Admin"}),e.user_role&&s.jsx(qe,{variant:e.user_role==="employer"?"default":e.user_role==="mentor"?"secondary":"outline",className:"text-xs px-1.5 py-0.5",children:e.user_role.charAt(0).toUpperCase()+e.user_role.slice(1)}),e.user_badges&&e.user_badges.map(A=>{const $=A.badges;return $?s.jsx(Rr,{children:s.jsxs(Ar,{delayDuration:100,children:[s.jsx(Pr,{asChild:!0,children:s.jsx("div",{className:"cursor-help",children:$.image_url?s.jsx("img",{src:$.image_url,alt:$.name,className:"w-5 h-5 object-contain"}):$.icon?s.jsx("span",{className:"text-base",children:$.icon}):null})}),s.jsx(Nr,{children:s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-semibold",children:$.name}),$.description&&s.jsx("p",{className:"text-xs mt-1",children:$.description})]})})]})},A.id):null})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[te,n&&s.jsx("span",{className:"ml-2 text-xs bg-yellow-500/20 text-yellow-700 dark:text-yellow-400 px-2 py-1 rounded",children:"Draft"})]})]}),r===e.user_id&&s.jsxs(Zi,{children:[s.jsx(Xi,{asChild:!0,children:s.jsx(de,{variant:"ghost",size:"icon",children:s.jsx(ch,{className:"h-4 w-4"})})}),s.jsxs(Lo,{align:"end",children:[n&&s.jsxs(Zn,{onClick:V,children:[s.jsx(bg,{className:"mr-2 h-4 w-4"}),"Publish"]}),s.jsxs(Zn,{onClick:()=>j(!0),children:[s.jsx(nb,{className:"mr-2 h-4 w-4"}),"Edit"]}),s.jsxs(Zn,{onClick:le,className:"text-destructive",children:[s.jsx(ws,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]}),_?s.jsxs("div",{className:"mt-3",children:[s.jsx(Zr,{value:k,onChange:A=>C(A.target.value),rows:4,className:"mb-2"}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(de,{variant:"outline",size:"sm",onClick:()=>{j(!1),C(e.content)},children:"Cancel"}),s.jsx(de,{size:"sm",className:"bg-gold hover:bg-gold-light text-navy",onClick:U,children:"Save"})]})]}):ee(),I.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mt-4",children:I.length===1?s.jsx("div",{onClick:()=>{R(0),N(!0)},className:"cursor-pointer rounded-lg overflow-hidden",children:I[0].media_type==="video"?s.jsx("video",{src:I[0].media_url,controls:!0,className:"w-full max-h-96 object-cover"}):s.jsx("img",{src:I[0].media_url,alt:"Post media",className:"w-full max-h-96 object-cover hover:opacity-90 transition-opacity"})}):I.length===2?s.jsx("div",{className:"grid grid-cols-2 gap-2 rounded-lg overflow-hidden",children:I.map((A,$)=>s.jsx("div",{onClick:()=>{R($),N(!0)},className:"cursor-pointer overflow-hidden",children:A.media_type==="video"?s.jsx("video",{src:A.media_url,className:"w-full h-48 object-cover hover:opacity-90 transition-opacity"}):s.jsx("img",{src:A.media_url,alt:`Post media ${$+1}`,className:"w-full h-48 object-cover hover:opacity-90 transition-opacity"})},$))}):I.length===3?s.jsxs("div",{className:"grid grid-cols-2 gap-2 rounded-lg overflow-hidden",children:[s.jsx("div",{onClick:()=>{R(0),N(!0)},className:"col-span-1 row-span-2 cursor-pointer overflow-hidden",children:I[0].media_type==="video"?s.jsx("video",{src:I[0].media_url,className:"w-full h-full object-cover hover:opacity-90 transition-opacity"}):s.jsx("img",{src:I[0].media_url,alt:"Post media 1",className:"w-full h-full object-cover hover:opacity-90 transition-opacity"})}),I.slice(1,3).map((A,$)=>s.jsx("div",{onClick:()=>{R($+1),N(!0)},className:"cursor-pointer overflow-hidden",children:A.media_type==="video"?s.jsx("video",{src:A.media_url,className:"w-full h-24 object-cover hover:opacity-90 transition-opacity"}):s.jsx("img",{src:A.media_url,alt:`Post media ${$+2}`,className:"w-full h-24 object-cover hover:opacity-90 transition-opacity"})},$+1))]}):s.jsx("div",{className:"grid grid-cols-2 gap-2 rounded-lg overflow-hidden",children:I.slice(0,4).map((A,$)=>s.jsxs("div",{onClick:()=>{R($),N(!0)},className:"relative cursor-pointer overflow-hidden",children:[A.media_type==="video"?s.jsx("video",{src:A.media_url,className:"w-full h-24 object-cover hover:opacity-90 transition-opacity"}):s.jsx("img",{src:A.media_url,alt:`Post media ${$+1}`,className:"w-full h-24 object-cover hover:opacity-90 transition-opacity"}),$===3&&I.length>4&&s.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:s.jsxs("span",{className:"text-white text-2xl font-bold",children:["+",I.length-4]})})]},$))})}),s.jsx(Q0,{images:I.map(A=>({url:A.media_url,media_type:A.media_type})),initialIndex:O,open:E,onOpenChange:N,comments:b,newComment:g,onNewCommentChange:y,onPostComment:X,postAuthorName:D,postContent:e.content,postTimeAgo:te,authorAvatar:e.profiles?.avatar_url,postAuthorRole:e.user_role,postAuthorIsAdmin:e.user_is_admin,postAuthorBadges:e.user_badges,likeCount:e.post_likes.length,liked:l,onLike:B,bookmarked:d,onBookmark:F,shareCount:e.post_shares.length,onShare:z})]}),I.length===0&&s.jsx(Q0,{images:I.map(A=>({url:A.media_url,media_type:A.media_type})),initialIndex:0,open:E,onOpenChange:N,comments:b,newComment:g,onNewCommentChange:y,onPostComment:X,postAuthorName:D,postContent:e.content,postTimeAgo:te,authorAvatar:e.profiles?.avatar_url,postAuthorRole:e.user_role,postAuthorIsAdmin:e.user_is_admin,postAuthorBadges:e.user_badges,likeCount:e.post_likes.length,liked:l,onLike:B,bookmarked:d,onBookmark:F,shareCount:e.post_shares.length,onShare:z}),!n&&s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[s.jsxs(de,{variant:"ghost",size:"sm",onClick:B,className:`px-2 sm:px-3 ${l?"text-destructive":""}`,children:[s.jsx(rc,{className:`h-4 w-4 mr-1 sm:mr-2 ${l?"fill-current":""}`}),e.post_likes.length]}),s.jsxs(de,{variant:"ghost",size:"sm",className:"px-2 sm:px-3",onClick:()=>{N(!0)},children:[s.jsx(rb,{className:"h-4 w-4 mr-1 sm:mr-2"}),b.length]}),s.jsxs(de,{variant:"ghost",size:"sm",className:"px-2 sm:px-3",onClick:z,children:[s.jsx(jg,{className:"h-4 w-4 mr-1 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:e.post_shares.length>0?e.post_shares.length:"Share"}),s.jsx("span",{className:"sm:hidden",children:e.post_shares.length||""})]})]}),s.jsx(de,{variant:"ghost",size:"sm",className:"px-2 sm:px-3 flex-shrink-0",onClick:F,children:s.jsx(vg,{className:`h-4 w-4 ${d?"fill-current":""}`})})]})]})]})})},KU=(e,t)=>{let r=e;const n=Array.from(t.values()).sort((o,l)=>l.displayName.length-o.displayName.length);for(const o of n){const l=new RegExp(`@${YU(o.displayName)}(?=\\s|$|[.,!?])`,"g");r=r.replace(l,`@[${o.userId}:${o.displayName}]`)}return r},YU=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),kS=f.forwardRef(({value:e,onChange:t,onMentionsChange:r,placeholder:n,className:o,rows:l=4,currentUserId:c},d)=>{const[h,p]=f.useState(!1),[v,g]=f.useState(""),[y,b]=f.useState([]),[S,_]=f.useState(0),[j,k]=f.useState(-1),[C,E]=f.useState(!1),[N,O]=f.useState(new Map),R=f.useRef(null),P=f.useRef(null);f.useImperativeHandle(d,()=>({focus:()=>{R.current?.focus()},getProcessedContent:()=>KU(e,N)}),[e,N]),f.useEffect(()=>{e===""&&O(new Map)},[e]),f.useEffect(()=>{r?.(N)},[N,r]);const I=f.useCallback(async z=>{if(!c||z.length<1){b([]);return}E(!0);try{const{data:F}=await M.from("connections").select("connected_user_id").eq("user_id",c),U=F?.map(D=>D.connected_user_id)||[];if(U.length===0){b([]),E(!1);return}const le=`%${z}%`,{data:V,error:ee}=await M.from("profiles").select("id, first_name, last_name, avatar_url, sport, university").in("id",U).or(`first_name.ilike.${le},last_name.ilike.${le}`).eq("approval_status","approved").limit(5);ee?(console.error("Error fetching mentions:",ee),b([])):b(V||[])}catch(F){console.error("Error fetching mentions:",F),b([])}finally{E(!1)}},[c]);f.useEffect(()=>{if(!h||v.length<1){b([]);return}const z=setTimeout(()=>{I(v)},200);return()=>clearTimeout(z)},[v,h,I]);const Z=z=>{const F=z.target.value,U=z.target.selectionStart;t(F);const le=F.slice(0,U),V=le.lastIndexOf("@");if(V!==-1){const ee=V>0?le[V-1]:" ";if(/\s/.test(ee)||V===0){const H=le.slice(V+1);if(!/\s/.test(H)){p(!0),g(H),k(V),_(0);return}}}p(!1),g(""),k(-1)},B=z=>{if(!(!h||y.length===0))switch(z.key){case"ArrowDown":z.preventDefault(),_(F=>F<y.length-1?F+1:F);break;case"ArrowUp":z.preventDefault(),_(F=>F>0?F-1:F);break;case"Enter":case"Tab":y[S]&&(z.preventDefault(),X(y[S]));break;case"Escape":z.preventDefault(),p(!1),g("");break}},X=z=>{if(j===-1)return;const F=ln(z.first_name,z.last_name),U=R.current?.selectionStart||e.length,le=e.slice(0,j),V=e.slice(U),ee=`@${F} `,D=le+ee+V;t(D),O(H=>{const te=new Map(H);return te.set(z.id,{userId:z.id,displayName:F}),te}),p(!1),g(""),k(-1),b([]),setTimeout(()=>{if(R.current){const H=le.length+ee.length;R.current.focus(),R.current.setSelectionRange(H,H)}},0)};return f.useEffect(()=>{const z=F=>{P.current&&!P.current.contains(F.target)&&R.current&&!R.current.contains(F.target)&&p(!1)};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[]),f.useEffect(()=>{e===""&&O(new Map)},[e]),s.jsxs("div",{className:"relative",children:[s.jsx(Zr,{ref:R,value:e,onChange:Z,onKeyDown:B,placeholder:n,className:o,rows:l}),h&&s.jsx("div",{ref:P,className:"absolute z-50 mt-1 w-full max-w-sm bg-popover border border-border rounded-md shadow-lg overflow-hidden",children:C?s.jsx("div",{className:"p-3 text-sm text-muted-foreground text-center",children:"Searching..."}):y.length>0?s.jsx("ul",{className:"max-h-48 overflow-y-auto",children:y.map((z,F)=>s.jsxs("li",{onClick:()=>X(z),className:Ae("flex items-center gap-3 p-2 cursor-pointer transition-colors",F===S?"bg-accent text-accent-foreground":"hover:bg-accent/50"),children:[s.jsxs(lr,{className:"h-8 w-8",children:[s.jsx(cr,{src:z.avatar_url||void 0}),s.jsx(ur,{className:"bg-gold/20 text-gold text-xs",children:or(z.first_name,z.last_name)})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-sm truncate",children:ln(z.first_name,z.last_name)}),(z.sport||z.university)&&s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:[z.sport,z.university].filter(Boolean).join("  ")})]})]},z.id))}):v.length>0?s.jsxs("div",{className:"p-3 text-sm text-muted-foreground text-center",children:['No connections found matching "',v,'"']}):s.jsx("div",{className:"p-3 text-sm text-muted-foreground text-center",children:"Type to search your connections"})})]})});kS.displayName="MentionInput";const CS=e=>{const[t,r]=f.useState({postsCount:0,connectionsCount:0,profileViewsCount:0,profileViews7d:0,profileViews30d:0,loading:!0}),n=f.useCallback(async()=>{if(!e){r(o=>({...o,loading:!1}));return}try{const o=new Date,l=new Date(o.getTime()-10080*60*1e3).toISOString(),c=new Date(o.getTime()-720*60*60*1e3).toISOString(),{count:d,error:h}=await M.from("posts").select("*",{count:"exact",head:!0}).eq("user_id",e).eq("is_published",!0);h&&console.error("Error fetching posts count:",h);const{count:p,error:v}=await M.from("connections").select("*",{count:"exact",head:!0}).eq("user_id",e);v&&console.error("Error fetching connections count:",v);const{count:g,error:y}=await M.from("profile_views").select("*",{count:"exact",head:!0}).eq("profile_id",e);y&&console.error("Error fetching profile views:",y);const{count:b,error:S}=await M.from("profile_views").select("*",{count:"exact",head:!0}).eq("profile_id",e).gte("viewed_at",l);S&&console.error("Error fetching 7-day views:",S);const{count:_,error:j}=await M.from("profile_views").select("*",{count:"exact",head:!0}).eq("profile_id",e).gte("viewed_at",c);j&&console.error("Error fetching 30-day views:",j),r({postsCount:d||0,connectionsCount:p||0,profileViewsCount:g||0,profileViews7d:b||0,profileViews30d:_||0,loading:!1})}catch(o){console.error("Error fetching analytics:",o),r(l=>({...l,loading:!1}))}},[e]);return f.useEffect(()=>{n()},[n]),{...t,refetch:n}},QU=async(e,t)=>{if(e!==t)try{const{error:r}=await M.from("profile_views").insert({profile_id:e,viewer_id:t});r&&console.error("Error tracking profile view:",r)}catch(r){console.error("Error tracking profile view:",r)}},$a=e=>e>=1e6?`${(e/1e6).toFixed(1)}m`:e>=1e3?`${(e/1e3).toFixed(1)}k`:e.toString(),JU=()=>{const[e,t]=f.useState([]),[r,n]=f.useState(""),[o,l]=f.useState(!1),[c,d]=f.useState([]),[h,p]=f.useState([]),[v,g]=f.useState(""),[y,b]=f.useState(!1),[S,_]=f.useState(null),[j,k]=f.useState(null),[C,E]=f.useState(!1),[N,O]=f.useState([]),[R,P]=f.useState(!1),[I,Z]=f.useState(!0),[B,X]=f.useState(!1),[z,F]=f.useState(!1),[U,le]=f.useState(!0),[V,ee]=Ag(),D=V.get("tab")==="bookmarks"?"bookmarks":"feed",H=V.get("filter")||"all",[te,A]=f.useState(D),[$,J]=f.useState(H),[ce,G]=f.useState([]),[pe,oe]=f.useState([]),[ue,Re]=f.useState([]),[ve,re]=f.useState([]),[he,Ne]=f.useState(null),[dt,pt]=f.useState(null),jt=f.useRef(null),St=f.useRef(null),De=f.useRef(null),{toast:Ze}=Or(),Y=ge=>{J(ge),Se(!0,ge)},{postsCount:me,connectionsCount:He,profileViewsCount:at,profileViews7d:nt,profileViews30d:dr}=CS(S?.id),er=f.useRef(e),zt=f.useRef(!1),se=f.useRef(!1),_e=f.useCallback(async()=>{const{data:{user:ge}}=await M.auth.getUser();if(ge){const{data:fe}=await M.from("profiles").select("*").eq("id",ge.id).single();_(fe);const{baseRole:Pe,hasAdminRole:Ie}=await wc(ge.id);E(Ie),k(Pe);const{data:et}=await M.from("user_badges").select("*, badges(*)").eq("user_id",ge.id);return O(et||[]),fe}return null},[]),Oe=f.useRef($);f.useEffect(()=>{Oe.current=$},[$]);const Se=f.useCallback(async(ge=!1,fe,Pe)=>{if(zt.current&&!ge)return;const Ie=fe??Oe.current,et=Pe||S?.id;zt.current=!0,P(!0);const mt=10,lt=ge?0:er.current.length;let bt=M.from("posts").select(`
        *,
        profiles!posts_user_id_fkey(first_name, last_name, avatar_url),
        post_likes(id, user_id),
        post_comments(id, user_id, content, created_at, profiles!post_comments_user_id_fkey(first_name, last_name, avatar_url)),
        post_bookmarks(id, user_id),
        post_shares(id),
        post_media(id, media_url, media_type, display_order)
      `).eq("is_published",!0).lte("published_at",new Date().toISOString());if(Ie==="connections"&&et){const{data:Wt}=await M.from("connections").select("connected_user_id").eq("user_id",et),Nt=Wt?.map(Dt=>Dt.connected_user_id)||[];if(Nt.length>0)bt=bt.in("user_id",Nt);else{t([]),le(!1),zt.current=!1,P(!1),Z(!1);return}}else Ie==="my-posts"&&et&&(bt=bt.eq("user_id",et));const{data:Yt,error:vt}=await bt.order("published_at",{ascending:!1}).range(lt,lt+mt-1);if(vt)console.error("Error fetching posts:",vt),Ze({title:"Error",description:"Failed to load posts",variant:"destructive"}),Z(!1);else{const Wt=[...new Set((Yt||[]).map(Qt=>Qt.user_id))],Nt=await ea(Wt),{data:Dt}=await M.from("user_badges").select("*, badges(*)").in("user_id",Wt),Gr=new Map;Dt?.forEach(Qt=>{Gr.has(Qt.user_id)||Gr.set(Qt.user_id,[]),Gr.get(Qt.user_id).push(Qt)});const Bt=(Yt||[]).map(Qt=>{const zs=Nt.get(Qt.user_id)||{baseRole:null,hasAdminRole:!1};return{...Qt,user_is_admin:zs.hasAdminRole,user_role:zs.baseRole,user_badges:Gr.get(Qt.user_id)??[]}});ge?(t(Bt),Z(!1)):t(Qt=>[...Qt,...Bt]),le((Yt?.length||0)===mt)}zt.current=!1,P(!1)},[Ze,S?.id]);f.useEffect(()=>{er.current=e},[e]),f.useEffect(()=>{o&&jt.current&&jt.current.focus()},[o]);const It=f.useCallback(async(ge,fe)=>{try{const{data:Pe}=await M.from("connections").select("connected_user_id").eq("user_id",ge),Ie=Pe?.map(Bt=>Bt.connected_user_id)||[];let et=M.from("profiles").select("id, first_name, last_name, avatar_url, university, sport, skills").eq("approval_status","approved").neq("id",ge);Ie.length>0&&(et=et.not("id","in",`(${Ie.join(",")})`));const{data:mt,error:lt}=await et.limit(20);if(lt)throw lt;const bt=(mt||[]).map(Bt=>{let Qt=0;Bt.university===fe.university&&(Qt+=3),Bt.sport===fe.sport&&(Qt+=3);const zs=Bt.skills?.filter(Rn=>fe.skills?.includes(Rn)).length||0;return Qt+=zs*2,{...Bt,score:Qt}});bt.sort((Bt,Qt)=>Qt.score-Bt.score);const Yt=bt.slice(0,3),vt=Yt.map(Bt=>Bt.id),Wt=await ea(vt),{data:Nt}=await M.from("user_badges").select("*, badges(*)").in("user_id",vt),Dt=new Map;Nt?.forEach(Bt=>{Dt.has(Bt.user_id)||Dt.set(Bt.user_id,[]),Dt.get(Bt.user_id).push(Bt)});const Gr=Yt.map(Bt=>{const Qt=Wt.get(Bt.id)||{baseRole:null,hasAdminRole:!1};return{...Bt,user_role:Qt.baseRole,user_is_admin:Qt.hasAdminRole,user_badges:Dt.get(Bt.id)||[]}});Re(Gr)}catch(Pe){console.error("Error fetching suggestions:",Pe)}},[]),Q=async ge=>{try{const{data:{user:fe}}=await M.auth.getUser();if(!fe)return;const{error:Pe}=await M.from("connections").insert({user_id:fe.id,connected_user_id:ge});if(Pe)throw Pe;Ze({title:"Connection sent!",description:"Your connection request has been sent."}),Re(Ie=>Ie.filter(et=>et.id!==ge))}catch(fe){Ze({title:"Error",description:fe instanceof Error?fe.message:"Failed to connect",variant:"destructive"})}},xe=f.useCallback(async()=>{try{const{data:ge,error:fe}=await M.from("resources").select("id, title, category, url, logo_url, is_featured, created_at").eq("is_active",!0);if(fe)throw fe;const{data:Pe}=await M.from("resource_clicks").select("resource_id"),Ie=Pe?.reduce((mt,lt)=>(mt[lt.resource_id]=(mt[lt.resource_id]||0)+1,mt),{})||{},et=(ge||[]).map(mt=>({...mt,click_count:Ie[mt.id]||0})).sort((mt,lt)=>mt.is_featured!==lt.is_featured?(lt.is_featured?1:0)-(mt.is_featured?1:0):mt.click_count!==lt.click_count?lt.click_count-mt.click_count:new Date(lt.created_at).getTime()-new Date(mt.created_at).getTime()).slice(0,4);re(et)}catch(ge){console.error("Error fetching resources:",ge)}},[]),Xe=f.useCallback(async ge=>{try{const{data:fe,error:Pe}=await M.from("posts").select(`
          *,
          profiles!posts_user_id_fkey(first_name, last_name, avatar_url),
          post_likes(id, user_id),
          post_comments(id, user_id, content, created_at, profiles!post_comments_user_id_fkey(first_name, last_name, avatar_url)),
          post_bookmarks(id, user_id),
          post_shares(id),
          post_media(id, media_url, media_type, display_order)
        `).eq("id",ge).eq("is_published",!0).single();if(Pe||!fe)return console.error("Error fetching shared post:",Pe),null;const{baseRole:Ie,hasAdminRole:et}=await wc(fe.user_id),{data:mt}=await M.from("user_badges").select("*, badges(*)").eq("user_id",fe.user_id),lt=[...new Set((fe.post_comments||[]).map(Nt=>Nt.user_id))],bt=await ea(lt),{data:Yt}=await M.from("user_badges").select("*, badges(*)").in("user_id",lt),vt=new Map;Yt?.forEach(Nt=>{vt.has(Nt.user_id)||vt.set(Nt.user_id,[]),vt.get(Nt.user_id).push(Nt)});const Wt=(fe.post_comments||[]).map(Nt=>{const Dt=bt.get(Nt.user_id)||{baseRole:null,hasAdminRole:!1};return{...Nt,user_role:Dt.baseRole,user_is_admin:Dt.hasAdminRole,user_badges:vt.get(Nt.user_id)||[]}});return{...fe,user_role:Ie,user_is_admin:et,user_badges:mt||[],post_comments:Wt}}catch(fe){return console.error("Error fetching shared post:",fe),null}},[]);f.useEffect(()=>{(async()=>{const Pe=await _e(),Ie=V.get("post");if(Ie){const lt=await Xe(Ie);lt&&(pt(lt),Ne(Ie),setTimeout(()=>{Ne(null),ee(bt=>{const Yt=new URLSearchParams(bt);return Yt.delete("post"),Yt})},1e4))}const et=V.get("tab"),mt=V.get("filter");et==="bookmarks"?Ot():Se(!0,mt||"all",Pe?.id),xe()})();const fe=M.channel("posts-changes").on("postgres_changes",{event:"*",schema:"public",table:"posts"},()=>{Se(!0)}).subscribe();return()=>{M.removeChannel(fe)}},[_e,xe,Se,Xe,V,ee]),f.useEffect(()=>{S?.id&&!se.current&&(se.current=!0,It(S.id,S))},[S,It]),f.useEffect(()=>{const ge=new IntersectionObserver(fe=>{fe[0].isIntersecting&&U&&!R&&Se(!1)},{threshold:.1});return De.current&&ge.observe(De.current),()=>ge.disconnect()},[U,R,Se]);const it=async()=>{X(!0);const{data:{user:ge}}=await M.auth.getUser();if(!ge){X(!1);return}const{data:fe,error:Pe}=await M.from("posts").select(`
        *,
        profiles!posts_user_id_fkey(first_name, last_name, avatar_url),
        post_likes(id, user_id),
        post_comments(id, user_id, content, created_at, profiles!post_comments_user_id_fkey(first_name, last_name)),
        post_bookmarks(id, user_id),
        post_shares(id)
      `).eq("user_id",ge.id).eq("is_published",!1).order("created_at",{ascending:!1});Pe?console.error("Error fetching drafts:",Pe):G(fe||[]),X(!1)},Ot=async()=>{F(!0);const{data:{user:ge}}=await M.auth.getUser();if(!ge){F(!1);return}const{data:fe,error:Pe}=await M.from("post_bookmarks").select(`
        post_id,
        posts!inner(
          *,
          profiles!posts_user_id_fkey(first_name, last_name, avatar_url),
          post_likes(id, user_id),
          post_comments(id, user_id, content, created_at, profiles!post_comments_user_id_fkey(first_name, last_name, avatar_url)),
          post_bookmarks(id, user_id),
          post_shares(id),
          post_media(id, media_url, media_type, display_order)
        )
      `).eq("user_id",ge.id).order("created_at",{ascending:!1});if(Pe)console.error("Error fetching bookmarks:",Pe);else{const Ie=fe?.map(vt=>vt.posts)||[],et=[...new Set(Ie.map(vt=>vt.user_id))],mt=await ea(et),{data:lt}=await M.from("user_badges").select("*, badges(*)").in("user_id",et),bt=new Map;lt?.forEach(vt=>{bt.has(vt.user_id)||bt.set(vt.user_id,[]),bt.get(vt.user_id).push(vt)});const Yt=Ie.map(vt=>{const Wt=mt.get(vt.user_id)||{baseRole:null,hasAdminRole:!1};return{...vt,user_is_admin:Wt.hasAdminRole,user_role:Wt.baseRole,user_badges:bt.get(vt.user_id)??[]}});oe(Yt)}F(!1),Z(!1)},_t=ge=>{const fe=ge.target.files;if(fe){const Pe=[],Ie=[];for(let et=0;et<Math.min(fe.length,10-c.length);et++){const mt=fe[et];if(mt.size>50*1024*1024){Ze({title:"File too large",description:`${mt.name} is larger than 50MB`,variant:"destructive"});continue}Pe.push(mt),Ie.push(URL.createObjectURL(mt))}c.length+Pe.length>10&&Ze({title:"Too many files",description:"Maximum 10 files per post",variant:"destructive"}),d([...c,...Pe]),p([...h,...Ie])}ge.target.value=""},Mt=ge=>{const fe=c.filter((Ie,et)=>et!==ge),Pe=h.filter((Ie,et)=>et!==ge);d(fe),p(Pe)},Hr=async(ge,fe)=>{const Pe=ge.name.split(".").pop(),Ie=`${fe}/${Date.now()}-${Math.random()}.${Pe}`,{data:et,error:mt}=await M.storage.from("post-media").upload(Ie,ge);if(mt)throw mt;const{data:{publicUrl:lt}}=M.storage.from("post-media").getPublicUrl(et.path);return lt},Fr=async(ge=!1)=>{if(!r.trim()&&c.length===0){Ze({title:"Empty post",description:"Please add some content or media",variant:"destructive"});return}b(!0);try{const{data:{user:fe}}=await M.auth.getUser();if(!fe)throw new Error("Not authenticated");let Pe=null,Ie=null;c.length===1&&(Pe=await Hr(c[0],fe.id),Ie=c[0].type.startsWith("video/")?"video":"image");const et=jt.current?.getProcessedContent()||r,mt={user_id:fe.id,content:et,media_url:Pe,media_type:Ie,is_published:!ge,published_at:ge?null:new Date().toISOString()};v&&!ge&&(mt.scheduled_at=v,mt.published_at=v,mt.is_published=new Date(v)<=new Date);const{data:lt,error:bt}=await M.from("posts").insert([mt]).select("id");if(bt)throw bt;if(lt&&lt.length>0){const Yt=lt[0].id;if(c.length>0){const vt=c.map(async(Nt,Dt)=>{const Gr=await Hr(Nt,fe.id),Bt=Nt.type.startsWith("video/")?"video":"image";return{post_id:Yt,media_url:Gr,media_type:Bt,display_order:Dt}}),Wt=await Promise.all(vt);Wt.length>0&&await M.from("post_media").insert(Wt)}else Pe&&await M.from("post_media").insert([{post_id:Yt,media_url:Pe,media_type:Ie,display_order:0}])}Ze({title:ge?"Draft saved":v&&new Date(v)>new Date?"Post scheduled":"Post created",description:ge?"Your post has been saved as a draft":v&&new Date(v)>new Date?`Your post will be published on ${c$(new Date(v),"PPpp")}`:"Your post has been published"}),n(""),d([]),p([]),g(""),l(!1),St.current&&(St.current.value=""),ge?await it():await Se(!0)}catch(fe){console.error("Error creating post:",fe);let Pe="Failed to create post";fe instanceof Error?Pe=fe.message:typeof fe=="string"&&(Pe=fe),Ze({title:"Error",description:Pe,variant:"destructive"})}finally{b(!1)}},br=()=>{d([]),p([]),St.current&&(St.current.value="")};return s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[s.jsxs("aside",{className:"hidden lg:block lg:col-span-3 space-y-4 lg:sticky lg:top-20 lg:self-start lg:max-h-[calc(100vh-6rem)] lg:overflow-y-auto",children:[s.jsxs(Ye,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(lr,{className:"w-16 h-16",children:[s.jsx(cr,{src:S?.avatar_url||void 0,alt:Kt(S?.first_name,S?.last_name)}),s.jsx(ur,{className:"bg-gold text-navy text-xl font-bold",children:or(S?.first_name,S?.last_name)})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[s.jsx("h3",{className:"font-semibold",children:Kt(S?.first_name,S?.last_name)||"User"}),C&&s.jsx(qe,{variant:"destructive",className:"text-xs px-1.5 py-0.5",children:"Admin"}),j&&s.jsx(qe,{variant:j==="employer"?"default":j==="mentor"?"secondary":"outline",className:"text-xs px-1.5 py-0.5",children:j.charAt(0).toUpperCase()+j.slice(1)}),N.map(ge=>{const fe=ge.badges;return fe?s.jsx(Rr,{children:s.jsxs(Ar,{delayDuration:100,children:[s.jsx(Pr,{asChild:!0,children:s.jsx("div",{className:"cursor-help",children:fe.image_url?s.jsx("img",{src:fe.image_url,alt:fe.name,className:"w-6 h-6 object-contain"}):fe.icon?s.jsx("span",{className:"text-lg",children:fe.icon}):null})}),s.jsx(Nr,{children:s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-semibold",children:fe.name}),fe.description&&s.jsx("p",{className:"text-xs mt-1",children:fe.description})]})})]})},ge.id):null})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:S?.university})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2 text-center",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx(Da,{className:"h-3 w-3 text-gold"}),s.jsx("p",{className:"font-bold",children:$a(me)})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Posts"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx(Vr,{className:"h-3 w-3 text-foreground"}),s.jsx("p",{className:"font-bold",children:$a(He)})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Connections"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx(wg,{className:"h-3 w-3 text-foreground"}),s.jsx("p",{className:"font-bold",children:$a(at)})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Views"})]})]})]}),s.jsxs(Ye,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"font-semibold",children:"LaceHub Resources"}),s.jsx(Zt,{to:"/lace-hub",children:s.jsx(de,{variant:"ghost",size:"sm",className:"text-xs",children:"View All"})})]}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:ve.length===0?s.jsx("p",{className:"text-muted-foreground text-xs col-span-2",children:"No resources available"}):ve.map(ge=>s.jsxs("a",{href:ge.url,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center gap-2 p-3 rounded border hover:bg-secondary cursor-pointer transition-colors",children:[s.jsx("div",{className:"w-16 h-16 flex items-center justify-center",children:ge.logo_url?s.jsx("img",{src:ge.logo_url,alt:ge.title,className:"max-w-full max-h-full object-contain"}):s.jsx("span",{className:"text-2xl",children:""})}),s.jsx("span",{className:"text-center text-xs font-medium line-clamp-2",children:ge.title})]},ge.id))})]})]}),s.jsxs("main",{className:"lg:col-span-6",children:[s.jsx("div",{className:"top-16 z-10 bg-background pb-4 -mx-4 px-4 lg:top-20 mb-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(de,{variant:te==="feed"?"default":"outline",onClick:()=>{A("feed"),e.length===0&&!R&&Se(!0)},className:te==="feed"?"bg-gold text-navy hover:bg-gold-light":"",children:"Feed"}),s.jsx(de,{variant:te==="drafts"?"default":"outline",onClick:()=>{A("drafts"),it()},className:te==="drafts"?"bg-gold text-navy hover:bg-gold-light":"",children:"Drafts"}),s.jsx(de,{variant:te==="bookmarks"?"default":"outline",onClick:()=>{A("bookmarks"),Ot()},className:te==="bookmarks"?"bg-gold text-navy hover:bg-gold-light":"",children:"Bookmarks"})]}),te==="feed"&&s.jsxs(Zi,{children:[s.jsx(Xi,{asChild:!0,children:s.jsxs(de,{variant:"outline",size:"sm",className:"gap-2",children:[s.jsx(Z_,{className:"h-4 w-4"}),$==="all"&&"All Posts",$==="my-posts"&&"My Posts",$==="connections"&&"Connections"]})}),s.jsxs(Lo,{align:"end",children:[s.jsx(xS,{children:"Filter Posts"}),s.jsx(hv,{}),s.jsxs(Zn,{onClick:()=>Y("all"),children:[$==="all"&&" ","All Posts"]}),s.jsxs(Zn,{onClick:()=>Y("my-posts"),children:[$==="my-posts"&&" ","My Posts"]}),s.jsxs(Zn,{onClick:()=>Y("connections"),children:[$==="connections"&&" ","My Connections"]})]})]})]})}),te==="feed"&&s.jsx(Ye,{className:"p-4 mb-6",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsxs(lr,{className:"w-12 h-12",children:[s.jsx(cr,{src:S?.avatar_url||void 0,alt:Kt(S?.first_name,S?.last_name)}),s.jsx(ur,{className:"bg-gold text-navy font-semibold",children:or(S?.first_name,S?.last_name)})]}),s.jsx("div",{className:"flex-1",children:o?s.jsxs("div",{children:[s.jsx(kS,{ref:jt,placeholder:"What's on your mind? Use #hashtags or @mention connections",value:r,onChange:n,className:"mb-3",rows:4,currentUserId:S?.id}),h.length>0&&s.jsx("div",{className:"mb-3 grid grid-cols-2 gap-2 sm:grid-cols-3 md:grid-cols-4",children:h.map((ge,fe)=>s.jsxs("div",{className:"relative",children:[c[fe]?.type.startsWith("video/")?s.jsx("video",{src:ge,className:"w-full h-24 rounded-lg object-cover"}):s.jsx("img",{src:ge,alt:`Preview ${fe+1}`,className:"w-full h-24 rounded-lg object-cover"}),s.jsx(de,{size:"icon",variant:"destructive",className:"absolute top-1 right-1 h-6 w-6",onClick:()=>Mt(fe),children:s.jsx(Fs,{className:"h-3 w-3"})}),s.jsx("span",{className:"absolute bottom-1 left-1 text-xs bg-black/50 text-white px-1.5 rounded",children:fe+1})]},fe))}),s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsxs("div",{className:"flex space-x-3 text-muted-foreground",children:[s.jsx("input",{ref:St,type:"file",accept:"image/*",multiple:!0,onChange:_t,className:"hidden",id:"image-upload"}),s.jsx("label",{htmlFor:"image-upload",title:"Add up to 10 images",children:s.jsx(X_,{className:"h-5 w-5 cursor-pointer hover:text-gold"})}),s.jsx("input",{type:"file",accept:"video/*",multiple:!0,onChange:_t,className:"hidden",id:"video-upload"}),s.jsx("label",{htmlFor:"video-upload",title:"Add up to 10 videos",children:s.jsx(lb,{className:"h-5 w-5 cursor-pointer hover:text-gold"})}),s.jsx(hn,{children:s.jsx(xg,{className:"h-5 w-5 cursor-pointer hover:text-gold",onClick:()=>document.getElementById("schedule-trigger")?.click()})})]})}),c.length>0&&s.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:[c.length," file(s) selected (max 10)"]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"text-sm text-muted-foreground mb-1 block",children:"Schedule post (optional)"}),s.jsx("input",{type:"datetime-local",value:v,onChange:ge=>g(ge.target.value),min:(()=>{const ge=new Date,fe=ge.getFullYear(),Pe=String(ge.getMonth()+1).padStart(2,"0"),Ie=String(ge.getDate()).padStart(2,"0"),et=String(ge.getHours()).padStart(2,"0"),mt=String(ge.getMinutes()).padStart(2,"0");return`${fe}-${Pe}-${Ie}T${et}:${mt}`})(),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm"})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(de,{variant:"outline",size:"sm",onClick:()=>{l(!1),br(),g("")},disabled:y,children:"Cancel"}),s.jsx(de,{variant:"outline",size:"sm",onClick:()=>Fr(!0),disabled:y||!r.trim()&&c.length===0,children:"Save Draft"}),s.jsx(de,{size:"sm",className:"bg-gold hover:bg-gold-light text-navy",onClick:()=>Fr(!1),disabled:y||!r.trim()&&c.length===0,children:y?s.jsxs(s.Fragment,{children:[s.jsx(qt,{className:"mr-2 h-4 w-4 animate-spin"}),"Posting..."]}):v&&new Date(v)>new Date?"Schedule":"Post"})]})]}):s.jsx("input",{type:"text",placeholder:"Create a post  share a win, a question, or a resource",className:"w-full rounded-full py-2 px-4 border border-input bg-background text-sm focus:outline-none focus:ring-2 focus:ring-gold",onFocus:()=>l(!0)})})]})}),te==="drafts"?B?s.jsxs(Ye,{className:"p-8 text-center",children:[s.jsx(qt,{className:"h-6 w-6 animate-spin mx-auto text-gold"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Loading drafts..."})]}):ce.length===0?s.jsx(Ye,{className:"p-8 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"No drafts yet."})}):s.jsx(s.Fragment,{children:ce.map(ge=>s.jsx(wd,{post:ge,onUpdate:()=>{it(),Se(!0)},currentUserId:S?.id,isDraft:!0},ge.id))}):te==="bookmarks"?z?s.jsxs(Ye,{className:"p-8 text-center",children:[s.jsx(qt,{className:"h-6 w-6 animate-spin mx-auto text-gold"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Loading bookmarks..."})]}):pe.length===0?s.jsx(Ye,{className:"p-8 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"No bookmarks yet. Bookmark posts to see them here!"})}):s.jsx(s.Fragment,{children:pe.map(ge=>s.jsx(wd,{post:ge,onUpdate:()=>{Ot(),Se(!0)},currentUserId:S?.id},ge.id))}):s.jsxs(s.Fragment,{children:[dt&&s.jsx("div",{className:"mb-4",children:s.jsx(wd,{post:dt,onUpdate:()=>{Xe(dt.id).then(ge=>{ge&&pt(ge)}),Se(!0)},currentUserId:S?.id,isHighlighted:he===dt.id})}),I?s.jsxs(Ye,{className:"p-8 text-center",children:[s.jsx(qt,{className:"h-6 w-6 animate-spin mx-auto text-gold"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Loading posts..."})]}):e.length===0&&!dt?s.jsx(Ye,{className:"p-8 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"No posts yet. Be the first to share something!"})}):s.jsxs(s.Fragment,{children:[e.filter(ge=>ge.id!==dt?.id).map(ge=>s.jsx(wd,{post:ge,onUpdate:()=>Se(!0),currentUserId:S?.id,isHighlighted:he===ge.id},ge.id)),U&&s.jsx("div",{ref:De,className:"py-8 text-center",children:R&&s.jsx(qt,{className:"h-6 w-6 animate-spin mx-auto text-gold"})})]})]})]}),s.jsxs("aside",{className:"hidden lg:block lg:col-span-3 space-y-4 lg:sticky lg:top-20 lg:self-start lg:max-h-[calc(100vh-6rem)] lg:overflow-y-auto",children:[s.jsxs(Ye,{className:"p-4",children:[s.jsx("h4",{className:"font-semibold mb-3",children:"Analytics"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:$a(nt)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Views (7d)"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:$a(dr)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Views (30d)"})]})]})]}),s.jsxs(Ye,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"font-semibold",children:"Suggested Connections"}),s.jsx(Zt,{to:"/my-hub",children:s.jsx(de,{variant:"ghost",size:"sm",className:"text-xs",children:"See More"})})]}),s.jsx("div",{className:"space-y-3",children:ue.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"No suggestions available"}):ue.map(ge=>s.jsxs("div",{className:"flex items-center gap-3 p-2 rounded hover:bg-secondary transition-colors",children:[s.jsxs(Zt,{to:`/profile/${ge.id}`,className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsxs(lr,{className:"h-10 w-10",children:[s.jsx(cr,{src:ge.avatar_url||void 0,alt:Kt(ge.first_name,ge.last_name)}),s.jsx(ur,{className:"bg-gold text-navy text-sm font-semibold",children:or(ge.first_name,ge.last_name)})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-1 mb-1",children:[s.jsx("p",{className:"font-medium text-sm truncate",children:Kt(ge.first_name,ge.last_name)||"User"}),ge.user_is_admin&&s.jsx(qe,{variant:"destructive",className:"text-xs px-1 py-0 h-5",children:"Admin"}),ge.user_role&&s.jsx(qe,{variant:ge.user_role==="employer"?"default":ge.user_role==="mentor"?"secondary":"outline",className:"text-xs px-1 py-0 h-5",children:ge.user_role.charAt(0).toUpperCase()+ge.user_role.slice(1)}),ge.user_badges&&ge.user_badges.length>0&&s.jsx(Rr,{children:ge.user_badges.map(fe=>{const Pe=fe.badges;return Pe?s.jsxs(Ar,{delayDuration:100,children:[s.jsx(Pr,{asChild:!0,children:s.jsx("div",{className:"cursor-help",children:Pe.image_url?s.jsx("img",{src:Pe.image_url,alt:Pe.name,className:"w-4 h-4 object-contain"}):Pe.icon?s.jsx("span",{className:"text-sm",children:Pe.icon}):null})}),s.jsxs(Nr,{side:"top",className:"text-xs",children:[s.jsx("div",{className:"font-semibold",children:Pe.name}),Pe.description&&s.jsx("div",{className:"text-xs mt-1",children:Pe.description})]})]},fe.id):null})})]}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:ge.university})]})]}),s.jsx(de,{size:"sm",variant:"ghost",onClick:fe=>{fe.stopPropagation(),Q(ge.id)},className:"shrink-0",children:s.jsx(nc,{className:"h-4 w-4"})})]},ge.id))})]})]})]})})};var ZU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],XU=ZU.reduce((e,t)=>{const r=Pg(`Primitive.${t}`),n=f.forwardRef((o,l)=>{const{asChild:c,...d}=o,h=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(h,{...d,ref:l})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),e3="Label",TS=f.forwardRef((e,t)=>s.jsx(XU.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));TS.displayName=e3;var RS=TS;const t3=Sc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Me=f.forwardRef(({className:e,...t},r)=>s.jsx(RS,{ref:r,className:Ae(t3(),e),...t}));Me.displayName=RS.displayName;function eg(e,[t,r]){return Math.min(r,Math.max(t,e))}function r3(e){const t=n3(e),r=f.forwardRef((n,o)=>{const{children:l,...c}=n,d=f.Children.toArray(l),h=d.find(a3);if(h){const p=h.props.children,v=d.map(g=>g===h?f.Children.count(p)>1?f.Children.only(null):f.isValidElement(p)?p.props.children:null:g);return s.jsx(t,{...c,ref:o,children:f.isValidElement(p)?f.cloneElement(p,void 0,v):null})}return s.jsx(t,{...c,ref:o,children:l})});return r.displayName=`${e}.Slot`,r}function n3(e){const t=f.forwardRef((r,n)=>{const{children:o,...l}=r;if(f.isValidElement(o)){const c=i3(o),d=o3(l,o.props);return o.type!==f.Fragment&&(d.ref=n?$s(n,c):c),f.cloneElement(o,d)}return f.Children.count(o)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var s3=Symbol("radix.slottable");function a3(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===s3}function o3(e,t){const r={...t};for(const n in t){const o=e[n],l=t[n];/^on[A-Z]/.test(n)?o&&l?r[n]=(...d)=>{const h=l(...d);return o(...d),h}:o&&(r[n]=o):n==="style"?r[n]={...o,...l}:n==="className"&&(r[n]=[o,l].filter(Boolean).join(" "))}return{...e,...r}}function i3(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function AS(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var l3=[" ","Enter","ArrowUp","ArrowDown"],c3=[" ","Enter"],Ao="Select",[Ih,Mh,u3]=ah(Ao),[el]=vn(Ao,[u3,Qa]),Lh=Qa(),[d3,Ja]=el(Ao),[h3,f3]=el(Ao),PS=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:o,onOpenChange:l,value:c,defaultValue:d,onValueChange:h,dir:p,name:v,autoComplete:g,disabled:y,required:b,form:S}=e,_=Lh(t),[j,k]=f.useState(null),[C,E]=f.useState(null),[N,O]=f.useState(!1),R=Ki(p),[P,I]=Is({prop:n,defaultProp:o??!1,onChange:l,caller:Ao}),[Z,B]=Is({prop:c,defaultProp:d,onChange:h,caller:Ao}),X=f.useRef(null),z=j?S||!!j.closest("form"):!0,[F,U]=f.useState(new Set),le=Array.from(F).map(V=>V.props.value).join(";");return s.jsx(Eh,{..._,children:s.jsxs(d3,{required:b,scope:t,trigger:j,onTriggerChange:k,valueNode:C,onValueNodeChange:E,valueNodeHasChildren:N,onValueNodeHasChildrenChange:O,contentId:Qn(),value:Z,onValueChange:B,open:P,onOpenChange:I,dir:R,triggerPointerDownPosRef:X,disabled:y,children:[s.jsx(Ih.Provider,{scope:t,children:s.jsx(h3,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(V=>{U(ee=>new Set(ee).add(V))},[]),onNativeOptionRemove:f.useCallback(V=>{U(ee=>{const D=new Set(ee);return D.delete(V),D})},[]),children:r})}),z?s.jsxs(r1,{"aria-hidden":!0,required:b,tabIndex:-1,name:v,autoComplete:g,value:Z,onChange:V=>B(V.target.value),disabled:y,form:S,children:[Z===void 0?s.jsx("option",{value:""}):null,Array.from(F)]},le):null]})})};PS.displayName=Ao;var OS="SelectTrigger",DS=f.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...o}=e,l=Lh(r),c=Ja(OS,r),d=c.disabled||n,h=wt(t,c.onTriggerChange),p=Mh(r),v=f.useRef("touch"),[g,y,b]=s1(_=>{const j=p().filter(E=>!E.disabled),k=j.find(E=>E.value===c.value),C=a1(j,_,k);C!==void 0&&c.onValueChange(C.value)}),S=_=>{d||(c.onOpenChange(!0),b()),_&&(c.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return s.jsx(Ic,{asChild:!0,...l,children:s.jsx(st.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":n1(c.value)?"":void 0,...o,ref:h,onClick:Ee(o.onClick,_=>{_.currentTarget.focus(),v.current!=="mouse"&&S(_)}),onPointerDown:Ee(o.onPointerDown,_=>{v.current=_.pointerType;const j=_.target;j.hasPointerCapture(_.pointerId)&&j.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(S(_),_.preventDefault())}),onKeyDown:Ee(o.onKeyDown,_=>{const j=g.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&y(_.key),!(j&&_.key===" ")&&l3.includes(_.key)&&(S(),_.preventDefault())})})})});DS.displayName=OS;var IS="SelectValue",MS=f.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,children:l,placeholder:c="",...d}=e,h=Ja(IS,r),{onValueNodeHasChildrenChange:p}=h,v=l!==void 0,g=wt(t,h.onValueNodeChange);return Sr(()=>{p(v)},[p,v]),s.jsx(st.span,{...d,ref:g,style:{pointerEvents:"none"},children:n1(h.value)?s.jsx(s.Fragment,{children:c}):l})});MS.displayName=IS;var m3="SelectIcon",LS=f.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...o}=e;return s.jsx(st.span,{"aria-hidden":!0,...o,ref:t,children:n||""})});LS.displayName=m3;var p3="SelectPortal",$S=e=>s.jsx(zi,{asChild:!0,...e});$S.displayName=p3;var Po="SelectContent",FS=f.forwardRef((e,t)=>{const r=Ja(Po,e.__scopeSelect),[n,o]=f.useState();if(Sr(()=>{o(new DocumentFragment)},[]),!r.open){const l=n;return l?Bi.createPortal(s.jsx(US,{scope:e.__scopeSelect,children:s.jsx(Ih.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),l):null}return s.jsx(BS,{...e,ref:t})});FS.displayName=Po;var ms=10,[US,Za]=el(Po),g3="SelectContentImpl",v3=r3("SelectContent.RemoveScroll"),BS=f.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:c,side:d,sideOffset:h,align:p,alignOffset:v,arrowPadding:g,collisionBoundary:y,collisionPadding:b,sticky:S,hideWhenDetached:_,avoidCollisions:j,...k}=e,C=Ja(Po,r),[E,N]=f.useState(null),[O,R]=f.useState(null),P=wt(t,oe=>N(oe)),[I,Z]=f.useState(null),[B,X]=f.useState(null),z=Mh(r),[F,U]=f.useState(!1),le=f.useRef(!1);f.useEffect(()=>{if(E)return yh(E)},[E]),vh();const V=f.useCallback(oe=>{const[ue,...Re]=z().map(he=>he.ref.current),[ve]=Re.slice(-1),re=document.activeElement;for(const he of oe)if(he===re||(he?.scrollIntoView({block:"nearest"}),he===ue&&O&&(O.scrollTop=0),he===ve&&O&&(O.scrollTop=O.scrollHeight),he?.focus(),document.activeElement!==re))return},[z,O]),ee=f.useCallback(()=>V([I,E]),[V,I,E]);f.useEffect(()=>{F&&ee()},[F,ee]);const{onOpenChange:D,triggerPointerDownPosRef:H}=C;f.useEffect(()=>{if(E){let oe={x:0,y:0};const ue=ve=>{oe={x:Math.abs(Math.round(ve.pageX)-(H.current?.x??0)),y:Math.abs(Math.round(ve.pageY)-(H.current?.y??0))}},Re=ve=>{oe.x<=10&&oe.y<=10?ve.preventDefault():E.contains(ve.target)||D(!1),document.removeEventListener("pointermove",ue),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",Re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",Re,{capture:!0})}}},[E,D,H]),f.useEffect(()=>{const oe=()=>D(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[D]);const[te,A]=s1(oe=>{const ue=z().filter(re=>!re.disabled),Re=ue.find(re=>re.ref.current===document.activeElement),ve=a1(ue,oe,Re);ve&&setTimeout(()=>ve.ref.current.focus())}),$=f.useCallback((oe,ue,Re)=>{const ve=!le.current&&!Re;(C.value!==void 0&&C.value===ue||ve)&&(Z(oe),ve&&(le.current=!0))},[C.value]),J=f.useCallback(()=>E?.focus(),[E]),ce=f.useCallback((oe,ue,Re)=>{const ve=!le.current&&!Re;(C.value!==void 0&&C.value===ue||ve)&&X(oe)},[C.value]),G=n==="popper"?tg:zS,pe=G===tg?{side:d,sideOffset:h,align:p,alignOffset:v,arrowPadding:g,collisionBoundary:y,collisionPadding:b,sticky:S,hideWhenDetached:_,avoidCollisions:j}:{};return s.jsx(US,{scope:r,content:E,viewport:O,onViewportChange:R,itemRefCallback:$,selectedItem:I,onItemLeave:J,itemTextRefCallback:ce,focusSelectedItem:ee,selectedItemText:B,position:n,isPositioned:F,searchRef:te,children:s.jsx(Cc,{as:v3,allowPinchZoom:!0,children:s.jsx(kc,{asChild:!0,trapped:C.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:Ee(o,oe=>{C.trigger?.focus({preventScroll:!0}),oe.preventDefault()}),children:s.jsx(Do,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:s.jsx(G,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:oe=>oe.preventDefault(),...k,...pe,onPlaced:()=>U(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:Ee(k.onKeyDown,oe=>{const ue=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!ue&&oe.key.length===1&&A(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let ve=z().filter(re=>!re.disabled).map(re=>re.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(ve=ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const re=oe.target,he=ve.indexOf(re);ve=ve.slice(he+1)}setTimeout(()=>V(ve)),oe.preventDefault()}})})})})})})});BS.displayName=g3;var x3="SelectItemAlignedPosition",zS=f.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...o}=e,l=Ja(Po,r),c=Za(Po,r),[d,h]=f.useState(null),[p,v]=f.useState(null),g=wt(t,P=>v(P)),y=Mh(r),b=f.useRef(!1),S=f.useRef(!0),{viewport:_,selectedItem:j,selectedItemText:k,focusSelectedItem:C}=c,E=f.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&p&&_&&j&&k){const P=l.trigger.getBoundingClientRect(),I=p.getBoundingClientRect(),Z=l.valueNode.getBoundingClientRect(),B=k.getBoundingClientRect();if(l.dir!=="rtl"){const re=B.left-I.left,he=Z.left-re,Ne=P.left-he,dt=P.width+Ne,pt=Math.max(dt,I.width),jt=window.innerWidth-ms,St=eg(he,[ms,Math.max(ms,jt-pt)]);d.style.minWidth=dt+"px",d.style.left=St+"px"}else{const re=I.right-B.right,he=window.innerWidth-Z.right-re,Ne=window.innerWidth-P.right-he,dt=P.width+Ne,pt=Math.max(dt,I.width),jt=window.innerWidth-ms,St=eg(he,[ms,Math.max(ms,jt-pt)]);d.style.minWidth=dt+"px",d.style.right=St+"px"}const X=y(),z=window.innerHeight-ms*2,F=_.scrollHeight,U=window.getComputedStyle(p),le=parseInt(U.borderTopWidth,10),V=parseInt(U.paddingTop,10),ee=parseInt(U.borderBottomWidth,10),D=parseInt(U.paddingBottom,10),H=le+V+F+D+ee,te=Math.min(j.offsetHeight*5,H),A=window.getComputedStyle(_),$=parseInt(A.paddingTop,10),J=parseInt(A.paddingBottom,10),ce=P.top+P.height/2-ms,G=z-ce,pe=j.offsetHeight/2,oe=j.offsetTop+pe,ue=le+V+oe,Re=H-ue;if(ue<=ce){const re=X.length>0&&j===X[X.length-1].ref.current;d.style.bottom="0px";const he=p.clientHeight-_.offsetTop-_.offsetHeight,Ne=Math.max(G,pe+(re?J:0)+he+ee),dt=ue+Ne;d.style.height=dt+"px"}else{const re=X.length>0&&j===X[0].ref.current;d.style.top="0px";const Ne=Math.max(ce,le+_.offsetTop+(re?$:0)+pe)+Re;d.style.height=Ne+"px",_.scrollTop=ue-ce+_.offsetTop}d.style.margin=`${ms}px 0`,d.style.minHeight=te+"px",d.style.maxHeight=z+"px",n?.(),requestAnimationFrame(()=>b.current=!0)}},[y,l.trigger,l.valueNode,d,p,_,j,k,l.dir,n]);Sr(()=>E(),[E]);const[N,O]=f.useState();Sr(()=>{p&&O(window.getComputedStyle(p).zIndex)},[p]);const R=f.useCallback(P=>{P&&S.current===!0&&(E(),C?.(),S.current=!1)},[E,C]);return s.jsx(w3,{scope:r,contentWrapper:d,shouldExpandOnScrollRef:b,onScrollButtonChange:R,children:s.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:s.jsx(st.div,{...o,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});zS.displayName=x3;var y3="SelectPopperPosition",tg=f.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:o=ms,...l}=e,c=Lh(r);return s.jsx(kh,{...c,...l,ref:t,align:n,collisionPadding:o,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});tg.displayName=y3;var[w3,mv]=el(Po,{}),rg="SelectViewport",WS=f.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...o}=e,l=Za(rg,r),c=mv(rg,r),d=wt(t,l.onViewportChange),h=f.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Ih.Slot,{scope:r,children:s.jsx(st.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Ee(o.onScroll,p=>{const v=p.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:y}=c;if(y?.current&&g){const b=Math.abs(h.current-v.scrollTop);if(b>0){const S=window.innerHeight-ms*2,_=parseFloat(g.style.minHeight),j=parseFloat(g.style.height),k=Math.max(_,j);if(k<S){const C=k+b,E=Math.min(S,C),N=C-E;g.style.height=E+"px",g.style.bottom==="0px"&&(v.scrollTop=N>0?N:0,g.style.justifyContent="flex-end")}}}h.current=v.scrollTop})})})]})});WS.displayName=rg;var VS="SelectGroup",[_3,b3]=el(VS),j3=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=Qn();return s.jsx(_3,{scope:r,id:o,children:s.jsx(st.div,{role:"group","aria-labelledby":o,...n,ref:t})})});j3.displayName=VS;var qS="SelectLabel",HS=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=b3(qS,r);return s.jsx(st.div,{id:o.id,...n,ref:t})});HS.displayName=qS;var Yd="SelectItem",[N3,GS]=el(Yd),KS=f.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:o=!1,textValue:l,...c}=e,d=Ja(Yd,r),h=Za(Yd,r),p=d.value===n,[v,g]=f.useState(l??""),[y,b]=f.useState(!1),S=wt(t,C=>h.itemRefCallback?.(C,n,o)),_=Qn(),j=f.useRef("touch"),k=()=>{o||(d.onValueChange(n),d.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(N3,{scope:r,value:n,disabled:o,textId:_,isSelected:p,onItemTextChange:f.useCallback(C=>{g(E=>E||(C?.textContent??"").trim())},[]),children:s.jsx(Ih.ItemSlot,{scope:r,value:n,disabled:o,textValue:v,children:s.jsx(st.div,{role:"option","aria-labelledby":_,"data-highlighted":y?"":void 0,"aria-selected":p&&y,"data-state":p?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:S,onFocus:Ee(c.onFocus,()=>b(!0)),onBlur:Ee(c.onBlur,()=>b(!1)),onClick:Ee(c.onClick,()=>{j.current!=="mouse"&&k()}),onPointerUp:Ee(c.onPointerUp,()=>{j.current==="mouse"&&k()}),onPointerDown:Ee(c.onPointerDown,C=>{j.current=C.pointerType}),onPointerMove:Ee(c.onPointerMove,C=>{j.current=C.pointerType,o?h.onItemLeave?.():j.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(c.onPointerLeave,C=>{C.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:Ee(c.onKeyDown,C=>{h.searchRef?.current!==""&&C.key===" "||(c3.includes(C.key)&&k(),C.key===" "&&C.preventDefault())})})})})});KS.displayName=Yd;var Yl="SelectItemText",YS=f.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,...l}=e,c=Ja(Yl,r),d=Za(Yl,r),h=GS(Yl,r),p=f3(Yl,r),[v,g]=f.useState(null),y=wt(t,k=>g(k),h.onItemTextChange,k=>d.itemTextRefCallback?.(k,h.value,h.disabled)),b=v?.textContent,S=f.useMemo(()=>s.jsx("option",{value:h.value,disabled:h.disabled,children:b},h.value),[h.disabled,h.value,b]),{onNativeOptionAdd:_,onNativeOptionRemove:j}=p;return Sr(()=>(_(S),()=>j(S)),[_,j,S]),s.jsxs(s.Fragment,{children:[s.jsx(st.span,{id:h.textId,...l,ref:y}),h.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Bi.createPortal(l.children,c.valueNode):null]})});YS.displayName=Yl;var QS="SelectItemIndicator",JS=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return GS(QS,r).isSelected?s.jsx(st.span,{"aria-hidden":!0,...n,ref:t}):null});JS.displayName=QS;var ng="SelectScrollUpButton",ZS=f.forwardRef((e,t)=>{const r=Za(ng,e.__scopeSelect),n=mv(ng,e.__scopeSelect),[o,l]=f.useState(!1),c=wt(t,n.onScrollButtonChange);return Sr(()=>{if(r.viewport&&r.isPositioned){let d=function(){const p=h.scrollTop>0;l(p)};const h=r.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),o?s.jsx(e1,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=r;d&&h&&(d.scrollTop=d.scrollTop-h.offsetHeight)}}):null});ZS.displayName=ng;var sg="SelectScrollDownButton",XS=f.forwardRef((e,t)=>{const r=Za(sg,e.__scopeSelect),n=mv(sg,e.__scopeSelect),[o,l]=f.useState(!1),c=wt(t,n.onScrollButtonChange);return Sr(()=>{if(r.viewport&&r.isPositioned){let d=function(){const p=h.scrollHeight-h.clientHeight,v=Math.ceil(h.scrollTop)<p;l(v)};const h=r.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),o?s.jsx(e1,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=r;d&&h&&(d.scrollTop=d.scrollTop+h.offsetHeight)}}):null});XS.displayName=sg;var e1=f.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...o}=e,l=Za("SelectScrollButton",r),c=f.useRef(null),d=Mh(r),h=f.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return f.useEffect(()=>()=>h(),[h]),Sr(()=>{d().find(v=>v.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),s.jsx(st.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:Ee(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(n,50))}),onPointerMove:Ee(o.onPointerMove,()=>{l.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(n,50))}),onPointerLeave:Ee(o.onPointerLeave,()=>{h()})})}),S3="SelectSeparator",t1=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(st.div,{"aria-hidden":!0,...n,ref:t})});t1.displayName=S3;var ag="SelectArrow",E3=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=Lh(r),l=Ja(ag,r),c=Za(ag,r);return l.open&&c.position==="popper"?s.jsx(Ch,{...o,...n,ref:t}):null});E3.displayName=ag;var k3="SelectBubbleInput",r1=f.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const o=f.useRef(null),l=wt(n,o),c=AS(t);return f.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(h,"value").set;if(c!==t&&v){const g=new Event("change",{bubbles:!0});v.call(d,t),d.dispatchEvent(g)}},[c,t]),s.jsx(st.select,{...r,style:{...j_,...r.style},ref:l,defaultValue:t})});r1.displayName=k3;function n1(e){return e===""||e===void 0}function s1(e){const t=_r(e),r=f.useRef(""),n=f.useRef(0),o=f.useCallback(c=>{const d=r.current+c;t(d),(function h(p){r.current=p,window.clearTimeout(n.current),p!==""&&(n.current=window.setTimeout(()=>h(""),1e3))})(d)},[t]),l=f.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,o,l]}function a1(e,t,r){const o=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,l=r?e.indexOf(r):-1;let c=C3(e,Math.max(l,0));o.length===1&&(c=c.filter(p=>p!==r));const h=c.find(p=>p.textValue.toLowerCase().startsWith(o.toLowerCase()));return h!==r?h:void 0}function C3(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var T3=PS,o1=DS,R3=MS,A3=LS,P3=$S,i1=FS,O3=WS,l1=HS,c1=KS,D3=YS,I3=JS,u1=ZS,d1=XS,h1=t1;const Ua=T3,Ba=R3,ta=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(o1,{ref:n,className:Ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(A3,{asChild:!0,children:s.jsx(K_,{className:"h-4 w-4 opacity-50"})})]}));ta.displayName=o1.displayName;const f1=f.forwardRef(({className:e,...t},r)=>s.jsx(u1,{ref:r,className:Ae("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(oR,{className:"h-4 w-4"})}));f1.displayName=u1.displayName;const m1=f.forwardRef(({className:e,...t},r)=>s.jsx(d1,{ref:r,className:Ae("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(K_,{className:"h-4 w-4"})}));m1.displayName=d1.displayName;const ra=f.forwardRef(({className:e,children:t,position:r="popper",...n},o)=>s.jsx(P3,{children:s.jsxs(i1,{ref:o,className:Ae("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(f1,{}),s.jsx(O3,{className:Ae("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(m1,{})]})}));ra.displayName=i1.displayName;const M3=f.forwardRef(({className:e,...t},r)=>s.jsx(l1,{ref:r,className:Ae("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));M3.displayName=l1.displayName;const Vt=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(c1,{ref:n,className:Ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(I3,{children:s.jsx(ih,{className:"h-4 w-4"})})}),s.jsx(D3,{children:t})]}));Vt.displayName=c1.displayName;const L3=f.forwardRef(({className:e,...t},r)=>s.jsx(h1,{ref:r,className:Ae("-mx-1 my-1 h-px bg-muted",e),...t}));L3.displayName=h1.displayName;const J0=["Leadership","Teamwork","Communication","Time Management","Problem Solving","Strategic Planning","Project Management","Public Speaking","Networking","Social Media","Marketing","Sales","Brand Development","Content Creation","Event Management","Coaching","Mentoring","Analytics","Microsoft Office","Data Analysis","Customer Service","Conflict Resolution","Adaptability","Critical Thinking","Collaboration"],$3=({skills:e,onChange:t,maxSkills:r=20})=>{const[n,o]=f.useState(""),[l,c]=f.useState(!1),[d,h]=f.useState([]),p=f.useRef(null);f.useEffect(()=>{if(n.trim()){const b=J0.filter(S=>S.toLowerCase().includes(n.toLowerCase())&&!e.includes(S)).slice(0,8);h(b)}else{const b=J0.filter(S=>!e.includes(S)).slice(0,8);h(b)}},[n,e]);const v=b=>{const S=b.trim();S&&!e.includes(S)&&e.length<r&&(t([...e,S]),o(""),c(!1))},g=b=>{t(e.filter(S=>S!==b))},y=b=>{b.key==="Enter"&&(b.preventDefault(),n.trim()&&v(n))};return s.jsxs("div",{className:"space-y-3",children:[e.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(b=>s.jsxs(qe,{variant:"secondary",className:"px-3 py-1.5 text-sm flex items-center gap-1.5",children:[b,s.jsx("button",{type:"button",onClick:()=>g(b),className:"hover:bg-background/20 rounded-full p-0.5 transition-colors",children:s.jsx(Fs,{className:"h-3 w-3"})})]},b))}),s.jsxs("div",{className:"relative",children:[s.jsx(ot,{ref:p,type:"text",value:n,onChange:b=>o(b.target.value),onFocus:()=>c(!0),onBlur:()=>setTimeout(()=>c(!1),200),onKeyDown:y,placeholder:e.length>=r?"Maximum skills reached":"Add a skill...",disabled:e.length>=r,className:"pr-10"}),n.trim()&&s.jsx(de,{type:"button",size:"sm",onClick:()=>v(n),className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 p-0",children:s.jsx(ko,{className:"h-4 w-4"})})]}),l&&d.length>0&&s.jsxs("div",{className:"border rounded-md bg-background shadow-lg p-2 space-y-1 max-h-60 overflow-y-auto",children:[s.jsx("p",{className:"text-xs text-muted-foreground px-2 py-1 font-medium",children:n.trim()?"Matching skills":"Suggested skills"}),d.map(b=>s.jsxs("button",{type:"button",onClick:()=>v(b),className:"w-full text-left px-3 py-2 text-sm hover:bg-secondary rounded-md transition-colors flex items-center justify-between group",children:[s.jsx("span",{children:b}),s.jsx(ko,{className:"h-4 w-4 text-muted-foreground group-hover:text-foreground"})]},b))]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.length,"/",r," skills added"]})]})},oa=({size:e="md",text:t,className:r,fullPage:n=!1})=>{const o={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"},l=s.jsxs("div",{className:Ae("flex flex-col items-center justify-center gap-2",r),children:[s.jsx(qt,{className:Ae("animate-spin text-gold",o[e])}),t&&s.jsx("p",{className:"text-sm text-muted-foreground",children:t})]});return n?s.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:l}):l},p1=e=>{const r=e.replace(/\D/g,"").slice(0,10);return r.length===0?"":r.length<=3?`(${r}`:r.length<=6?`(${r.slice(0,3)}) ${r.slice(3)}`:`(${r.slice(0,3)}) ${r.slice(3,6)}-${r.slice(6)}`},na=e=>{if(!e)return"";const t=typeof e=="string"?new Date(e):e;if(isNaN(t.getTime()))return"";const r=t.getDate(),n=t.toLocaleDateString("en-US",{month:"long"}),o=t.getFullYear();return`${n} ${r}${(c=>{if(c>3&&c<21)return"th";switch(c%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}})(r)}, ${o}`},F3=()=>{const{toast:e}=Or(),[t,r]=f.useState(!1),[n,o]=f.useState(!0),[l,c]=f.useState(""),[d,h]=f.useState(null),[p,v]=f.useState(!1),[g,y]=f.useState(""),[b,S]=f.useState(""),[_,j]=f.useState(!1),[k,C]=f.useState({firstName:"",lastName:"",biography:"",location:"",degree:"",about:"",skills:[],avatarUrl:null,email:null,phone:null,university:null,sport:null,athleticAccomplishments:null,academicAccomplishments:null,contactPrivacy:"connections",resumeUrl:null,jobExperiences:[],createdAt:null}),[E,N]=f.useState(k),[O,R]=f.useState(!1),[P,I]=f.useState(null),[Z,B]=f.useState([]),[X,z]=f.useState(!1),[F,U]=f.useState(null),[le,V]=f.useState(!1),[ee,D]=f.useState(null),[H,te]=f.useState([]),[A,$]=f.useState(!1),[J,ce]=f.useState(null),[G,pe]=f.useState(""),[oe,ue]=f.useState(""),[Re,ve]=f.useState(!1),{postsCount:re,connectionsCount:he,profileViewsCount:Ne}=CS(l);f.useEffect(()=>{dt(),jt(),St(),De()},[]),f.useEffect(()=>{if(!F){D(null);return}const se=URL.createObjectURL(F);return D(se),()=>URL.revokeObjectURL(se)},[F]);const dt=async()=>{const{data:{user:se}}=await M.auth.getUser();if(!se)return;c(se.id),y(se.email||"");const{baseRole:_e,hasAdminRole:Oe}=await wc(se.id);h(_e),v(Oe);const{data:Se,error:It}=await M.from("profiles").select("*").eq("id",se.id).single(),{data:Q}=await M.from("user_badges").select("*, badges(*)").eq("user_id",se.id);if(!It&&Se){const xe={firstName:Se.first_name||"",lastName:Se.last_name||"",biography:Se.biography,location:Se.location,degree:Se.degree,about:Se.about,skills:Se.skills||[],avatarUrl:Se.avatar_url,email:Se.email,phone:Se.phone,university:Se.university,sport:Se.sport,athleticAccomplishments:Se.athletic_accomplishments,academicAccomplishments:Se.academic_accomplishments,contactPrivacy:Se.contact_privacy||"connections",resumeUrl:Se.resume_url,jobExperiences:(Array.isArray(Se.job_experiences)?Se.job_experiences:[])||[],createdAt:Se.created_at,userBadges:Q||[]};C(xe),N(xe)}o(!1)},pt=async()=>{const se=b.trim();if(!se||se.toLowerCase()===g.toLowerCase()){e({title:"No changes",description:"Enter a different email to update your login."});return}if(!/[^\s@]+@[^\s@]+\.[^\s@]+/.test(se)){e({title:"Invalid email",description:"Please enter a valid email address.",variant:"destructive"});return}try{j(!0);const{error:Oe}=await M.auth.updateUser({email:se});if(Oe)throw Oe;e({title:"Verification email sent",description:"Check the new address to confirm the change."}),S("")}catch(Oe){const Se=Oe instanceof Error?Oe.message:"Failed to start email change";e({title:"Update failed",description:Se,variant:"destructive"})}finally{j(!1)}},jt=async()=>{const{data:{user:se}}=await M.auth.getUser();if(!se)return;const{data:_e,error:Oe}=await M.from("connections").select("*").eq("user_id",se.id).limit(5);if(Oe)throw Oe;const{data:Se,error:It}=await M.from("profiles").select("id, first_name, last_name, university, avatar_url").in("id",_e?.map(Q=>Q.connected_user_id)||[]);if(It)throw It;B(Se||[])},St=async()=>{const{data:{user:se}}=await M.auth.getUser();if(se)try{const{data:_e,error:Oe}=await M.from("endorsements").select(`
          *,
          profiles!endorsements_endorser_id_fkey(first_name, last_name, avatar_url)
        `).eq("endorsed_user_id",se.id).order("created_at",{ascending:!1});if(Oe)throw Oe;te(_e||[])}catch(_e){console.error("Error fetching endorsements:",_e)}},De=async()=>{const{data:{user:se}}=await M.auth.getUser();if(se)try{const{data:_e,error:Oe}=await M.from("role_change_requests").select("*").eq("user_id",se.id).eq("status","pending").maybeSingle();if(Oe&&Oe.code!=="PGRST116")throw Oe;_e&&(ce(_e),pe(_e.requested_role),ue(_e.reason))}catch(_e){console.error("Error fetching role change request:",_e)}},Ze=()=>["athlete","mentor","employer"].filter(_e=>_e!==d),Y=async()=>{if(!G||!oe.trim()){e({title:"Validation Error",description:"Please select a role and provide a reason",variant:"destructive"});return}if(oe.length<20){e({title:"Reason Too Short",description:"Please provide at least 20 characters explaining your request",variant:"destructive"});return}ve(!0);try{const{data:{user:se}}=await M.auth.getUser();if(!se)throw new Error("Not authenticated");if(J){const{error:_e}=await M.from("role_change_requests").update({requested_role:G,reason:oe}).eq("id",J.id);if(_e)throw _e;e({title:"Request Updated",description:"Your role change request has been updated successfully"})}else{const{error:_e}=await M.from("role_change_requests").insert({user_id:se.id,current_role:d||"athlete",requested_role:G,reason:oe,status:"pending"});if(_e)throw _e;e({title:"Request Submitted",description:"Your role change request has been submitted for review"})}$(!1),De()}catch(se){console.error("Error submitting role change request:",se),e({title:"Submission Failed",description:se instanceof Error?se.message:"Failed to submit request",variant:"destructive"})}finally{ve(!1)}},me=se=>{const _e=se.target.files?.[0];if(_e){if(_e.size>40*1024*1024){e({title:"File Too Large",description:"Avatar image must be less than 40MB",variant:"destructive"});return}I(_e)}},He=async(se,_e)=>{const Oe=se.name.split(".").pop(),Se=`${Math.random()}.${Oe}`,It=`${_e}/${Se}`,{error:Q}=await M.storage.from("avatars").upload(It,se,{upsert:!0});if(Q)throw Q;const{data:xe}=M.storage.from("avatars").getPublicUrl(It);return xe.publicUrl},at=se=>{const _e=se.target.files?.[0];if(_e){if(_e.size>40*1024*1024){e({title:"File Too Large",description:"Resume must be less than 40MB",variant:"destructive"});return}if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(_e.type)){e({title:"Invalid File Type",description:"Please upload a PDF or Word document",variant:"destructive"});return}U(_e)}},nt=async()=>{if(!(!F||!l)){V(!0);try{const _e=`resume.${F.name.split(".").pop()}`,Oe=`${l}/${_e}`;await M.storage.from("resumes").remove([Oe]);const{error:Se}=await M.storage.from("resumes").upload(Oe,F,{upsert:!0});if(Se)throw Se;const{data:It}=M.storage.from("resumes").getPublicUrl(Oe),{error:Q}=await M.from("profiles").update({resume_url:It.publicUrl}).eq("id",l);if(Q)throw Q;C(xe=>({...xe,resumeUrl:It.publicUrl})),U(null),e({title:"Resume Uploaded",description:"Your resume has been uploaded successfully"})}catch(se){e({title:"Upload Failed",description:se instanceof Error?se.message:"Failed to upload resume",variant:"destructive"})}finally{V(!1)}}},dr=async()=>{if(!(!l||!k.resumeUrl))try{const se=`${l}/resume.pdf`;await M.storage.from("resumes").remove([se]);const{error:_e}=await M.from("profiles").update({resume_url:null}).eq("id",l);if(_e)throw _e;C(Oe=>({...Oe,resumeUrl:null})),e({title:"Resume Deleted",description:"Your resume has been removed"})}catch(se){e({title:"Delete Failed",description:se instanceof Error?se.message:"Failed to delete resume",variant:"destructive"})}},er=async()=>{if(k.resumeUrl)try{await navigator.clipboard.writeText(k.resumeUrl),e({title:"Link Copied",description:"Resume link copied to clipboard"})}catch{e({title:"Share Failed",description:"Could not copy link to clipboard",variant:"destructive"})}},zt=async se=>{if(se.preventDefault(),!E.firstName.trim()||E.firstName.length>50){e({title:"Invalid First Name",description:"First name must be between 1 and 50 characters",variant:"destructive"});return}if(!E.lastName.trim()||E.lastName.length>50){e({title:"Invalid Last Name",description:"Last name must be between 1 and 50 characters",variant:"destructive"});return}if((E.about?.length||0)>1e3){e({title:"About Too Long",description:"About section must be less than 1000 characters",variant:"destructive"});return}try{R(!0);const{data:{user:_e}}=await M.auth.getUser();if(!_e)throw new Error("Not authenticated");let Oe=E.avatarUrl;P&&(Oe=await He(P,_e.id));const Se=typeof E.skills=="string"?E.skills.split(",").map(xe=>xe.trim()).filter(Boolean):E.skills||[];console.log("Updating profile with data:",{first_name:E.firstName,last_name:E.lastName,biography:E.biography,location:E.location,degree:E.degree,about:E.about,skills:Se,avatar_url:Oe});const{error:It}=await M.from("profiles").update({first_name:E.firstName,last_name:E.lastName,biography:E.biography,location:E.location,degree:E.degree,about:E.about,skills:Se,avatar_url:Oe,email:E.email,phone:E.phone,university:E.university,sport:E.sport,athletic_accomplishments:E.athleticAccomplishments,academic_accomplishments:E.academicAccomplishments,contact_privacy:E.contactPrivacy,job_experiences:E.jobExperiences||[]}).eq("id",_e.id);if(It)throw console.error("Supabase update error:",It),It;console.log("Profile updated successfully");const Q={...E,avatarUrl:Oe,skills:Se};C(Q),N(Q),I(null),r(!1),e({title:"Profile Updated",description:"Your profile has been successfully updated"})}catch(_e){console.error("Profile update error:",_e),e({title:"Update Failed",description:_e instanceof Error?_e.message:"Failed to update profile. Please try again.",variant:"destructive"})}finally{R(!1)}};return n?s.jsx("div",{className:"container mx-auto p-8 pt-24",children:s.jsx(oa,{fullPage:!0,text:"Loading profile..."})}):s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4 sm:py-6",children:[s.jsx(Ye,{className:"p-4 sm:p-8 mb-6 animate-slide-up",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start space-y-4 sm:space-y-0 sm:space-x-6",children:[s.jsxs(lr,{className:"w-24 h-24 sm:w-32 sm:h-32",children:[s.jsx(cr,{src:k.avatarUrl||void 0,alt:Kt(k.firstName,k.lastName)}),s.jsx(ur,{className:"bg-gold text-navy text-3xl sm:text-5xl font-bold",children:or(k.firstName,k.lastName)})]}),s.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start gap-2 mb-2",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-heading font-bold",children:Kt(k.firstName,k.lastName)||"Your Name"}),s.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[p&&s.jsx(qe,{variant:"destructive",className:"text-xs sm:text-sm px-2 py-0.5 h-6 sm:h-8",children:"Admin"}),d&&s.jsx(qe,{variant:d==="employer"?"default":d==="mentor"?"secondary":"outline",className:"text-xs sm:text-sm px-2 py-0.5 h-6 sm:h-8",children:d.charAt(0).toUpperCase()+d.slice(1)}),k.userBadges&&k.userBadges.map(se=>{const _e=se.badges;return _e?s.jsx(Rr,{children:s.jsxs(Ar,{delayDuration:100,children:[s.jsx(Pr,{asChild:!0,children:s.jsx("div",{className:"cursor-help",children:_e.image_url?s.jsx("img",{src:_e.image_url,alt:_e.name,className:"w-8 h-8 sm:w-10 sm:h-10 object-contain"}):_e.icon?s.jsx("span",{className:"text-2xl sm:text-3xl",children:_e.icon}):null})}),s.jsx(Nr,{children:s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-semibold",children:_e.name}),_e.description&&s.jsx("p",{className:"text-xs mt-1",children:_e.description})]})})]})},se.id):null})]})]}),s.jsx("p",{className:"text-base sm:text-lg text-muted-foreground mt-1",children:k.biography})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(hn,{open:t,onOpenChange:r,children:[s.jsx(Ei,{asChild:!0,children:s.jsxs(de,{className:"bg-gold hover:bg-gold-light text-navy",children:[s.jsx(Ng,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})}),s.jsxs(fn,{className:"w-[95vw] sm:w-full sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Cn,{children:[s.jsx(mn,{children:"Edit Profile"}),s.jsx(Tn,{children:"Update your profile information below"})]}),s.jsxs("form",{onSubmit:zt,className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{htmlFor:"avatar",children:"Profile Picture"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(lr,{className:"w-20 h-20",children:[s.jsx(cr,{src:P?URL.createObjectURL(P):E.avatarUrl||void 0,alt:"Preview"}),s.jsx(ur,{className:"bg-gold text-navy text-2xl font-bold",children:or(E.firstName,E.lastName)})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx(ot,{id:"avatar",type:"file",accept:"image/*",onChange:me,className:"cursor-pointer"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Max file size: 40MB"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Me,{htmlFor:"firstName",children:["First Name ",s.jsx("span",{style:{color:"red"},children:"*"})]}),s.jsx(ot,{id:"firstName",value:E.firstName,onChange:se=>N({...E,firstName:se.target.value}),maxLength:50,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Me,{htmlFor:"lastName",children:["Last Name ",s.jsx("span",{style:{color:"red"},children:"*"})]}),s.jsx(ot,{id:"lastName",value:E.lastName,onChange:se=>N({...E,lastName:se.target.value}),maxLength:50,required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{htmlFor:"biography",children:"Biography"}),s.jsx(ot,{id:"biography",value:E.biography||"",onChange:se=>N({...E,biography:se.target.value}),maxLength:200,placeholder:"Former Athlete  Career Transition  Industry Enthusiast"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{htmlFor:"location",children:"Location"}),s.jsx(ot,{id:"location",value:E.location||"",onChange:se=>N({...E,location:se.target.value}),maxLength:100,placeholder:"City, State"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{htmlFor:"degree",children:"Degree/Field"}),s.jsx(ot,{id:"degree",value:E.degree||"",onChange:se=>N({...E,degree:se.target.value}),maxLength:100,placeholder:"Sports Marketing"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{htmlFor:"email",children:"Contact Email"}),s.jsx(ot,{id:"email",type:"email",value:E.email||"",onChange:se=>N({...E,email:se.target.value}),maxLength:100,placeholder:"contact@example.com"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This is your public-facing email (if allowed by privacy). It does not change your login email."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{htmlFor:"phone",children:"Phone"}),s.jsx(ot,{id:"phone",type:"tel",value:E.phone||"",onChange:se=>N({...E,phone:p1(se.target.value)}),maxLength:14,placeholder:"(555) 123-4567"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{htmlFor:"contactPrivacy",children:"Contact Information Privacy"}),s.jsxs(Ua,{value:E.contactPrivacy||"connections",onValueChange:se=>N({...E,contactPrivacy:se}),children:[s.jsx(ta,{id:"contactPrivacy",children:s.jsx(Ba,{placeholder:"Select privacy level"})}),s.jsxs(ra,{children:[s.jsx(Vt,{value:"public",children:"Public - Anyone can see"}),s.jsx(Vt,{value:"connections",children:"Connections Only - Only your connections can see"}),s.jsx(Vt,{value:"private",children:"Private - Only you can see"})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Controls who can view your contact email and phone number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{htmlFor:"authEmail",children:"Login Email (sign-in)"}),s.jsx(ot,{id:"authEmail",type:"email",value:g,readOnly:!0,className:"bg-muted/50"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ot,{type:"email",placeholder:"new-login-email@example.com",value:b,onChange:se=>S(se.target.value)}),s.jsx(de,{type:"button",onClick:pt,disabled:_,className:"whitespace-nowrap",children:_?s.jsxs(s.Fragment,{children:[s.jsx(qt,{className:"h-4 w-4 mr-2 animate-spin"}),"Sending..."]}):s.jsx(s.Fragment,{children:"Send verification link"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Well send a verification link to the new email. Your login email updates after you confirm."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{htmlFor:"university",children:"University"}),s.jsx(ot,{id:"university",value:E.university||"",onChange:se=>N({...E,university:se.target.value}),maxLength:100,placeholder:"University Name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{htmlFor:"sport",children:"Sport"}),s.jsx(ot,{id:"sport",value:E.sport||"",onChange:se=>N({...E,sport:se.target.value}),maxLength:50,placeholder:"e.g., Basketball, Soccer, Track"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{htmlFor:"about",children:"About"}),s.jsx(Zr,{id:"about",value:E.about||"",onChange:se=>N({...E,about:se.target.value}),maxLength:1e3,rows:6,placeholder:"Tell us about yourself..."}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[E.about?.length||0,"/1000 characters"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{htmlFor:"athletic-accomplishments",children:"Athletic Accomplishments"}),s.jsx(Zr,{id:"athletic-accomplishments",value:E.athleticAccomplishments||"",onChange:se=>N({...E,athleticAccomplishments:se.target.value}),maxLength:1e3,rows:4,placeholder:"List your athletic achievements, awards, records..."}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[E.athleticAccomplishments?.length||0,"/1000 characters"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{htmlFor:"academic-accomplishments",children:"Academic Accomplishments"}),s.jsx(Zr,{id:"academic-accomplishments",value:E.academicAccomplishments||"",onChange:se=>N({...E,academicAccomplishments:se.target.value}),maxLength:1e3,rows:4,placeholder:"List your academic achievements, honors, GPA..."}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[E.academicAccomplishments?.length||0,"/1000 characters"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{htmlFor:"skills",children:"Skills"}),s.jsx($3,{skills:Array.isArray(E.skills)?E.skills:[],onChange:se=>N({...E,skills:se}),maxSkills:20})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{children:"Job Experiences"}),s.jsx("div",{className:"space-y-3",children:(E.jobExperiences||[]).map((se,_e)=>s.jsx(Ye,{className:"p-3 bg-muted border-border",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx(Me,{className:"text-xs",children:"Company"}),s.jsx(ot,{value:se.company,onChange:Oe=>{const Se=[...E.jobExperiences||[]];Se[_e].company=Oe.target.value,N({...E,jobExperiences:Se})},placeholder:"Company name",className:"text-sm"})]}),s.jsxs("div",{children:[s.jsx(Me,{className:"text-xs",children:"Position"}),s.jsx(ot,{value:se.position,onChange:Oe=>{const Se=[...E.jobExperiences||[]];Se[_e].position=Oe.target.value,N({...E,jobExperiences:Se})},placeholder:"Job title",className:"text-sm"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx(Me,{className:"text-xs",children:"Start Date"}),s.jsx(ot,{type:"date",value:se.startDate,onChange:Oe=>{const Se=[...E.jobExperiences||[]];Se[_e].startDate=Oe.target.value,N({...E,jobExperiences:Se})},className:"text-sm"})]}),s.jsxs("div",{children:[s.jsx(Me,{className:"text-xs",children:"End Date"}),s.jsx(ot,{type:"date",value:se.endDate,onChange:Oe=>{const Se=[...E.jobExperiences||[]];Se[_e].endDate=Oe.target.value,N({...E,jobExperiences:Se})},disabled:se.currentlyWorking,className:"text-sm"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:`currently-working-${_e}`,checked:se.currentlyWorking||!1,onChange:Oe=>{const Se=[...E.jobExperiences||[]];Se[_e].currentlyWorking=Oe.target.checked,Oe.target.checked&&(Se[_e].endDate=""),N({...E,jobExperiences:Se})}}),s.jsx(Me,{htmlFor:`currently-working-${_e}`,className:"text-xs cursor-pointer",children:"I currently work here"})]}),s.jsxs("div",{children:[s.jsx(Me,{className:"text-xs",children:"Description (Optional)"}),s.jsx(Zr,{value:se.description||"",onChange:Oe=>{const Se=[...E.jobExperiences||[]];Se[_e].description=Oe.target.value,N({...E,jobExperiences:Se})},placeholder:"Describe your responsibilities and achievements...",rows:2,className:"text-sm"})]})]}),s.jsx(de,{type:"button",variant:"ghost",size:"sm",onClick:()=>{const Oe=(E.jobExperiences||[]).filter((Se,It)=>It!==_e);N({...E,jobExperiences:Oe})},className:"text-red-600 hover:text-red-700",children:s.jsx(Fs,{className:"h-4 w-4"})})]})},_e))}),s.jsxs(de,{type:"button",variant:"outline",size:"sm",onClick:()=>{const se={id:`temp-${Date.now()}`,company:"",position:"",startDate:"",endDate:"",currentlyWorking:!1,description:""};N({...E,jobExperiences:[...E.jobExperiences||[],se]})},className:"w-full",children:[s.jsx(ko,{className:"h-4 w-4 mr-2"}),"Add Job Experience"]})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(de,{type:"button",variant:"outline",onClick:()=>{N(k),I(null),r(!1)},children:"Cancel"}),s.jsx(de,{type:"submit",className:"bg-gold hover:bg-gold-light text-navy",disabled:O,children:O?"Uploading...":"Save Changes"})]})]})]})]}),d&&s.jsxs(de,{onClick:()=>$(!0),variant:"outline",className:"border-gold text-gold hover:bg-gold/10",children:[s.jsx(yp,{className:"h-4 w-4 mr-2"}),"Change Role",J&&s.jsx(qe,{variant:"outline",className:"ml-2 text-xs bg-yellow-500/10 text-yellow-600 border-yellow-500/20",children:"Pending"})]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 mt-4 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ad,{className:"h-4 w-4 mr-1"}),k.location||"Location not set"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ys,{className:"h-4 w-4 mr-1"}),k.degree||"Degree not set"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(xg,{className:"h-4 w-4 mr-1"}),"Joined ",k.createdAt?na(k.createdAt):"Recently"]})]}),(k.email||k.phone||k.university||k.sport)&&s.jsxs("div",{className:"flex flex-wrap gap-4 mt-3 text-sm",children:[k.email&&s.jsxs("div",{className:"flex items-center text-muted-foreground",children:[s.jsx(eb,{className:"h-4 w-4 mr-1"}),"Contact Email: ",k.email]}),k.phone&&s.jsxs("div",{className:"flex items-center text-muted-foreground",children:[s.jsx(qR,{className:"h-4 w-4 mr-1"}),k.phone]}),k.university&&s.jsxs("div",{className:"flex items-center text-muted-foreground",children:[s.jsx(tc,{className:"h-4 w-4 mr-1"}),k.university]}),k.sport&&s.jsx("div",{className:"flex items-center",children:s.jsxs(qe,{variant:"secondary",className:"bg-gold/10 text-gold border-gold/20 flex items-center gap-1",children:[s.jsx(xp,{className:"h-3 w-3"}),k.sport]})})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx(Da,{className:"h-4 w-4 text-gold"}),s.jsx("p",{className:"text-2xl font-bold text-gold",children:$a(re)})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Posts"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx(Vr,{className:"h-4 w-4 text-foreground"}),s.jsx("p",{className:"text-2xl font-bold",children:$a(he)})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connections"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx(wg,{className:"h-4 w-4 text-foreground"}),s.jsx("p",{className:"text-2xl font-bold",children:$a(Ne)})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Profile Views"})]})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(Ye,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-heading font-bold mb-4",children:"About"}),s.jsx("p",{className:"text-foreground leading-relaxed whitespace-pre-line",children:k.about||""})]}),s.jsxs(Ye,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-heading font-bold mb-4",children:"Skills"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(Array.isArray(E?.skills)?E.skills:(E?.skills||"").split(",").map(se=>se.trim()).filter(Boolean)).map(se=>s.jsx(qe,{variant:"secondary",className:"px-3 py-1 text-sm",children:se},se))})]}),k.athleticAccomplishments&&s.jsxs(Ye,{className:"p-6",children:[s.jsxs("h2",{className:"text-xl font-heading font-bold mb-4 flex items-center",children:[s.jsx(xp,{className:"h-5 w-5 mr-2"}),"Athletic Accomplishments"]}),s.jsx("p",{className:"text-foreground leading-relaxed whitespace-pre-line",children:k.athleticAccomplishments})]}),k.academicAccomplishments&&s.jsxs(Ye,{className:"p-6",children:[s.jsxs("h2",{className:"text-xl font-heading font-bold mb-4 flex items-center",children:[s.jsx(tc,{className:"h-5 w-5 mr-2"}),"Academic Accomplishments"]}),s.jsx("p",{className:"text-foreground leading-relaxed whitespace-pre-line",children:k.academicAccomplishments})]}),k.jobExperiences&&k.jobExperiences.length>0&&s.jsxs(Ye,{className:"p-6",children:[s.jsxs("h2",{className:"text-xl font-heading font-bold mb-4 flex items-center",children:[s.jsx(ys,{className:"h-5 w-5 mr-2"})," Job Experience"]}),s.jsx("div",{className:"space-y-4",children:k.jobExperiences.map((se,_e)=>s.jsxs("div",{className:"pb-4 border-b last:border-0",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:se.position}),s.jsx("p",{className:"text-sm text-muted-foreground",children:se.company}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[na(se.startDate)," ",!se.currentlyWorking&&se.endDate?`- ${na(se.endDate)}`:se.currentlyWorking?"- Present":""]}),se.description&&s.jsx("p",{className:"text-sm text-foreground mt-2 whitespace-pre-line",children:se.description})]},_e))})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Ye,{className:"p-6",children:[s.jsxs("h3",{className:"font-semibold mb-4 flex items-center",children:[s.jsx(vp,{className:"h-4 w-4 mr-2"}),"Endorsements (",H.length,")"]}),H.length>0?s.jsx("div",{className:"space-y-4",children:H.map(se=>s.jsx("div",{className:"border-b last:border-b-0 pb-4 last:pb-0",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Zt,{to:`/profile/${se.endorser_id}`,className:"flex-shrink-0",children:s.jsxs(lr,{className:"w-8 h-8 cursor-pointer hover:opacity-80 transition-opacity",children:[s.jsx(cr,{src:se.profiles?.avatar_url||void 0,alt:Kt(se.profiles?.first_name,se.profiles?.last_name)}),s.jsx(ur,{className:"bg-gold text-navy text-xs",children:or(se.profiles?.first_name,se.profiles?.last_name)})]})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx(Zt,{to:`/profile/${se.endorser_id}`,className:"font-semibold text-sm hover:text-gold transition-colors",children:Kt(se.profiles?.first_name,se.profiles?.last_name)}),s.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:To(new Date(se.created_at),{addSuffix:!0})})]}),se.comment&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1 whitespace-pre-wrap",children:se.comment})]})]})},se.id))}):s.jsx("p",{className:"text-muted-foreground text-sm text-center py-4",children:"No endorsements yet."})]}),s.jsxs(Ye,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"font-semibold",children:"My Connections"}),s.jsx(Zt,{to:"/my-hub#connections",children:s.jsxs(de,{variant:"ghost",size:"sm",className:"text-xs gap-1",children:[s.jsx(Vr,{className:"h-3 w-3"}),"View All"]})})]}),s.jsx("div",{className:"space-y-3",children:Z.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"No connections yet"}):Z.map(se=>s.jsxs(Zt,{to:`/profile/${se.id}`,className:"flex items-center space-x-3 hover:bg-secondary p-2 rounded-lg transition-colors",children:[s.jsxs(lr,{className:"w-10 h-10",children:[s.jsx(cr,{src:se.avatar_url||void 0,alt:Kt(se.first_name,se.last_name)}),s.jsx(ur,{className:"bg-gold text-navy text-sm font-bold",children:or(se.first_name,se.last_name)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm hover:text-gold transition-colors",children:Kt(se.first_name,se.last_name)||"User"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:se?.university})]})]},se.id))})]}),s.jsxs(Ye,{className:"p-6",children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Quick Links"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Zt,{to:"/home?filter=my-posts",className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-secondary cursor-pointer",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-gold/10 flex items-center justify-center",children:s.jsx(Da,{className:"h-5 w-5 text-gold"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"My Posts"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"View your posts"})]})]}),s.jsxs(Zt,{to:"/home?tab=bookmarks",className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-secondary cursor-pointer",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-gold/10 flex items-center justify-center",children:s.jsx(vg,{className:"h-5 w-5 text-gold"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"Bookmarks"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Saved posts"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-secondary cursor-pointer",onClick:()=>z(!0),children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-gold/10 flex items-center justify-center",children:s.jsx(Da,{className:"h-5 w-5 text-gold"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"Resume"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:k.resumeUrl?"View & manage":"Upload resume"})]})]})]})]}),s.jsx(hn,{open:A,onOpenChange:$,children:s.jsxs(fn,{className:"w-[95vw] sm:w-full sm:max-w-md",children:[s.jsxs(Cn,{children:[s.jsx(mn,{children:J?"Update Role Change Request":"Request Role Change"}),s.jsx(Tn,{children:J?"You can update your pending request below":"Submit a request to change your user type. An administrator will review your request."})]}),s.jsxs("div",{className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{htmlFor:"current-role",children:"Current Role"}),s.jsx(ot,{id:"current-role",value:d?d.charAt(0).toUpperCase()+d.slice(1):"",disabled:!0,className:"bg-muted"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Me,{htmlFor:"requested-role",children:["Requested Role ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs(Ua,{value:G,onValueChange:pe,children:[s.jsx(ta,{id:"requested-role",children:s.jsx(Ba,{placeholder:"Select a role"})}),s.jsx(ra,{children:Ze().map(se=>s.jsx(Vt,{value:se,children:se.charAt(0).toUpperCase()+se.slice(1)},se))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Me,{htmlFor:"reason",children:["Reason for Request ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Zr,{id:"reason",value:oe,onChange:se=>ue(se.target.value),placeholder:"Please explain why you are requesting this role change...",rows:5,maxLength:500}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[oe.length,"/500 characters (minimum 20)"]})]}),J&&s.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Status:"})," Pending Review"]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Submitted ",To(new Date(J.created_at),{addSuffix:!0})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(de,{variant:"outline",onClick:()=>{$(!1),J||(pe(""),ue(""))},children:"Cancel"}),s.jsx(de,{onClick:Y,disabled:Re,className:"bg-gold hover:bg-gold-light text-navy",children:Re?s.jsxs(s.Fragment,{children:[s.jsx(qt,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting..."]}):J?"Update Request":"Submit Request"})]})]})]})}),s.jsx(hn,{open:X,onOpenChange:z,children:s.jsxs(fn,{className:"w-[95vw] sm:w-full sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Cn,{children:[s.jsx(mn,{children:"Resume"}),s.jsx(Tn,{children:"Upload, share, or download your resume"})]}),s.jsx("div",{className:"space-y-4",children:k.resumeUrl?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"border rounded-lg overflow-hidden bg-muted",children:k.resumeUrl.endsWith(".pdf")||k.resumeUrl.includes(".pdf")?s.jsx("iframe",{src:`${k.resumeUrl}#toolbar=0&navpanes=0`,className:"w-full h-[400px]",title:"Resume Preview"}):s.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[s.jsx(Da,{className:"h-16 w-16 text-muted-foreground mb-4"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Preview not available for this file type"}),s.jsxs(de,{variant:"outline",size:"sm",onClick:()=>window.open(k.resumeUrl,"_blank"),children:[s.jsx(pp,{className:"h-4 w-4 mr-2"}),"Open in New Tab"]})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(de,{variant:"outline",className:"flex-1",onClick:()=>window.open(k.resumeUrl,"_blank"),children:[s.jsx(yg,{className:"h-4 w-4 mr-2"}),"Download"]}),s.jsxs(de,{variant:"outline",className:"flex-1",onClick:er,children:[s.jsx(jg,{className:"h-4 w-4 mr-2"}),"Share Link"]})]}),s.jsxs(de,{variant:"destructive",className:"w-full",onClick:dr,children:[s.jsx(ws,{className:"h-4 w-4 mr-2"}),"Delete Resume"]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:[s.jsx(ob,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Upload your resume (PDF or Word)"}),s.jsx(ot,{type:"file",accept:".pdf,.doc,.docx",onChange:at,className:"hidden",id:"resume-upload"}),s.jsx(Me,{htmlFor:"resume-upload",className:"cursor-pointer",children:s.jsx(de,{variant:"outline",asChild:!0,children:s.jsx("span",{children:"Choose File"})})})]}),F&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-secondary rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Da,{className:"h-5 w-5"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm truncate max-w-[240px]",children:F.name}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[(F.size/(1024*1024)).toFixed(1)," MB  ",F.type||"File"]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(de,{variant:"ghost",size:"sm",onClick:()=>U(null),children:"Clear"}),s.jsx(de,{size:"sm",onClick:nt,disabled:le,children:le?s.jsx(qt,{className:"h-4 w-4 animate-spin"}):"Upload"})]})]}),ee&&s.jsx("div",{className:"border rounded-lg overflow-hidden bg-muted",children:F.type==="application/pdf"?s.jsx("iframe",{src:`${ee}#toolbar=0&navpanes=0`,className:"w-full h-[360px]",title:"Selected Resume Preview"}):s.jsxs("div",{className:"flex flex-col items-center justify-center p-6 text-center space-y-3",children:[s.jsx(Da,{className:"h-10 w-10 text-muted-foreground"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Preview not available for this file type. You can still open it before uploading."}),s.jsxs(de,{variant:"outline",size:"sm",onClick:()=>window.open(ee,"_blank"),children:[s.jsx(pp,{className:"h-4 w-4 mr-2"}),"Open Selected File"]})]})})]})]})})]})})]})]})]})},U3=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,$r=e=>e?U3.test(e):!1,B3=e=>e.replace(/\\/g,"\\\\").replace(/%/g,"\\%").replace(/_/g,"\\_"),Di=(e,t="ID")=>{if(!$r(e))throw new Error(`Invalid ${t}: must be a valid UUID`);return e},z3=e=>e.filter(t=>$r(t)),g1=(e,t)=>{const r=Di(e,"User ID 1"),n=Di(t,"User ID 2");return`and(sender_id.eq.${r},receiver_id.eq.${n}),and(sender_id.eq.${n},receiver_id.eq.${r})`},W3=(e,t)=>{const r=Di(e,"User ID 1"),n=Di(t,"User ID 2");return`and(user_id.eq.${r},connected_user_id.eq.${n}),and(user_id.eq.${n},connected_user_id.eq.${r})`},V3=e=>{const t=Di(e,"User ID");return`sender_id.eq.${t},receiver_id.eq.${t}`},q3=(e,t)=>{const r=Di(e,"Current User ID"),n=z3(t);if(n.length===0)throw new Error("No valid user IDs provided");const o=n.join(",");return`and(sender_id.eq.${r},receiver_id.in.(${o})),and(receiver_id.eq.${r},sender_id.in.(${o}))`};async function H3(e,t,r="connections"){if(e===t)return{canViewEmail:!0,canViewPhone:!0};if(r==="public")return{canViewEmail:!0,canViewPhone:!0};if(r==="private")return{canViewEmail:!1,canViewPhone:!1};if(!$r(t)||!$r(e))return{canViewEmail:!1,canViewPhone:!1};const{data:n}=await M.from("connections").select("id").or(W3(t,e)).maybeSingle(),o=!!n;return{canViewEmail:o,canViewPhone:o}}async function G3(e,t){if(!e)return e;const r=await H3(e.id,t,e.contact_privacy||"connections");return{...e,email:r.canViewEmail?e.email:null,phone:r.canViewPhone?e.phone:null}}const K3=({open:e,onOpenChange:t,endorsedUserId:r,endorsedUserName:n,existingEndorsement:o,onSuccess:l})=>{const[c,d]=f.useState(o?.comment||""),[h,p]=f.useState(!1),{toast:v}=Or(),g=async()=>{p(!0);try{const{data:{user:y}}=await M.auth.getUser();if(!y)throw new Error("Not authenticated");if(o){const{error:b}=await M.from("endorsements").update({comment:c.trim()||null}).eq("id",o.id);if(b)throw b;v({title:"Endorsement updated",description:"Your endorsement has been updated successfully."})}else{const{error:b}=await M.from("endorsements").insert({endorser_id:y.id,endorsed_user_id:r,comment:c.trim()||null});if(b)throw b;v({title:"Endorsement added",description:`You've endorsed ${n}.`})}l(),t(!1),d("")}catch(y){console.error("Error saving endorsement:",y);let b="Failed to save endorsement";y instanceof Error?b=y.message:typeof y=="string"&&(b=y),v({title:"Error",description:b,variant:"destructive"})}finally{p(!1)}};return s.jsx(hn,{open:e,onOpenChange:t,children:s.jsxs(fn,{className:"sm:max-w-[500px]",children:[s.jsxs(Cn,{children:[s.jsxs(mn,{children:[o?"Edit Endorsement":"Endorse"," ",n]}),s.jsx(Tn,{children:o?"Update your endorsement comment (optional).":"Add an optional comment to your endorsement."})]}),s.jsxs("div",{className:"py-4",children:[s.jsx(Zr,{placeholder:"Add a comment about why you're endorsing this person (optional)...",value:c,onChange:y=>d(y.target.value),rows:4,maxLength:500,className:"resize-none"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[c.length,"/500 characters"]})]}),s.jsxs(qg,{children:[s.jsx(de,{variant:"outline",onClick:()=>{t(!1),d(o?.comment||"")},disabled:h,children:"Cancel"}),s.jsx(de,{onClick:g,disabled:h,className:"bg-gold hover:bg-gold-light text-navy",children:h?s.jsxs(s.Fragment,{children:[s.jsx(qt,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):o?"Update":"Endorse"})]})]})})};var Y3=Symbol("radix.slottable");function Q3(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Y3,t}var v1="AlertDialog",[J3]=vn(v1,[pj]),ua=pj(),x1=e=>{const{__scopeAlertDialog:t,...r}=e,n=ua(t);return s.jsx(zg,{...n,...r,modal:!0})};x1.displayName=v1;var Z3="AlertDialogTrigger",X3=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=ua(r);return s.jsx(Wg,{...o,...n,ref:t})});X3.displayName=Z3;var e8="AlertDialogPortal",y1=e=>{const{__scopeAlertDialog:t,...r}=e,n=ua(t);return s.jsx(Vg,{...n,...r})};y1.displayName=e8;var t8="AlertDialogOverlay",w1=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=ua(r);return s.jsx(Tc,{...o,...n,ref:t})});w1.displayName=t8;var Ci="AlertDialogContent",[r8,n8]=J3(Ci),s8=Q3("AlertDialogContent"),_1=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...o}=e,l=ua(r),c=f.useRef(null),d=wt(t,c),h=f.useRef(null);return s.jsx(b4,{contentName:Ci,titleName:b1,docsSlug:"alert-dialog",children:s.jsx(r8,{scope:r,cancelRef:h,children:s.jsxs(Rc,{role:"alertdialog",...l,...o,ref:d,onOpenAutoFocus:Ee(o.onOpenAutoFocus,p=>{p.preventDefault(),h.current?.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[s.jsx(s8,{children:n}),s.jsx(o8,{contentRef:c})]})})})});_1.displayName=Ci;var b1="AlertDialogTitle",j1=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=ua(r);return s.jsx(Ac,{...o,...n,ref:t})});j1.displayName=b1;var N1="AlertDialogDescription",S1=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=ua(r);return s.jsx(Pc,{...o,...n,ref:t})});S1.displayName=N1;var a8="AlertDialogAction",E1=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=ua(r);return s.jsx(_h,{...o,...n,ref:t})});E1.displayName=a8;var k1="AlertDialogCancel",C1=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:o}=n8(k1,r),l=ua(r),c=wt(t,o);return s.jsx(_h,{...l,...n,ref:c})});C1.displayName=k1;var o8=({contentRef:e})=>{const t=`\`${Ci}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ci}\` by passing a \`${N1}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ci}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return f.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},i8=x1,l8=y1,T1=w1,R1=_1,A1=E1,P1=C1,O1=j1,D1=S1;const $h=i8,c8=l8,I1=f.forwardRef(({className:e,...t},r)=>s.jsx(T1,{className:Ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));I1.displayName=T1.displayName;const Fc=f.forwardRef(({className:e,...t},r)=>s.jsxs(c8,{children:[s.jsx(I1,{}),s.jsx(R1,{ref:r,className:Ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Fc.displayName=R1.displayName;const Uc=({className:e,...t})=>s.jsx("div",{className:Ae("flex flex-col space-y-2 text-center sm:text-left",e),...t});Uc.displayName="AlertDialogHeader";const Bc=({className:e,...t})=>s.jsx("div",{className:Ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Bc.displayName="AlertDialogFooter";const zc=f.forwardRef(({className:e,...t},r)=>s.jsx(O1,{ref:r,className:Ae("text-lg font-semibold",e),...t}));zc.displayName=O1.displayName;const Wc=f.forwardRef(({className:e,...t},r)=>s.jsx(D1,{ref:r,className:Ae("text-sm text-muted-foreground",e),...t}));Wc.displayName=D1.displayName;const Vc=f.forwardRef(({className:e,...t},r)=>s.jsx(A1,{ref:r,className:Ae(Og(),e),...t}));Vc.displayName=A1.displayName;const qc=f.forwardRef(({className:e,...t},r)=>s.jsx(P1,{ref:r,className:Ae(Og({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));qc.displayName=P1.displayName;const u8=()=>{const{userId:e}=QP(),t=ts(),{toast:r}=Or(),[n,o]=f.useState(!0),[l,c]=f.useState(null),[d,h]=f.useState(null),[p,v]=f.useState(!1),[g,y]=f.useState(!1),[b,S]=f.useState(!1),[_,j]=f.useState(!1),[k,C]=f.useState(""),[E,N]=f.useState(0),[O,R]=f.useState([]),[P,I]=f.useState(null),[Z,B]=f.useState(!1),[X,z]=f.useState(!1),[F,U]=f.useState(!1),[le,V]=f.useState([]),[ee,D]=f.useState([]),H=f.useCallback(async()=>{if(e)try{const{data:{user:G}}=await M.auth.getUser();if(!G){t("/auth");return}if(C(G.id),G.id===e){S(!0),t("/profile");return}const{data:pe,error:oe}=await M.from("profiles").select("*").eq("id",e).single();if(oe||!pe){r({title:"Profile not found",description:"The user profile you're looking for doesn't exist.",variant:"destructive"}),t("/home");return}const ue=await G3(pe,G.id);c(ue);const{baseRole:Re,hasAdminRole:ve}=await wc(e);v(ve),h(Re),await QU(e,G.id);const{data:re}=await M.from("connections").select("id").eq("user_id",G.id).eq("connected_user_id",e).maybeSingle();y(!!re);const{data:he}=await M.from("connections").select("connected_user_id").eq("user_id",G.id),{data:Ne}=await M.from("connections").select("connected_user_id").eq("user_id",e);if(he&&Ne){const pt=new Set(he.map(De=>De.connected_user_id)),jt=Ne.filter(De=>pt.has(De.connected_user_id)).length;N(jt);const St=Ne.filter(De=>pt.has(De.connected_user_id)).map(De=>De.connected_user_id);if(St.length>0){const{data:De}=await M.from("profiles").select("id, first_name, last_name, avatar_url, university").in("id",St).limit(6);D(De||[])}}const{data:dt}=await M.from("user_badges").select("*, badges(*)").eq("user_id",e);V(dt||[])}catch(G){console.error("Error fetching profile:",G)}finally{o(!1)}},[e,t,r]),te=f.useCallback(async()=>{if(e)try{const{data:G,error:pe}=await M.from("endorsements").select(`
          *,
          profiles!endorsements_endorser_id_fkey(first_name, last_name, avatar_url)
        `).eq("endorsed_user_id",e).order("created_at",{ascending:!1});if(pe)throw pe;R(G||[]);const{data:{user:oe}}=await M.auth.getUser();if(oe){const ue=G?.find(Re=>Re.endorser_id===oe.id);I(ue||null)}}catch(G){console.error("Error fetching endorsements:",G)}},[e]);f.useEffect(()=>{H(),te()},[H,te]);const A=async()=>{if(P)try{U(!0);const{error:G}=await M.from("endorsements").delete().eq("id",P.id);if(G)throw G;r({title:"Endorsement removed",description:"Your endorsement has been removed."}),I(null),await te(),z(!1)}catch(G){console.error("Error deleting endorsement:",G),r({title:"Error",description:G instanceof Error?G.message:"Failed to delete endorsement",variant:"destructive"})}finally{U(!1)}},$=async()=>{if(!(!e||!k))try{j(!0);const{error:G}=await M.from("connections").insert({user_id:k,connected_user_id:e});if(G)throw G;y(!0),r({title:"Connected!",description:`You are now connected with ${ln(l?.first_name,l?.last_name,"this user")}.`})}catch(G){r({title:"Error",description:G instanceof Error?G.message:"Failed to connect",variant:"destructive"})}finally{j(!1)}},J=async()=>{if(!(!e||!k))try{j(!0);const{error:G}=await M.from("connections").delete().eq("user_id",k).eq("connected_user_id",e);if(G)throw G;y(!1),r({title:"Disconnected",description:`You have disconnected from ${ln(l?.first_name,l?.last_name,"this user")}.`})}catch(G){r({title:"Error",description:G instanceof Error?G.message:"Failed to disconnect",variant:"destructive"})}finally{j(!1)}};if(n)return s.jsx("div",{className:"container mx-auto p-8 pt-24",children:s.jsx(oa,{fullPage:!0,text:"Loading profile..."})});if(!l)return s.jsx("div",{className:"container mx-auto p-8 pt-24 flex items-center justify-center min-h-screen",children:s.jsx("p",{className:"text-muted-foreground",children:"Profile not found"})});const ce=Array.isArray(l.skills)?l.skills:[];return s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4 sm:py-6",children:[s.jsxs(de,{variant:"ghost",onClick:()=>t(-1),className:"mb-4",children:[s.jsx(H_,{className:"h-4 w-4 mr-2"}),"Back"]}),s.jsx(Ye,{className:"p-4 sm:p-8 mb-6 animate-slide-up",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start space-y-4 sm:space-y-0 sm:space-x-6",children:[s.jsxs(lr,{className:"w-24 h-24 sm:w-32 sm:h-32",children:[s.jsx(cr,{src:l.avatar_url||void 0,alt:ln(l.first_name,l.last_name)}),s.jsx(ur,{className:"bg-gold text-navy text-3xl sm:text-5xl font-bold",children:or(l.first_name,l.last_name)})]}),s.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-heading font-bold",children:ln(l.first_name,l.last_name)}),p&&s.jsx(qe,{variant:"destructive",className:"text-xs sm:text-sm px-2 py-0.5 h-6 sm:h-8",children:"Admin"}),d&&s.jsx(qe,{variant:d==="employer"?"default":d==="mentor"?"secondary":"outline",className:"text-xs sm:text-sm px-2 py-0.5 h-6 sm:h-8",children:d.charAt(0).toUpperCase()+d.slice(1)}),le.map(G=>{const pe=G.badges;return pe?s.jsx(Rr,{children:s.jsxs(Ar,{delayDuration:100,children:[s.jsx(Pr,{asChild:!0,children:s.jsx("div",{className:"cursor-help",children:pe.image_url?s.jsx("img",{src:pe.image_url,alt:pe.name,className:"w-8 h-8 sm:w-10 sm:h-10 object-contain"}):pe.icon?s.jsx("span",{className:"text-2xl sm:text-3xl",children:pe.icon}):null})}),s.jsx(Nr,{children:s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-semibold",children:pe.name}),pe.description&&s.jsx("p",{className:"text-xs mt-1",children:pe.description})]})})]})},G.id):null})]}),s.jsx("p",{className:"text-base sm:text-lg text-muted-foreground mb-4",children:l.biography})]}),s.jsxs("div",{className:"flex gap-2",children:[g?s.jsxs(de,{variant:"outline",onClick:J,disabled:_,children:[_?s.jsx(qt,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(ib,{className:"h-4 w-4 mr-2"}),"Disconnect"]}):s.jsxs(de,{className:"bg-gold hover:bg-gold-light text-navy",onClick:$,disabled:_,children:[_?s.jsx(qt,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(nc,{className:"h-4 w-4 mr-2"}),"Connect"]}),s.jsx(de,{variant:"outline",asChild:!0,children:s.jsxs(Zt,{to:`/messages?userId=${e}`,children:[s.jsx(Eo,{className:"h-4 w-4 mr-2"}),"Message"]})})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center justify-center sm:justify-start gap-4 mt-4 text-muted-foreground",children:[l.email&&s.jsxs("span",{className:"flex items-center text-sm",children:[" Contact Email: ",l.email]}),l.phone&&s.jsxs("span",{className:"flex items-center text-sm",children:[" ",l.phone]}),l.location&&s.jsxs("span",{className:"flex items-center text-sm",children:[s.jsx(Ad,{className:"h-4 w-4 mr-1"}),l.location]}),l.degree&&s.jsxs("span",{className:"flex items-center text-sm",children:[s.jsx(ys,{className:"h-4 w-4 mr-1"}),l.degree]})]}),(l.university||l.sport)&&s.jsxs("div",{className:"flex flex-wrap items-center justify-center sm:justify-start gap-2 mt-3",children:[l.university&&s.jsx(qe,{variant:"secondary",children:l.university}),l.sport&&s.jsx(qe,{variant:"outline",children:l.sport})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.about&&s.jsxs(Ye,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-heading font-bold mb-4",children:"About"}),s.jsx("p",{className:"text-foreground leading-relaxed whitespace-pre-line",children:l.about})]}),ce.length>0&&s.jsxs(Ye,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-heading font-bold mb-4",children:"Skills"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:ce.map((G,pe)=>s.jsx(qe,{variant:"secondary",className:"px-3 py-1 text-sm",children:G},pe))})]}),l.athletic_accomplishments&&s.jsxs(Ye,{className:"p-6",children:[s.jsxs("h2",{className:"text-xl font-heading font-bold mb-4 flex items-center",children:[s.jsx(xp,{className:"h-5 w-5 mr-2"}),"Athletic Accomplishments"]}),s.jsx("p",{className:"text-foreground leading-relaxed whitespace-pre-line",children:l.athletic_accomplishments})]}),l.academic_accomplishments&&s.jsxs(Ye,{className:"p-6",children:[s.jsxs("h2",{className:"text-xl font-heading font-bold mb-4 flex items-center",children:[s.jsx(tc,{className:"h-5 w-5 mr-2"}),"Academic Accomplishments"]}),s.jsx("p",{className:"text-foreground leading-relaxed whitespace-pre-line",children:l.academic_accomplishments})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Ye,{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"font-semibold flex items-center",children:[s.jsx(vp,{className:"h-4 w-4 mr-2"}),"Endorsements (",O.length,")"]}),!b&&s.jsx(Rr,{children:s.jsx("div",{className:"flex gap-2",children:P?s.jsxs(s.Fragment,{children:[s.jsxs(Ar,{children:[s.jsx(Pr,{asChild:!0,children:s.jsx(de,{variant:"outline",size:"icon",onClick:()=>B(!0),children:s.jsx(nb,{className:"h-4 w-4"})})}),s.jsx(Nr,{children:s.jsx("p",{children:"Edit"})})]}),s.jsxs(Ar,{children:[s.jsx(Pr,{asChild:!0,children:s.jsx(de,{variant:"outline",size:"icon",onClick:()=>z(!0),className:"text-destructive hover:text-destructive",children:s.jsx(ws,{className:"h-4 w-4"})})}),s.jsx(Nr,{children:s.jsx("p",{children:"Remove"})})]})]}):s.jsxs(de,{className:"bg-gold hover:bg-gold-light text-navy",size:"sm",onClick:()=>B(!0),children:[s.jsx(vp,{className:"h-4 w-4 mr-2"}),"Endorse"]})})})]}),O.length>0?s.jsx("div",{className:"space-y-4",children:O.map(G=>s.jsx("div",{className:"border-b last:border-b-0 pb-4 last:pb-0",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Zt,{to:`/profile/${G.endorser_id}`,className:"flex-shrink-0",children:s.jsxs(lr,{className:"w-8 h-8 cursor-pointer hover:opacity-80 transition-opacity",children:[s.jsx(cr,{src:G.profiles?.avatar_url||void 0,alt:ln(G.profiles?.first_name,G.profiles?.last_name)}),s.jsx(ur,{className:"bg-gold text-navy text-xs",children:or(G.profiles?.first_name,G.profiles?.last_name)})]})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx(Zt,{to:`/profile/${G.endorser_id}`,className:"font-semibold text-sm hover:text-gold transition-colors",children:ln(G.profiles?.first_name,G.profiles?.last_name)}),s.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:To(new Date(G.created_at),{addSuffix:!0})})]}),G.comment&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1 whitespace-pre-wrap",children:G.comment})]})]})},G.id))}):s.jsx("p",{className:"text-muted-foreground text-sm text-center py-4",children:b?"No endorsements yet.":"No endorsements yet. Be the first to endorse!"})]}),ee.length>0&&s.jsxs(Ye,{className:"p-6",children:[s.jsxs("h3",{className:"font-semibold mb-4 flex items-center",children:[s.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Mutual Connections"]}),s.jsxs("div",{className:"space-y-3",children:[ee.map(G=>s.jsxs(Zt,{to:`/profile/${G.id}`,className:"flex items-center space-x-3 hover:bg-secondary p-2 rounded-lg transition-colors",children:[s.jsxs(lr,{className:"w-10 h-10",children:[s.jsx(cr,{src:G.avatar_url||void 0,alt:ln(G.first_name,G.last_name)}),s.jsx(ur,{className:"bg-gold text-navy text-sm font-bold",children:or(G.first_name,G.last_name)})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-sm hover:text-gold transition-colors truncate",children:ln(G.first_name,G.last_name)||"User"}),G.university&&s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:G.university})]})]},G.id)),E>6&&s.jsxs("p",{className:"text-xs text-muted-foreground text-center pt-2",children:["+",E-6," more mutual connection",E-6!==1?"s":""]})]})]})]})]}),s.jsx(K3,{open:Z,onOpenChange:B,endorsedUserId:e||"",endorsedUserName:ln(l.first_name,l.last_name),existingEndorsement:P,onSuccess:te}),s.jsx($h,{open:X,onOpenChange:z,children:s.jsxs(Fc,{children:[s.jsxs(Uc,{children:[s.jsx(zc,{children:"Remove Endorsement"}),s.jsxs(Wc,{children:["Are you sure you want to remove your endorsement for"," ",ln(l.first_name,l.last_name),"? This action cannot be undone."]})]}),s.jsxs(Bc,{children:[s.jsx(qc,{disabled:F,children:"Cancel"}),s.jsx(Vc,{onClick:A,disabled:F,className:"bg-destructive hover:bg-destructive/90",children:F?s.jsxs(s.Fragment,{children:[s.jsx(qt,{className:"mr-2 h-4 w-4 animate-spin"}),"Removing..."]}):"Remove"})]})]})})]})};function d8(e,t){return f.useReducer((r,n)=>t[r][n]??r,e)}var pv="ScrollArea",[M1]=vn(pv),[h8,rs]=M1(pv),L1=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:o,scrollHideDelay:l=600,...c}=e,[d,h]=f.useState(null),[p,v]=f.useState(null),[g,y]=f.useState(null),[b,S]=f.useState(null),[_,j]=f.useState(null),[k,C]=f.useState(0),[E,N]=f.useState(0),[O,R]=f.useState(!1),[P,I]=f.useState(!1),Z=wt(t,X=>h(X)),B=Ki(o);return s.jsx(h8,{scope:r,type:n,dir:B,scrollHideDelay:l,scrollArea:d,viewport:p,onViewportChange:v,content:g,onContentChange:y,scrollbarX:b,onScrollbarXChange:S,scrollbarXEnabled:O,onScrollbarXEnabledChange:R,scrollbarY:_,onScrollbarYChange:j,scrollbarYEnabled:P,onScrollbarYEnabledChange:I,onCornerWidthChange:C,onCornerHeightChange:N,children:s.jsx(st.div,{dir:B,...c,ref:Z,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":E+"px",...e.style}})})});L1.displayName=pv;var $1="ScrollAreaViewport",F1=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:o,...l}=e,c=rs($1,r),d=f.useRef(null),h=wt(t,d,c.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),s.jsx(st.div,{"data-radix-scroll-area-viewport":"",...l,ref:h,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});F1.displayName=$1;var Bs="ScrollAreaScrollbar",gv=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=rs(Bs,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:c}=o,d=e.orientation==="horizontal";return f.useEffect(()=>(d?l(!0):c(!0),()=>{d?l(!1):c(!1)}),[d,l,c]),o.type==="hover"?s.jsx(f8,{...n,ref:t,forceMount:r}):o.type==="scroll"?s.jsx(m8,{...n,ref:t,forceMount:r}):o.type==="auto"?s.jsx(U1,{...n,ref:t,forceMount:r}):o.type==="always"?s.jsx(vv,{...n,ref:t}):null});gv.displayName=Bs;var f8=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=rs(Bs,e.__scopeScrollArea),[l,c]=f.useState(!1);return f.useEffect(()=>{const d=o.scrollArea;let h=0;if(d){const p=()=>{window.clearTimeout(h),c(!0)},v=()=>{h=window.setTimeout(()=>c(!1),o.scrollHideDelay)};return d.addEventListener("pointerenter",p),d.addEventListener("pointerleave",v),()=>{window.clearTimeout(h),d.removeEventListener("pointerenter",p),d.removeEventListener("pointerleave",v)}}},[o.scrollArea,o.scrollHideDelay]),s.jsx(qr,{present:r||l,children:s.jsx(U1,{"data-state":l?"visible":"hidden",...n,ref:t})})}),m8=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=rs(Bs,e.__scopeScrollArea),l=e.orientation==="horizontal",c=Uh(()=>h("SCROLL_END"),100),[d,h]=d8("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(d==="idle"){const p=window.setTimeout(()=>h("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(p)}},[d,o.scrollHideDelay,h]),f.useEffect(()=>{const p=o.viewport,v=l?"scrollLeft":"scrollTop";if(p){let g=p[v];const y=()=>{const b=p[v];g!==b&&(h("SCROLL"),c()),g=b};return p.addEventListener("scroll",y),()=>p.removeEventListener("scroll",y)}},[o.viewport,l,h,c]),s.jsx(qr,{present:r||d!=="hidden",children:s.jsx(vv,{"data-state":d==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ee(e.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:Ee(e.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),U1=f.forwardRef((e,t)=>{const r=rs(Bs,e.__scopeScrollArea),{forceMount:n,...o}=e,[l,c]=f.useState(!1),d=e.orientation==="horizontal",h=Uh(()=>{if(r.viewport){const p=r.viewport.offsetWidth<r.viewport.scrollWidth,v=r.viewport.offsetHeight<r.viewport.scrollHeight;c(d?p:v)}},10);return Ii(r.viewport,h),Ii(r.content,h),s.jsx(qr,{present:n||l,children:s.jsx(vv,{"data-state":l?"visible":"hidden",...o,ref:t})})}),vv=f.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,o=rs(Bs,e.__scopeScrollArea),l=f.useRef(null),c=f.useRef(0),[d,h]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=q1(d.viewport,d.content),v={...n,sizes:d,onSizesChange:h,hasThumb:p>0&&p<1,onThumbChange:y=>l.current=y,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:y=>c.current=y};function g(y,b){return w8(y,c.current,d,b)}return r==="horizontal"?s.jsx(p8,{...v,ref:t,onThumbPositionChange:()=>{if(o.viewport&&l.current){const y=o.viewport.scrollLeft,b=Z0(y,d,o.dir);l.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:y=>{o.viewport&&(o.viewport.scrollLeft=y)},onDragScroll:y=>{o.viewport&&(o.viewport.scrollLeft=g(y,o.dir))}}):r==="vertical"?s.jsx(g8,{...v,ref:t,onThumbPositionChange:()=>{if(o.viewport&&l.current){const y=o.viewport.scrollTop,b=Z0(y,d);l.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:y=>{o.viewport&&(o.viewport.scrollTop=y)},onDragScroll:y=>{o.viewport&&(o.viewport.scrollTop=g(y))}}):null}),p8=f.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...o}=e,l=rs(Bs,e.__scopeScrollArea),[c,d]=f.useState(),h=f.useRef(null),p=wt(t,h,l.onScrollbarXChange);return f.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),s.jsx(z1,{"data-orientation":"horizontal",...o,ref:p,sizes:r,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Fh(r)+"px",...e.style},onThumbPointerDown:v=>e.onThumbPointerDown(v.x),onDragScroll:v=>e.onDragScroll(v.x),onWheelScroll:(v,g)=>{if(l.viewport){const y=l.viewport.scrollLeft+v.deltaX;e.onWheelScroll(y),G1(y,g)&&v.preventDefault()}},onResize:()=>{h.current&&l.viewport&&c&&n({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:Jd(c.paddingLeft),paddingEnd:Jd(c.paddingRight)}})}})}),g8=f.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...o}=e,l=rs(Bs,e.__scopeScrollArea),[c,d]=f.useState(),h=f.useRef(null),p=wt(t,h,l.onScrollbarYChange);return f.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),s.jsx(z1,{"data-orientation":"vertical",...o,ref:p,sizes:r,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Fh(r)+"px",...e.style},onThumbPointerDown:v=>e.onThumbPointerDown(v.y),onDragScroll:v=>e.onDragScroll(v.y),onWheelScroll:(v,g)=>{if(l.viewport){const y=l.viewport.scrollTop+v.deltaY;e.onWheelScroll(y),G1(y,g)&&v.preventDefault()}},onResize:()=>{h.current&&l.viewport&&c&&n({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:Jd(c.paddingTop),paddingEnd:Jd(c.paddingBottom)}})}})}),[v8,B1]=M1(Bs),z1=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:o,onThumbChange:l,onThumbPointerUp:c,onThumbPointerDown:d,onThumbPositionChange:h,onDragScroll:p,onWheelScroll:v,onResize:g,...y}=e,b=rs(Bs,r),[S,_]=f.useState(null),j=wt(t,Z=>_(Z)),k=f.useRef(null),C=f.useRef(""),E=b.viewport,N=n.content-n.viewport,O=_r(v),R=_r(h),P=Uh(g,10);function I(Z){if(k.current){const B=Z.clientX-k.current.left,X=Z.clientY-k.current.top;p({x:B,y:X})}}return f.useEffect(()=>{const Z=B=>{const X=B.target;S?.contains(X)&&O(B,N)};return document.addEventListener("wheel",Z,{passive:!1}),()=>document.removeEventListener("wheel",Z,{passive:!1})},[E,S,N,O]),f.useEffect(R,[n,R]),Ii(S,P),Ii(b.content,P),s.jsx(v8,{scope:r,scrollbar:S,hasThumb:o,onThumbChange:_r(l),onThumbPointerUp:_r(c),onThumbPositionChange:R,onThumbPointerDown:_r(d),children:s.jsx(st.div,{...y,ref:j,style:{position:"absolute",...y.style},onPointerDown:Ee(e.onPointerDown,Z=>{Z.button===0&&(Z.target.setPointerCapture(Z.pointerId),k.current=S.getBoundingClientRect(),C.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),I(Z))}),onPointerMove:Ee(e.onPointerMove,I),onPointerUp:Ee(e.onPointerUp,Z=>{const B=Z.target;B.hasPointerCapture(Z.pointerId)&&B.releasePointerCapture(Z.pointerId),document.body.style.webkitUserSelect=C.current,b.viewport&&(b.viewport.style.scrollBehavior=""),k.current=null})})})}),Qd="ScrollAreaThumb",W1=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=B1(Qd,e.__scopeScrollArea);return s.jsx(qr,{present:r||o.hasThumb,children:s.jsx(x8,{ref:t,...n})})}),x8=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...o}=e,l=rs(Qd,r),c=B1(Qd,r),{onThumbPositionChange:d}=c,h=wt(t,g=>c.onThumbChange(g)),p=f.useRef(void 0),v=Uh(()=>{p.current&&(p.current(),p.current=void 0)},100);return f.useEffect(()=>{const g=l.viewport;if(g){const y=()=>{if(v(),!p.current){const b=_8(g,d);p.current=b,d()}};return d(),g.addEventListener("scroll",y),()=>g.removeEventListener("scroll",y)}},[l.viewport,v,d]),s.jsx(st.div,{"data-state":c.hasThumb?"visible":"hidden",...o,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ee(e.onPointerDownCapture,g=>{const b=g.target.getBoundingClientRect(),S=g.clientX-b.left,_=g.clientY-b.top;c.onThumbPointerDown({x:S,y:_})}),onPointerUp:Ee(e.onPointerUp,c.onThumbPointerUp)})});W1.displayName=Qd;var xv="ScrollAreaCorner",V1=f.forwardRef((e,t)=>{const r=rs(xv,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(y8,{...e,ref:t}):null});V1.displayName=xv;var y8=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,o=rs(xv,r),[l,c]=f.useState(0),[d,h]=f.useState(0),p=!!(l&&d);return Ii(o.scrollbarX,()=>{const v=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(v),h(v)}),Ii(o.scrollbarY,()=>{const v=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(v),c(v)}),p?s.jsx(st.div,{...n,ref:t,style:{width:l,height:d,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Jd(e){return e?parseInt(e,10):0}function q1(e,t){const r=e/t;return isNaN(r)?0:r}function Fh(e){const t=q1(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function w8(e,t,r,n="ltr"){const o=Fh(r),l=o/2,c=t||l,d=o-c,h=r.scrollbar.paddingStart+c,p=r.scrollbar.size-r.scrollbar.paddingEnd-d,v=r.content-r.viewport,g=n==="ltr"?[0,v]:[v*-1,0];return H1([h,p],g)(e)}function Z0(e,t,r="ltr"){const n=Fh(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,l=t.scrollbar.size-o,c=t.content-t.viewport,d=l-n,h=r==="ltr"?[0,c]:[c*-1,0],p=eg(e,h);return H1([0,c],[0,d])(p)}function H1(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function G1(e,t){return e>0&&e<t}var _8=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function o(){const l={left:e.scrollLeft,top:e.scrollTop},c=r.left!==l.left,d=r.top!==l.top;(c||d)&&t(),r=l,n=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(n)};function Uh(e,t){const r=_r(e),n=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(n.current),[]),f.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Ii(e,t){const r=_r(t);Sr(()=>{let n=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return o.observe(e),()=>{window.cancelAnimationFrame(n),o.unobserve(e)}}},[e,r])}var K1=L1,b8=F1,j8=V1;const Hc=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(K1,{ref:n,className:Ae("relative overflow-hidden",e),...r,children:[s.jsx(b8,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(Y1,{}),s.jsx(j8,{})]}));Hc.displayName=K1.displayName;const Y1=f.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(gv,{ref:n,orientation:t,className:Ae("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(W1,{className:"relative flex-1 rounded-full bg-border"})}));Y1.displayName=gv.displayName;const vi=e=>{const r=new Date().getTime()-e.getTime(),n=Math.floor(r/6e4),o=Math.floor(r/36e5),l=Math.floor(r/864e5);return n<1?"Just now":n<60?`${n}m ago`:o<24?`${o}h ago`:l===1?"1d ago":l<7?`${l}d ago`:e.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})},Q1=e=>e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),xs={debug:(e,t)=>{},info:(e,t)=>{},warn:(e,t)=>{console.warn(`[WARN] ${e}`)},error:(e,t,r)=>{console.error(`[ERROR] ${e}`)},security:(e,t)=>{const n=`[SECURITY] ${new Date().toISOString()} - ${e}`;console.warn(n)}},N8=e=>{const[t,r]=f.useState([]),[n,o]=f.useState(!0),[l,c]=f.useState(""),[d,h]=f.useState(new Set),[p,v]=f.useState(!1),{toast:g}=Or();f.useEffect(()=>{if(!e||!l.trim()){h(new Set),v(!1);return}const k=setTimeout(async()=>{if(v(!0),!$r(e)){v(!1);return}try{const C=B3(l),{data:E}=await M.from("messages").select("sender_id, receiver_id").or(V3(e)).ilike("content",`%${C}%`),N=new Set;E?.forEach(O=>{O.sender_id===e?N.add(O.receiver_id):N.add(O.sender_id)});try{const{data:O}=await M.from("group_messages").select("thread_id").ilike("content",`%${C}%`);O?.forEach(R=>{N.add(`thread:${R.thread_id}`)})}catch{}h(N)}catch(C){console.error("Error searching messages:",C)}finally{v(!1)}},300);return()=>clearTimeout(k)},[l,e]);const y=f.useCallback(async()=>{if(e)try{try{const{data:N}=await M.rpc("get_conversation_summaries",{user_uuid:e});if(N&&Array.isArray(N)){const O=N.map(B=>{const X=or((B.name||"").split(" ")[0]||null,(B.name||"").split(" ")[1]||null),z=B.role_type==="mentor"?"mentor":B.role_type==="employer"?"employer":"peer",F=!!B.is_group;let U=B.thread_id||void 0;return F&&!U&&typeof B.id=="string"&&B.id.startsWith("thread:")&&(U=B.id.replace("thread:","")),{id:B.id,threadId:U,name:B.name||"Unknown",avatar:X,avatarUrl:B.avatar_url||null,role:B.role||"LaceUP Member",user_role:B.user_role||void 0,user_is_admin:B.user_is_admin||!1,user_badges:B.user_badges||[],connectionType:z,lastMessage:B.last_message||"No messages yet",time:B.last_message_date?vi(new Date(B.last_message_date)):"",lastMessageDate:B.last_message_date||null,isConnected:!0,userId:B.user_id||"",isGroup:F,participants:void 0,unreadCount:B.unread_count||0,unread:(B.unread_count||0)>0}});O.sort((B,X)=>{const z=B.lastMessageDate?new Date(B.lastMessageDate).getTime():0;return(X.lastMessageDate?new Date(X.lastMessageDate).getTime():0)-z});const R=O.filter(B=>!B.isGroup).map(B=>B.userId).filter(B=>$r(B));if(R.length>0){const{data:B}=await M.from("user_roles").select("user_id, role").in("user_id",R),X=new Map;B?.forEach(U=>{X.has(U.user_id)||X.set(U.user_id,[]),X.get(U.user_id)?.push(U.role)});const{data:z}=await M.from("user_badges").select("*, badges(*)").in("user_id",R),F=new Map;z?.forEach(U=>{F.has(U.user_id)||F.set(U.user_id,[]),F.get(U.user_id).push(U)}),O.forEach(U=>{if(!U.isGroup&&U.userId){const le=X.get(U.userId)||[],V=le.includes("admin"),ee=le.filter(D=>D!=="admin");U.user_role=ee.length>0?ee[0]:void 0,U.user_is_admin=V,U.user_badges=F.get(U.userId)||[]}})}const P=O.filter(B=>B.isGroup&&B.threadId);if(P.length>0){const B=P.map(D=>D.threadId),{data:X}=await M.from("group_message_members").select("thread_id, user_id").in("thread_id",B),z=new Map,F=new Set;(X||[]).forEach(D=>{if(D.user_id===e)return;const H=z.get(D.thread_id)||[];H.push(D.user_id),z.set(D.thread_id,H),F.add(D.user_id)});const{data:U}=await M.from("profiles").select("id, first_name, last_name, avatar_url, university").in("id",Array.from(F)),le=new Map((U||[]).map(D=>[D.id,D])),{data:V}=await M.from("group_messages").select("thread_id, thread_name").in("thread_id",B).order("created_at",{ascending:!1}),ee=new Map;(V||[]).forEach(D=>{ee.has(D.thread_id)||ee.set(D.thread_id,D.thread_name)}),P.forEach(D=>{if(!D.threadId)return;const te=(z.get(D.threadId)||[]).map($=>le.get($)).filter(Boolean),A=ee.get(D.threadId);D.name=cp(te,A),D.participants=te,D.role=`Group - ${te.length+1} members`})}const{data:I}=await M.from("connections").select("connected_user_id").eq("user_id",e);if(I&&I.length>0){const B=new Set(O.filter(z=>!z.isGroup).map(z=>z.userId)),X=I.map(z=>z.connected_user_id).filter(z=>!B.has(z));if(X.length>0){const{data:z}=await M.from("profiles").select("id, first_name, last_name, avatar_url, university").in("id",X),{data:F}=await M.from("user_roles").select("user_id, role").in("user_id",X),U=new Map;F?.forEach(ee=>{U.has(ee.user_id)||U.set(ee.user_id,[]),U.get(ee.user_id)?.push(ee.role)});const{data:le}=await M.from("user_badges").select("*, badges(*)").in("user_id",X),V=new Map;le?.forEach(ee=>{V.has(ee.user_id)||V.set(ee.user_id,[]),V.get(ee.user_id).push(ee)}),(z||[]).forEach(ee=>{const D=U.get(ee.id)||[],H=D.includes("admin"),A=D.filter(G=>G!=="admin")[0],$=H,J=A==="admin"?null:A,ce=A==="mentor"?"mentor":A==="employer"?"employer":"peer";O.push({id:ee.id,name:Kt(ee.first_name,ee.last_name)||"Unknown User",avatar:or(ee.first_name,ee.last_name),avatarUrl:ee.avatar_url,role:ee.university||"LaceUP Member",user_role:J,user_is_admin:$,user_badges:V.get(ee.id)||[],connectionType:ce,lastMessage:"No messages yet",time:"",lastMessageDate:null,isConnected:!0,userId:ee.id,isGroup:!1,participants:void 0,unreadCount:0,unread:!1})})}}const Z=Array.from(new Map(O.map(B=>[B.id,B])).values());return r(Z),Z}}catch(N){console.log("RPC get_conversation_summaries failed, using fallback",N)}const j=new Map;try{const{data:N}=await M.from("messages").select("sender_id").eq("receiver_id",e).is("read_at",null);(N||[]).forEach(O=>{j.set(O.sender_id,(j.get(O.sender_id)||0)+1)})}catch(N){console.log("Unread preload failed (messages)",N)}const k=[];try{const{data:N,error:O}=await M.from("group_message_members").select("thread_id").eq("user_id",e);if(!O&&N&&N.length>0){const R=[...new Set(N.map(D=>D.thread_id))],{data:P}=await M.from("group_message_members").select("thread_id, user_id").in("thread_id",R),I=new Map,Z=new Set;(P||[]).forEach(D=>{if(D.user_id===e)return;const H=I.get(D.thread_id)||[];H.push(D.user_id),I.set(D.thread_id,H),Z.add(D.user_id)});const{data:B}=await M.from("profiles").select("id, first_name, last_name, avatar_url, university").in("id",Array.from(Z)),X=new Map((B||[]).map(D=>[D.id,D])),{data:z}=await M.from("user_roles").select("user_id, role").in("user_id",Array.from(Z)),F=new Map;z?.forEach(D=>{F.has(D.user_id)||F.set(D.user_id,[]),F.get(D.user_id)?.push(D.role)});const{data:U}=await M.from("user_badges").select("*, badges(*)").in("user_id",Array.from(Z)),le=new Map;U?.forEach(D=>{le.has(D.user_id)||le.set(D.user_id,[]),le.get(D.user_id).push(D)});const{data:V}=await M.from("group_messages").select("thread_id, content, created_at, thread_name").in("thread_id",R).order("created_at",{ascending:!1}),ee=new Map;(V||[]).forEach(D=>{ee.has(D.thread_id)||ee.set(D.thread_id,{content:D.content,created_at:D.created_at,thread_name:D.thread_name??null})});try{const{data:D}=await M.from("group_messages").select("id, thread_id, sender_id").in("thread_id",R),H=new Map;(D||[]).forEach(J=>{if(J.sender_id===e)return;const ce=H.get(J.thread_id)||{ids:[],count:0};ce.ids.push(J.id),ce.count+=1,H.set(J.thread_id,ce)});const te=Array.from(H.values()).flatMap(J=>J.ids);let A=new Set;if(te.length>0)try{const{data:J}=await M.from("group_message_reads").select("message_id").eq("user_id",e).in("message_id",te);A=new Set((J||[]).map(ce=>ce.message_id))}catch{}const $=new Map;H.forEach((J,ce)=>{const G=J.ids.filter(pe=>!A.has(pe)).length;$.set(ce,G)});for(const J of R){const ce=I.get(J)||[];if(ce.length===0)continue;const G=ce.map(Ne=>X.get(Ne)).filter(Boolean),pe=G.length>1;let oe,ue,Re=null,ve="peer",re="LaceUP Member";const he=ee.get(J);if(pe)oe=cp(G,he?.thread_name),ue=G.length>0?or(G[0].first_name,G[0].last_name):"GR",re=`Group - ${G.length+1} members`;else{const Ne=G[0];oe=Kt(Ne?.first_name,Ne?.last_name)||"Unknown",ue=or(Ne?.first_name,Ne?.last_name),Re=Ne?.avatar_url||null;const dt=Ne?F.get(Ne.id)||[]:[],pt=dt.includes("admin"),jt=dt.find(St=>St!=="admin");jt==="mentor"?ve="mentor":jt==="employer"&&(ve="employer"),re=Ne?.university||(jt==="mentor"?"Mentor":jt==="employer"?"Employer":jt==="athlete"?"Student Athlete":"LaceUP Member"),k.push({id:`thread:${J}`,threadId:J,name:oe,avatar:ue,avatarUrl:Re,role:re,user_role:jt,user_is_admin:pt,user_badges:Ne?le.get(Ne.id)||[]:[],connectionType:ve,lastMessage:he?.content||"No messages yet",time:he?vi(new Date(he.created_at)):"",lastMessageDate:he?.created_at||null,isConnected:!0,userId:G[0]?.id||"",isGroup:pe,participants:G,unreadCount:$.get(J)||0,unread:($.get(J)||0)>0});continue}k.push({id:`thread:${J}`,threadId:J,name:oe,avatar:ue,avatarUrl:Re,role:re,user_role:void 0,user_is_admin:!1,user_badges:[],connectionType:ve,lastMessage:he?.content||"No messages yet",time:he?vi(new Date(he.created_at)):"",lastMessageDate:he?.created_at||null,isConnected:!0,userId:G[0]?.id||"",isGroup:pe,participants:G,unreadCount:$.get(J)||0,unread:($.get(J)||0)>0})}}catch(D){console.log("Group unread compute failed",D)}}}catch(N){console.log("Group messages not available:",N)}const{data:C}=await M.from("connections").select("connected_user_id").eq("user_id",e);if(C&&C.length>0){const N=C.map(P=>P.connected_user_id),O=new Set(k.filter(P=>!P.isGroup).flatMap(P=>P.participants?.map(I=>I.id)||[P.userId])),R=N.filter(P=>!O.has(P));if(R.length>0){const{data:P}=await M.from("profiles").select("*").in("id",R),{data:I}=await M.from("user_roles").select("user_id, role").in("user_id",R),Z=new Map;I?.forEach(F=>{Z.has(F.user_id)||Z.set(F.user_id,[]),Z.get(F.user_id)?.push(F.role)});const{data:B}=await M.from("user_badges").select("*, badges(*)").in("user_id",R),X=new Map;B?.forEach(F=>{X.has(F.user_id)||X.set(F.user_id,[]),X.get(F.user_id).push(F)});const z=(P||[]).filter(F=>$r(F.id));if(z.length>0){const F=R.filter(U=>$r(U));if(F.length>0){const{data:U}=await M.from("messages").select("id, sender_id, receiver_id, content, created_at").or(q3(e,F)).order("created_at",{ascending:!1}),le=new Map;U?.forEach(V=>{const ee=V.sender_id===e?V.receiver_id:V.sender_id;le.has(ee)||le.set(ee,V)});for(const V of z){const ee=le.get(V.id),D=or(V.first_name,V.last_name),H=Z.get(V.id)||[],te=H.includes("admin"),A=H.find(ce=>ce!=="admin");let $="peer";A==="mentor"?$="mentor":A==="employer"&&($="employer");const J=V.degree||(A==="mentor"?"Mentor":A==="employer"?"Employer":A==="athlete"?"Student Athlete":"LaceUP Member");k.push({id:V.id,name:Kt(V.first_name,V.last_name)||"Unknown User",avatar:D,avatarUrl:V.avatar_url,role:J,user_role:A,user_is_admin:te,user_badges:X.get(V.id)||[],connectionType:$,lastMessage:ee?.content||"No messages yet",time:ee?vi(new Date(ee.created_at)):"",lastMessageDate:ee?.created_at||null,isConnected:!0,userId:V.id,isGroup:!1,unreadCount:j.get(V.id)||0,unread:(j.get(V.id)||0)>0})}}}}}k.sort((N,O)=>{const R=N.lastMessageDate?new Date(N.lastMessageDate).getTime():0;return(O.lastMessageDate?new Date(O.lastMessageDate).getTime():0)-R});const E=Array.from(new Map(k.map(N=>[N.id,N])).values());return r(E),E}catch(j){return xs.error("Failed to load conversations",j),g({title:"Error",description:"Failed to load conversations",variant:"destructive"}),[]}finally{o(!1)}},[e,g]);f.useEffect(()=>{y()},[y]),f.useEffect(()=>{if(!e)return;const j=M.channel("conversations-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},async E=>{const N=E.new;if(N.sender_id!==e&&N.receiver_id!==e)return;const O=N.sender_id===e?N.receiver_id:N.sender_id;r(R=>{const P=R.findIndex(I=>I.id===O);if(P>=0){const I=[...R];if(I[P]={...I[P],lastMessage:N.content,time:vi(new Date(N.created_at)),lastMessageDate:N.created_at,unreadCount:I[P].unreadCount||0,unread:I[P].unread||!1},N.sender_id!==e){const Z=I[P].unreadCount||0;I[P].unreadCount=Z+1,I[P].unread=(I[P].unreadCount||0)>0}return I.sort((Z,B)=>{const X=Z.lastMessageDate?new Date(Z.lastMessageDate).getTime():0;return(B.lastMessageDate?new Date(B.lastMessageDate).getTime():0)-X}),I}return R}),r(R=>(R.find(P=>P.id===O)||y(),R))}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages"},async E=>{const N=E.new;N&&(N.sender_id!==e&&N.receiver_id!==e||await y())}).on("postgres_changes",{event:"DELETE",schema:"public",table:"messages"},async E=>{const N=E.old;N&&(N.sender_id!==e&&N.receiver_id!==e||await y())}).subscribe(),k=M.channel("conversations-group-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"group_messages"},async E=>{const N=E.new,O=N.sender_id===e;r(R=>{const P=`thread:${N.thread_id}`,I=R.findIndex(Z=>Z.id===P);if(I>=0){const Z=[...R],B=Z[I];return Z[I]={...B,lastMessage:N.content,time:vi(new Date(N.created_at)),lastMessageDate:N.created_at,unreadCount:O?B.unreadCount:(B.unreadCount||0)+1,unread:O?B.unread:!0},Z.sort((X,z)=>{const F=X.lastMessageDate?new Date(X.lastMessageDate).getTime():0;return(z.lastMessageDate?new Date(z.lastMessageDate).getTime():0)-F}),Z}return R}),r(R=>{const P=`thread:${N.thread_id}`;return R.find(I=>I.id===P)||y(),R})}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"group_messages"},async()=>{await y()}).on("postgres_changes",{event:"DELETE",schema:"public",table:"group_messages"},async()=>{await y()}).subscribe(),C=M.channel("conversations-members").on("postgres_changes",{event:"INSERT",schema:"public",table:"group_message_members",filter:`user_id=eq.${e}`},async()=>{await y()}).on("postgres_changes",{event:"DELETE",schema:"public",table:"group_message_members",filter:`user_id=eq.${e}`},async()=>{await y()}).subscribe();return()=>{M.removeChannel(j),M.removeChannel(k),M.removeChannel(C)}},[e,y]);const b=t.filter(j=>{if(!l.trim())return!0;const k=l.toLowerCase();return j.name.toLowerCase().includes(k)||j.role.toLowerCase().includes(k)||d.has(j.id)||j.threadId&&d.has(`thread:${j.threadId}`)}),S=f.useCallback(j=>{r(k=>k.map(C=>C.id===j?{...C,unread:!1,unreadCount:0}:C))},[]),_=f.useCallback(async(j,k)=>{if(!e||!j)return!1;if(!$r(j))return xs.error("Invalid threadId provided to renameGroupChat"),!1;try{const C=k.trim().slice(0,100).replace(/[<>"'`]/g,""),{error:E}=await M.from("group_messages").insert({thread_id:j,sender_id:e,content:C?`Group renamed to "${C}"`:"Group name reset to default",thread_name:C||null,is_system_message:!0,system_message_type:"group_renamed"});if(E)throw E;return await M.from("group_messages").update({thread_name:C||null}).eq("thread_id",j),r(N=>N.map(O=>{if(O.threadId===j){const R=C||cp(O.participants||[],null);return{...O,name:R,customName:C||null}}return O})),g({title:"Group renamed",description:C?`Group name changed to "${C}"`:"Group name reset to default"}),!0}catch(C){return xs.error("Failed to rename group chat",C),g({title:"Error",description:"Failed to rename group. Please try again.",variant:"destructive"}),!1}},[e,g]);return{conversations:t,filteredConversations:b,loading:n,searchQuery:l,setSearchQuery:c,isSearching:p,refetch:y,renameGroupChat:_,markConversationAsReadLocally:S}};async function _d(e){if(e.length===0)return new Map;const{data:t}=await M.from("profiles").select("id, first_name, last_name").in("id",e);return new Map(t?.map(r=>[r.id,Kt(r.first_name,r.last_name)])||[])}async function S8(e){const{data:t}=await M.from("user_hidden_messages").select("message_id").eq("user_id",e);return new Set((t||[]).map(r=>r.message_id))}function bd(e,t,r,n){const o=e.sender_id===t,l=e.is_system_message||!1;let c;return o?c="You":l?c="System":c=r.get(e.sender_id)||"Unknown",{id:e.id,sender_id:e.sender_id,receiver_id:n?void 0:e.receiver_id,thread_id:n?e.thread_id:void 0,sender:c,text:e.content,time:Q1(new Date(e.created_at)),isOwn:o,created_at:e.created_at,read_at:e.read_at??null,image_url:e.image_url,file_url:e.file_url,file_name:e.file_name,isSystemMessage:l,systemMessageType:e.system_message_type,status:e.status||"sent"}}const E8=(e,t,r)=>{const[n,o]=f.useState([]),[l,c]=f.useState(!1),[d,h]=f.useState(null),{toast:p}=Or(),v=f.useCallback(async()=>{if(!e||!t)return null;const _=await S8(e);if(t.startsWith("thread:")){const j=t.replace("thread:",""),{data:k,error:C}=await M.from("group_messages").select("*").eq("thread_id",j).order("created_at",{ascending:!0});if(C)throw C;const E=(k||[]).filter(R=>!_.has(R.id)),N=[...new Set(E.map(R=>R.sender_id))],O=await _d(N);return{messages:E.map(R=>bd(R,e,O,!0)),threadId:j}}else{if(!$r(e)||!$r(t))return console.error("Invalid user IDs provided"),null;const{data:j,error:k}=await M.from("messages").select("*").or(g1(e,t)).order("created_at",{ascending:!0});if(k)throw k;const C=(j||[]).filter(O=>!_.has(O.id)),E=[...new Set(C.map(O=>O.sender_id))],N=await _d(E);return{messages:C.map(O=>bd(O,e,N,!1)),threadId:null}}},[e,t]),g=f.useCallback(async()=>{if(!e||!t)return;const _=new Date().toISOString();try{if(t.startsWith("thread:")){const j=t.replace("thread:",""),{data:k}=await M.from("group_messages").select("id, sender_id").eq("thread_id",j),C=(k||[]).filter(E=>E.sender_id!==e).map(E=>({message_id:E.id,user_id:e,read_at:_}));if(C.length>0)try{const{error:E}=await M.from("group_message_reads").upsert(C,{onConflict:"message_id,user_id"});E&&console.log("group_message_reads upsert failed",E);try{await M.from("group_messages").update({status:"read"}).in("id",C.map(N=>N.message_id)).neq("sender_id",e)}catch(N){console.log("Failed to update group message status",N)}}catch(E){console.log("group_message_reads upsert error",E)}}else{const{error:j}=await M.from("messages").update({read_at:_,status:"read"}).eq("receiver_id",e).eq("sender_id",t).is("read_at",null);if(j)throw console.error("markConversationAsRead DB error:",j),j;o(k=>k.map(C=>C.sender_id===t&&!C.read_at?{...C,read_at:_,status:"read"}:C))}}catch(j){console.log("markConversationAsRead failed",j)}},[e,t]);f.useEffect(()=>{if(!e||!t)return;o([]),c(!0);const _=async()=>{try{const E=await v();E&&(o(E.messages),h(E.threadId)),await g()}catch(E){console.error("Error loading messages:",E),p({title:"Error",description:"Failed to load messages",variant:"destructive"})}finally{c(!1)}};_();const j=`messages-${t}`;let k;if(t.startsWith("thread:")){const E=t.replace("thread:","");k=M.channel(j).on("postgres_changes",{event:"INSERT",schema:"public",table:"group_messages",filter:`thread_id=eq.${E}`},async N=>{const O=N.new;if(!O.is_system_message&&O.sender_id===e)return;const R=O.is_system_message?new Map:await _d([O.sender_id]),P=bd(O,e,R,!0);if(o(I=>[...I,P]),!O.is_system_message)try{const{error:I}=await M.from("group_message_reads").upsert({message_id:O.id,user_id:e,read_at:new Date().toISOString()},{onConflict:"message_id,user_id"});I&&console.log("Failed to mark message as read",I)}catch(I){console.log("Failed to mark message as read:",I)}}).subscribe()}else $r(t)&&(k=M.channel(j).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},async E=>{const N=E.new;if(!(N.sender_id===e&&N.receiver_id===t||N.sender_id===t&&N.receiver_id===e)||N.sender_id===e)return;const R=await _d([N.sender_id]),P=bd(N,e,R,!1);o(I=>[...I,P]);try{await M.from("messages").update({read_at:new Date().toISOString(),status:"read"}).eq("id",N.id).is("read_at",null)}catch(I){console.log("read_at update failed",I)}}).subscribe());const C=M.channel(`hidden-messages-${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"user_hidden_messages",filter:`user_id=eq.${e}`},async()=>{await _()}).subscribe();return()=>{k&&M.removeChannel(k),M.removeChannel(C)}},[e,t,p]);const y=async(_,j,k,C)=>{if(!e||!t)return{success:!1};const E=`temp-${Date.now()}`,N={id:E,sender_id:e,receiver_id:t.startsWith("thread:")?void 0:t,thread_id:d||void 0,sender:"You",text:_,time:Q1(new Date),isOwn:!0,created_at:new Date().toISOString(),image_url:j||null,file_url:k||null,file_name:C||null};o(O=>[...O,N]);try{let O=null,R=null;if(t.startsWith("thread:")&&d){const P=await M.from("group_messages").insert({thread_id:d,sender_id:e,content:_||(j?"[Image]":k?"[File]":""),image_url:j||null,file_url:k||null,file_name:C||null}).select().single();O=P.data,R=P.error}else{if(!$r(t))throw new Error("Invalid recipient ID");const P=await M.from("messages").insert({sender_id:e,receiver_id:t,content:_||(j?"[Image]":k?"[File]":""),image_url:j||null,file_url:k||null,file_name:C||null}).select().single();O=P.data,R=P.error}if(R)throw R;return O&&o(P=>P.map(I=>I.id===E?{...N,id:O.id,created_at:O.created_at}:I)),{success:!0,messageId:O?.id}}catch(O){return console.error("Error sending message:",O),o(R=>R.filter(P=>P.id!==E)),p({title:"Error",description:"Failed to send message",variant:"destructive"}),{success:!1}}},b=async _=>{if(!e)return!1;try{const j=n.find(k=>k.id===_);if(!j)return!1;if(j.sender_id!==e)return p({title:"Error",description:"You can only delete your own messages",variant:"destructive"}),!1;if(j.thread_id){const{error:k}=await M.from("group_messages").delete().eq("id",_).eq("sender_id",e);if(k)throw k}else{const{error:k}=await M.from("messages").delete().eq("id",_).eq("sender_id",e);if(k)throw k}return o(k=>k.filter(C=>C.id!==_)),!0}catch(j){return console.error("Error deleting message:",j),p({title:"Error",description:"Failed to delete message",variant:"destructive"}),!1}},S=f.useCallback(async()=>{if(!(!e||!t)){c(!0);try{const _=await v();_&&(o(_.messages),h(_.threadId))}catch(_){console.error("Error refetching messages:",_)}finally{c(!1)}}},[e,t,v]);return{messages:n,loadingMessages:l,sendMessage:y,deleteMessage:b,threadId:d,markConversationAsRead:g,refetchMessages:S}},Rd={images:["image/jpeg","image/jpg","image/png","image/gif","image/webp"],documents:["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],all:[]};Rd.all=[...Rd.images,...Rd.documents];const k8=10*1024*1024,J1=()=>{const[e,t]=f.useState(null),[r,n]=f.useState(null),[o,l]=f.useState(!1),c=f.useRef(null),{toast:d}=Or();return{selectedFile:e,filePreview:r,uploading:o,fileInputRef:c,handleFileSelect:y=>{const b=y.target.files?.[0];if(b){if(!Rd.all.includes(b.type)){d({title:"Invalid file type",description:"Please select an image (JPEG, PNG, GIF, WebP) or document (PDF, Word)",variant:"destructive"}),xs.security("Rejected file upload - invalid type",{fileType:b.type});return}if(b.size>k8){d({title:"File too large",description:"Please select a file smaller than 10MB",variant:"destructive"}),xs.security("Rejected file upload - too large",{fileSize:b.size});return}if(t(b),b.type.startsWith("image/")){const S=new FileReader;S.onloadend=()=>{n(S.result)},S.readAsDataURL(b)}else n(null)}},uploadFile:async y=>{if(!e)return null;l(!0);try{const b=e.name.split(".").pop(),S=`${Date.now()}_${Math.random().toString(36).substring(7)}.${b}`,_=`${y}/${S}`,{error:j}=await M.storage.from("message-files").upload(_,e);if(j)throw j;const{data:k}=M.storage.from("message-files").getPublicUrl(_);return{url:k.publicUrl,name:e.name,type:e.type}}catch(b){return xs.error("File upload failed",b),d({title:"Upload failed",description:"Failed to upload file",variant:"destructive"}),null}finally{l(!1)}},clearFileSelection:()=>{t(null),n(null),c.current&&(c.current.value="")},openFilePicker:()=>{c.current?.click()}}},C8=({conversation:e,isSelected:t,onClick:r})=>{const o=!e.isGroup||!e.participants?null:e.participants.map(l=>Kt(l.first_name,l.last_name)||"Unknown").join(", ");return s.jsx("div",{onClick:r,className:`p-4 border-b border-border cursor-pointer hover:bg-secondary transition-colors ${t?"bg-secondary":""}`,children:s.jsxs("div",{className:"flex items-start space-x-3 group",children:[s.jsx("div",{className:"relative",children:s.jsxs(lr,{className:"w-12 h-12",children:[s.jsx(cr,{src:e.avatarUrl||void 0,alt:e.name}),s.jsx(ur,{className:"bg-gold text-navy font-semibold",children:e.avatar})]})}),s.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1 gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[e.isGroup&&o?s.jsx(Rr,{children:s.jsxs(Ar,{delayDuration:300,children:[s.jsx(Pr,{asChild:!0,children:s.jsx("h4",{className:"font-semibold truncate cursor-default",children:e.name})}),s.jsx(Nr,{side:"top",className:"max-w-xs",children:s.jsx("p",{className:"text-sm",children:o})})]})}):s.jsx("h4",{className:"font-semibold truncate",children:e.name}),e.user_is_admin&&s.jsx(qe,{variant:"destructive",className:"text-xs flex-shrink-0",children:"Admin"}),e.user_role&&s.jsx(qe,{variant:e.user_role==="employer"?"default":e.user_role==="mentor"?"secondary":"outline",className:"text-xs flex-shrink-0",children:e.user_role.charAt(0).toUpperCase()+e.user_role.slice(1)}),e.user_badges&&e.user_badges.map(l=>{const c=l.badges;return c?s.jsx(Rr,{children:s.jsxs(Ar,{delayDuration:100,children:[s.jsx(Pr,{asChild:!0,children:s.jsx("div",{className:"cursor-help",children:c.image_url?s.jsx("img",{src:c.image_url,alt:c.name,className:"w-4 h-4 object-contain"}):c.icon?s.jsx("span",{className:"text-sm",children:c.icon}):null})}),s.jsx(Nr,{children:s.jsxs("div",{className:"text-xs",children:[s.jsx("p",{className:"font-semibold",children:c.name}),c.description&&s.jsx("p",{className:"text-xs mt-1",children:c.description})]})})]})},l.id):null})]}),s.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap flex-shrink-0",children:e.time})]}),s.jsx("p",{className:"text-xs text-muted-foreground truncate mb-1",children:e.role}),s.jsx("p",{className:`text-sm line-clamp-2 ${e.unread?"font-semibold text-foreground":"text-muted-foreground"}`,children:e.lastMessage})]}),e.unread&&s.jsx(qe,{variant:"secondary",className:"bg-gold text-navy px-2 py-0 h-5 flex items-center motion-safe:animate-pulse transition-transform group-hover:scale-105",title:`${e.unreadCount??1} unread`,children:e.unreadCount??1})]})})},T8=({conversations:e,selectedConversation:t,searchQuery:r,isSearching:n,onSearchChange:o,onSelectConversation:l,onComposeClick:c,className:d})=>s.jsxs("div",{className:d,children:[s.jsxs("div",{className:"p-4 border-b border-border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-xl font-heading font-bold",children:"Messages"}),c&&s.jsx(de,{variant:"ghost",size:"icon",onClick:c,title:"New message",children:s.jsx(Ng,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"relative",children:[n?s.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4",children:s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-muted-foreground border-t-transparent"})}):s.jsx(_g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ot,{placeholder:"Search messages",className:"pl-10",value:r,onChange:h=>o(h.target.value)})]})]}),s.jsx(Hc,{className:"flex-1",children:e.length===0?s.jsx("div",{className:"p-4 text-center text-muted-foreground",children:r.trim()?s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"No messages found"}),s.jsx("p",{className:"text-xs mt-2",children:"Try a different search term"})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"No conversations yet"}),s.jsx("p",{className:"text-xs mt-2",children:"Connect with others to start messaging"})]})}):e.map(h=>s.jsx(C8,{conversation:h,isSelected:t===h.id,onClick:()=>l(h.id)},h.id))})]}),R8=({conversation:e,onBack:t,showBackButton:r,onDeleteConversation:n,onRenameGroup:o,onStartDirectMessage:l})=>{const c=ts(),{toast:d}=Or(),[h,p]=f.useState(!1),[v,g]=f.useState(!1),[y,b]=f.useState(!1),[S,_]=f.useState(!1),[j,k]=f.useState(e.name),[C,E]=f.useState(!1),N=()=>{c(`/profile/${e.userId}`)},O=()=>{k(e.name),_(!0)},R=()=>{k(e.name),_(!1)},P=async()=>{if(!e.threadId||!o)return;E(!0);const B=await o(e.threadId,j);E(!1),B&&_(!1)},I=B=>{B.key==="Enter"?P():B.key==="Escape"&&R()},Z=async()=>{b(!0);try{const{data:{user:B}}=await M.auth.getUser();if(!B)throw new Error("Not authenticated");if(e.isGroup&&e.threadId){const{error:X}=await M.from("group_message_members").delete().eq("thread_id",e.threadId).eq("user_id",B.id);if(X)throw X;d({title:"Left group",description:"You have left the group conversation."})}else{if(!$r(B.id)||!$r(e.userId))throw new Error("Invalid user ID");const{data:X}=await M.from("messages").select("id").or(g1(B.id,e.userId));if(X&&X.length>0){const z=X.map(U=>({user_id:B.id,message_id:U.id})),{error:F}=await M.from("user_hidden_messages").upsert(z,{onConflict:"user_id,message_id"});if(F)throw F}d({title:"Conversation removed",description:"This conversation has been hidden from your list."})}p(!1),n?.()}catch(B){xs.error("Failed to delete conversation",B),d({title:"Error",description:e.isGroup?"Failed to leave the group. Please try again.":"Failed to delete the conversation. Please try again.",variant:"destructive"})}finally{b(!1)}};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[r&&s.jsx(de,{variant:"ghost",size:"icon",className:"md:hidden mr-2",onClick:t,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("path",{d:"m15 18-6-6 6-6"})})}),s.jsx("div",{className:"relative",children:e.isGroup?s.jsxs(lr,{className:"w-10 h-10",children:[s.jsx(cr,{src:e.avatarUrl||void 0,alt:e.name}),s.jsx(ur,{className:"bg-gold text-navy font-semibold",children:e.avatar})]}):s.jsx("button",{onClick:N,className:"cursor-pointer",children:s.jsxs(lr,{className:"w-10 h-10 hover:opacity-80 transition-opacity",children:[s.jsx(cr,{src:e.avatarUrl||void 0,alt:e.name}),s.jsx(ur,{className:"bg-gold text-navy font-semibold",children:e.avatar})]})})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.isGroup?S?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ot,{value:j,onChange:B=>k(B.target.value),onKeyDown:I,className:"h-7 w-40 text-sm font-semibold",placeholder:"Group name",autoFocus:!0,disabled:C,maxLength:100}),s.jsx(de,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:P,disabled:C,children:s.jsx(ih,{className:"h-4 w-4 text-green-600"})}),s.jsx(de,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:R,disabled:C,children:s.jsx(Fs,{className:"h-4 w-4 text-red-600"})})]}):s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("h3",{className:"font-semibold",children:e.name}),o&&s.jsx(Rr,{children:s.jsxs(Ar,{delayDuration:100,children:[s.jsx(Pr,{asChild:!0,children:s.jsx(de,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:O,children:s.jsx(sb,{className:"h-3.5 w-3.5 text-muted-foreground hover:text-foreground"})})}),s.jsx(Nr,{children:s.jsx("p",{children:"Rename group"})})]})})]}):s.jsx("button",{onClick:N,className:"font-semibold hover:text-gold transition-colors cursor-pointer",children:e.name}),e.user_is_admin&&s.jsx(qe,{variant:"destructive",className:"text-xs",children:"Admin"}),e.user_role&&s.jsx(qe,{variant:e.user_role==="employer"?"default":e.user_role==="mentor"?"secondary":"outline",className:"text-xs",children:e.user_role.charAt(0).toUpperCase()+e.user_role.slice(1)}),e.user_badges&&e.user_badges.map(B=>{const X=B.badges;return X?s.jsx(Rr,{children:s.jsxs(Ar,{delayDuration:100,children:[s.jsx(Pr,{asChild:!0,children:s.jsx("div",{className:"cursor-help",children:X.image_url?s.jsx("img",{src:X.image_url,alt:X.name,className:"w-5 h-5 object-contain"}):X.icon?s.jsx("span",{className:"text-base",children:X.icon}):null})}),s.jsx(Nr,{children:s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-semibold",children:X.name}),X.description&&s.jsx("p",{className:"text-xs mt-1",children:X.description})]})})]})},B.id):null})]}),s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:e.isGroup&&e.participants&&e.participants.length>0?s.jsx(Rr,{children:s.jsxs(Ar,{delayDuration:100,children:[s.jsx(Pr,{asChild:!0,children:s.jsxs("button",{onClick:()=>g(!0),className:"flex items-center gap-1 hover:text-foreground transition-colors cursor-pointer",children:[s.jsx(Vr,{className:"h-3 w-3"}),s.jsx("span",{children:e.role})]})}),s.jsx(Nr,{children:s.jsx("p",{children:"Click to view members"})})]})}):s.jsx("p",{children:e.role})})]})]}),s.jsxs(Zi,{children:[s.jsx(Xi,{asChild:!0,children:s.jsx(de,{variant:"ghost",size:"icon",children:s.jsx(ch,{className:"h-5 w-5"})})}),s.jsxs(Lo,{align:"end",children:[!e.isGroup&&s.jsxs(Zn,{onClick:N,children:[s.jsx(wp,{className:"h-4 w-4 mr-2"}),"View Profile"]}),!e.isGroup&&s.jsx(hv,{}),s.jsx(Zn,{onClick:()=>p(!0),className:"text-destructive",children:e.isGroup?s.jsxs(s.Fragment,{children:[s.jsx(gp,{className:"h-4 w-4 mr-2"}),"Leave Group"]}):s.jsxs(s.Fragment,{children:[s.jsx(ws,{className:"h-4 w-4 mr-2"}),"Delete Conversation"]})})]})]})]}),s.jsx($h,{open:h,onOpenChange:p,children:s.jsxs(Fc,{children:[s.jsxs(Uc,{children:[s.jsx(zc,{children:e.isGroup?"Leave Group":"Delete Conversation"}),s.jsx(Wc,{children:e.isGroup?`Are you sure you want to leave "${e.name}"? You will no longer receive messages from this group and it will be removed from your conversations.`:`Are you sure you want to delete this conversation with ${e.name}? This will permanently delete all messages and cannot be undone.`})]}),s.jsxs(Bc,{children:[s.jsx(qc,{disabled:y,children:"Cancel"}),s.jsx(Vc,{onClick:Z,disabled:y,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:y?e.isGroup?"Leaving...":"Deleting...":e.isGroup?"Leave Group":"Delete"})]})]})}),s.jsx(hn,{open:v,onOpenChange:g,children:s.jsxs(fn,{className:"sm:max-w-md",onOpenAutoFocus:B=>B.preventDefault(),children:[s.jsx(Cn,{children:s.jsxs(mn,{className:"flex items-center gap-2",children:[s.jsx(Vr,{className:"h-5 w-5"}),"Group Members"]})}),s.jsx(Hc,{className:"max-h-[400px] pr-4",children:s.jsxs("div",{className:"space-y-3",children:[e.participants?.map(B=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(lr,{className:"h-10 w-10",children:[s.jsx(cr,{src:B.avatar_url||void 0}),s.jsx(ur,{className:"bg-primary/10 text-primary",children:or(B.first_name,B.last_name)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:Kt(B.first_name,B.last_name)}),B.university&&s.jsx("p",{className:"text-xs text-muted-foreground",children:B.university})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Rr,{children:s.jsxs(Ar,{delayDuration:100,children:[s.jsx(Pr,{asChild:!0,children:s.jsx(de,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{g(!1),c(`/profile/${B.id}`)},children:s.jsx(wp,{className:"h-4 w-4"})})}),s.jsx(Nr,{children:"View Profile"})]})}),l&&s.jsx(Rr,{children:s.jsxs(Ar,{delayDuration:100,children:[s.jsx(Pr,{asChild:!0,children:s.jsx(de,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{g(!1),l(B.id)},children:s.jsx(Eo,{className:"h-4 w-4"})})}),s.jsx(Nr,{children:"Send Message"})]})})]})]},B.id)),(!e.participants||e.participants.length===0)&&s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No members found"})]})})]})})]})},A8=e=>(e.split(".").pop()?.toLowerCase(),s.jsx(Da,{className:"h-8 w-8"})),P8=e=>{try{const t=e.startsWith("www.")?`https://${e}`:e,r=new URL(t);return r.protocol!=="http:"&&r.protocol!=="https:"?null:r.href}catch{return null}},O8=(e,t)=>{const r=/(https?:\/\/[^\s]+|www\.[^\s]+)/gi;return e.split(r).map((o,l)=>{if(r.test(o)){r.lastIndex=0;const c=P8(o);return c?s.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:`underline hover:opacity-80 ${t?"text-navy":"text-gold"}`,children:o},l):o}return o})},D8=({message:e,onDelete:t,recipientAvatarUrl:r,recipientInitials:n})=>{const[o,l]=f.useState(!1),[c,d]=f.useState(!1),h=e.text&&e.text!=="[Image]"&&e.text!=="[File]"?e.text:null,p=e.read_at!==null&&e.read_at!==void 0,v=async()=>{t&&(d(!0),await t(e.id),d(!1),l(!1))};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`flex ${e.isOwn?"justify-end":"justify-start"} group`,children:s.jsxs("div",{className:"flex items-center gap-1",children:[e.isOwn&&t&&s.jsxs(Zi,{children:[s.jsx(Xi,{asChild:!0,children:s.jsx(de,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(ch,{className:"h-4 w-4"})})}),s.jsx(Lo,{align:"end",children:s.jsxs(Zn,{className:"text-destructive",onClick:()=>l(!0),children:[s.jsx(ws,{className:"h-4 w-4 mr-2"}),"Delete message"]})})]}),s.jsxs("div",{className:`max-w-md rounded-2xl px-4 py-2 ${e.isOwn?"bg-gold text-navy":"bg-secondary text-foreground"}`,children:[!e.isOwn&&s.jsx("p",{className:"text-xs font-semibold mb-1",children:e.sender}),e.image_url&&s.jsx("img",{src:e.image_url,alt:"Attached",className:"rounded-lg max-w-full h-auto mb-2 cursor-pointer hover:opacity-90",onClick:()=>window.open(e.image_url,"_blank")}),e.file_url&&e.file_name&&s.jsxs("a",{href:e.file_url,target:"_blank",rel:"noopener noreferrer",className:`flex items-center gap-3 p-3 rounded-lg mb-2 hover:opacity-80 transition-opacity ${e.isOwn?"bg-navy/10":"bg-background/50"}`,children:[A8(e.file_name),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:e.file_name}),s.jsx("p",{className:"text-xs opacity-70",children:"Click to download"})]}),s.jsx(yg,{className:"h-4 w-4 flex-shrink-0"})]}),h&&s.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:O8(h,e.isOwn)}),e.isQuickPrompt&&s.jsx("div",{className:"mt-2 pt-2 border-t border-navy/20",children:s.jsx("p",{className:"text-xs font-semibold",children:e.promptType==="mentorship"?" Mentorship Request":" Opportunity Inquiry"})}),s.jsxs("p",{className:`text-xs mt-1 flex items-center justify-end gap-1 ${e.isOwn?"text-navy/70":"text-muted-foreground"}`,children:[e.time,e.isOwn&&s.jsx("span",{className:"ml-1 inline-flex items-center",children:p?s.jsxs(lr,{className:"h-4 w-4",title:"Seen",children:[s.jsx(cr,{src:r||void 0}),s.jsx(ur,{className:"text-[8px] bg-gold text-navy",children:n||"?"})]}):s.jsx("span",{title:"Sent",children:s.jsx(ih,{className:"h-3.5 w-3.5"})})})]})]})]})}),s.jsx($h,{open:o,onOpenChange:l,children:s.jsxs(Fc,{children:[s.jsxs(Uc,{children:[s.jsx(zc,{children:"Delete message?"}),s.jsx(Wc,{children:"This action cannot be undone. This will permanently delete your message."})]}),s.jsxs(Bc,{children:[s.jsx(qc,{disabled:c,children:"Cancel"}),s.jsx(Vc,{onClick:v,disabled:c,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:c?"Deleting...":"Delete"})]})]})})]})};function I8(e){const t=M8(e),r=f.forwardRef((n,o)=>{const{children:l,...c}=n,d=f.Children.toArray(l),h=d.find($8);if(h){const p=h.props.children,v=d.map(g=>g===h?f.Children.count(p)>1?f.Children.only(null):f.isValidElement(p)?p.props.children:null:g);return s.jsx(t,{...c,ref:o,children:f.isValidElement(p)?f.cloneElement(p,void 0,v):null})}return s.jsx(t,{...c,ref:o,children:l})});return r.displayName=`${e}.Slot`,r}function M8(e){const t=f.forwardRef((r,n)=>{const{children:o,...l}=r;if(f.isValidElement(o)){const c=U8(o),d=F8(l,o.props);return o.type!==f.Fragment&&(d.ref=n?$s(n,c):c),f.cloneElement(o,d)}return f.Children.count(o)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var L8=Symbol("radix.slottable");function $8(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===L8}function F8(e,t){const r={...t};for(const n in t){const o=e[n],l=t[n];/^on[A-Z]/.test(n)?o&&l?r[n]=(...d)=>{const h=l(...d);return o(...d),h}:o&&(r[n]=o):n==="style"?r[n]={...o,...l}:n==="className"&&(r[n]=[o,l].filter(Boolean).join(" "))}return{...e,...r}}function U8(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Bh="Popover",[Z1]=vn(Bh,[Qa]),Gc=Qa(),[B8,Xa]=Z1(Bh),X1=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:o,onOpenChange:l,modal:c=!1}=e,d=Gc(t),h=f.useRef(null),[p,v]=f.useState(!1),[g,y]=Is({prop:n,defaultProp:o??!1,onChange:l,caller:Bh});return s.jsx(Eh,{...d,children:s.jsx(B8,{scope:t,contentId:Qn(),triggerRef:h,open:g,onOpenChange:y,onOpenToggle:f.useCallback(()=>y(b=>!b),[y]),hasCustomAnchor:p,onCustomAnchorAdd:f.useCallback(()=>v(!0),[]),onCustomAnchorRemove:f.useCallback(()=>v(!1),[]),modal:c,children:r})})};X1.displayName=Bh;var eE="PopoverAnchor",z8=f.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=Xa(eE,r),l=Gc(r),{onCustomAnchorAdd:c,onCustomAnchorRemove:d}=o;return f.useEffect(()=>(c(),()=>d()),[c,d]),s.jsx(Ic,{...l,...n,ref:t})});z8.displayName=eE;var tE="PopoverTrigger",rE=f.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=Xa(tE,r),l=Gc(r),c=wt(t,o.triggerRef),d=s.jsx(st.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":iE(o.open),...n,ref:c,onClick:Ee(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?d:s.jsx(Ic,{asChild:!0,...l,children:d})});rE.displayName=tE;var yv="PopoverPortal",[W8,V8]=Z1(yv,{forceMount:void 0}),nE=e=>{const{__scopePopover:t,forceMount:r,children:n,container:o}=e,l=Xa(yv,t);return s.jsx(W8,{scope:t,forceMount:r,children:s.jsx(qr,{present:r||l.open,children:s.jsx(zi,{asChild:!0,container:o,children:n})})})};nE.displayName=yv;var Mi="PopoverContent",sE=f.forwardRef((e,t)=>{const r=V8(Mi,e.__scopePopover),{forceMount:n=r.forceMount,...o}=e,l=Xa(Mi,e.__scopePopover);return s.jsx(qr,{present:n||l.open,children:l.modal?s.jsx(H8,{...o,ref:t}):s.jsx(G8,{...o,ref:t})})});sE.displayName=Mi;var q8=I8("PopoverContent.RemoveScroll"),H8=f.forwardRef((e,t)=>{const r=Xa(Mi,e.__scopePopover),n=f.useRef(null),o=wt(t,n),l=f.useRef(!1);return f.useEffect(()=>{const c=n.current;if(c)return yh(c)},[]),s.jsx(Cc,{as:q8,allowPinchZoom:!0,children:s.jsx(aE,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(e.onCloseAutoFocus,c=>{c.preventDefault(),l.current||r.triggerRef.current?.focus()}),onPointerDownOutside:Ee(e.onPointerDownOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,p=d.button===2||h;l.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:Ee(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),G8=f.forwardRef((e,t)=>{const r=Xa(Mi,e.__scopePopover),n=f.useRef(!1),o=f.useRef(!1);return s.jsx(aE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{e.onCloseAutoFocus?.(l),l.defaultPrevented||(n.current||r.triggerRef.current?.focus(),l.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:l=>{e.onInteractOutside?.(l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=l.target;r.triggerRef.current?.contains(c)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),aE=f.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:v,...g}=e,y=Xa(Mi,r),b=Gc(r);return vh(),s.jsx(kc,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:l,children:s.jsx(Do,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:v,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:p,onDismiss:()=>y.onOpenChange(!1),children:s.jsx(kh,{"data-state":iE(y.open),role:"dialog",id:y.contentId,...b,...g,ref:t,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),oE="PopoverClose",K8=f.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=Xa(oE,r);return s.jsx(st.button,{type:"button",...n,ref:t,onClick:Ee(e.onClick,()=>o.onOpenChange(!1))})});K8.displayName=oE;var Y8="PopoverArrow",Q8=f.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=Gc(r);return s.jsx(Ch,{...o,...n,ref:t})});Q8.displayName=Y8;function iE(e){return e?"open":"closed"}var J8=X1,Z8=rE,X8=nE,lE=sE;const e6=J8,t6=Z8,cE=f.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},o)=>s.jsx(X8,{children:s.jsx(lE,{ref:o,align:t,sideOffset:r,className:Ae("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));cE.displayName=lE.displayName;const uE={Achievement:["","","","","","","",""],Performance:["","","","","","","",""],Professional:["","","","","","","",""],"Skills & Growth":["","","","","","","",""],Community:["","","","","","","",""]},r6=({open:e,onOpenChange:t,onEmojiSelect:r})=>s.jsxs(e6,{open:e,onOpenChange:t,children:[s.jsx(t6,{asChild:!0,children:s.jsx(de,{variant:"ghost",size:"icon",children:s.jsx(ab,{className:"h-5 w-5"})})}),s.jsx(cE,{className:"w-80 p-2",side:"top",align:"start",children:s.jsx("div",{className:"space-y-3",children:Object.entries(uE).map(([n,o])=>s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:n}),s.jsx("div",{className:"flex flex-wrap gap-1",children:o.map((l,c)=>s.jsx("button",{onClick:()=>r(l),className:"text-xl hover:bg-secondary rounded p-1 transition-colors",children:l},c))})]},n))})})]}),n6=({messageText:e,onMessageChange:t,onSend:r,onFileClick:n,fileInputRef:o,onFileSelect:l,selectedFile:c,filePreview:d,onClearFile:h,uploading:p,showEmojiPicker:v,onEmojiPickerChange:g,onEmojiSelect:y})=>{const b=S=>{S.key==="Enter"&&!S.shiftKey&&r()};return s.jsxs("div",{className:"p-4 border-t border-border",children:[(d||c)&&s.jsxs("div",{className:"mb-3 relative inline-block",children:[d?s.jsx("img",{src:d,alt:"Preview",className:"rounded-lg max-h-32 border-2 border-border"}):s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 border-2 border-border rounded-lg bg-secondary",children:[s.jsx(mw,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:c?.name}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",(c.size/1024).toFixed(1)," KB)"]})]}),s.jsx(de,{variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full",onClick:h,children:""})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{ref:o,type:"file",onChange:l,className:"hidden"}),s.jsx(de,{variant:"ghost",size:"icon",onClick:n,disabled:p,children:s.jsx(mw,{className:"h-5 w-5"})}),s.jsx(r6,{open:v,onOpenChange:g,onEmojiSelect:y}),s.jsx(ot,{placeholder:"Type a message...",value:e,onChange:S=>t(S.target.value),onKeyPress:b,className:"flex-1",disabled:p}),s.jsx(de,{onClick:r,className:"bg-gold hover:bg-gold-light text-navy",disabled:p||!e.trim()&&!c,children:p?s.jsx(oa,{}):s.jsx(bg,{className:"h-4 w-4"})})]})]})},s6=({conversation:e,onSelectPrompt:t})=>s.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-4",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("h4",{className:"font-semibold text-lg mb-2",children:"Start the conversation"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Use a quick prompt or write your own message"})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 justify-center",children:[e.connectionType==="mentor"&&s.jsxs(de,{variant:"outline",className:"gap-2",onClick:()=>t("mentorship"),children:[s.jsx(tc,{className:"h-4 w-4"}),"Request Mentorship"]}),e.connectionType==="employer"&&s.jsxs(de,{variant:"outline",className:"gap-2",onClick:()=>t("opportunity"),children:[s.jsx(ys,{className:"h-4 w-4"}),"Discuss Opportunity"]}),e.connectionType==="peer"&&s.jsxs(de,{variant:"outline",className:"gap-2",onClick:()=>t("mentorship"),children:[s.jsx(n2,{className:"h-4 w-4"}),"Connect & Collaborate"]})]})]}),a6=({currentUserId:e,onBack:t,onConversationCreated:r,className:n})=>{const[o,l]=f.useState([]),[c,d]=f.useState([]),[h,p]=f.useState([]),[v,g]=f.useState(""),[y,b]=f.useState(!1),[S,_]=f.useState(!1),j=f.useCallback(async()=>{if(e){b(!0);try{const{data:N,error:O}=await M.from("connections").select("connected_user_id").eq("user_id",e);if(O)throw O;if(N&&N.length>0){const{data:R,error:P}=await M.from("profiles").select("id, first_name, last_name, avatar_url, university").in("id",N.map(U=>U.connected_user_id));if(P)throw P;const I=R||[],Z=I.map(U=>U.id),[B,{data:X}]=await Promise.all([ea(Z),M.from("user_badges").select(`
                            id,
                            user_id,
                            badge_id,
                            created_at,
                            badges(id, name, description, icon, image_url, color_bg, color_text, is_active)
                        `).in("user_id",Z)]),z=new Map;X?.forEach(U=>{z.has(U.user_id)||z.set(U.user_id,[]),z.get(U.user_id).push(U)});const F=I.map(U=>{const le=B.get(U.id);return{...U,user_role:le?.baseRole??null,user_is_admin:le?.hasAdminRole??!1,user_badges:z.get(U.id)||[]}});l(F),d(F)}else l([]),d([])}catch(N){console.error("Error fetching connections:",N)}finally{b(!1)}}},[e]);f.useEffect(()=>{j()},[j]),f.useEffect(()=>{if(!v.trim())d(o.filter(N=>!h.some(O=>O.id===N.id)));else{const N=v.toLowerCase();d(o.filter(O=>{const R=Kt(O.first_name,O.last_name).toLowerCase();return!h.some(I=>I.id===O.id)&&(R.includes(N)||O.university?.toLowerCase().includes(N))}))}},[v,o,h]);const k=N=>{p(O=>[...O,N]),g("")},C=N=>{p(O=>O.filter(R=>R.id!==N))},E=async()=>{if(!(h.length===0||!e)){_(!0);try{if(!(h.length>1)){r(h[0].id);return}const O=[e,...h.map(F=>F.id)].sort(),{data:R}=await M.from("group_message_members").select("thread_id").eq("user_id",e),P=[...new Set(R?.map(F=>F.thread_id)||[])];if(P.length>0){const{data:F}=await M.from("group_message_members").select("thread_id, user_id").in("thread_id",P),U=new Map;(F||[]).forEach(le=>{const V=U.get(le.thread_id)||[];V.push(le.user_id),U.set(le.thread_id,V)});for(const le of P){const V=(U.get(le)||[]).sort();if(V.length===O.length&&V.every((ee,D)=>ee===O[D])){r(`thread:${le}`);return}}}const I=crypto.randomUUID(),Z=[e,...h.map(F=>F.id)].map(F=>({thread_id:I,user_id:F})),{error:B}=await M.from("group_message_members").insert(Z);if(B)throw B;const X=h.map(F=>Kt(F.first_name,F.last_name)).join(", "),{error:z}=await M.from("group_messages").insert({thread_id:I,sender_id:e,content:`Started a group conversation with ${X}`});if(z)throw z;console.log("Group conversation created successfully, thread ID:",I),r(`thread:${I}`)}catch(N){console.error("Error creating conversation:",N),alert(`Failed to create conversation: ${N instanceof Error?N.message:"Unknown error"}`)}finally{_(!1)}}};return s.jsxs("div",{className:n,children:[s.jsx("div",{className:"p-4 border-b border-border",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(de,{variant:"ghost",size:"icon",onClick:t,children:s.jsx(H_,{className:"h-5 w-5"})}),s.jsx("h2",{className:"text-lg font-semibold",children:"New Message"})]})}),s.jsxs("div",{className:"p-4 border-b border-border space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:"To:"}),s.jsx("div",{className:"flex-1 flex flex-wrap gap-2",children:h.map(N=>s.jsxs(qe,{variant:"secondary",className:"flex items-center gap-1 pl-1 pr-2 py-1",children:[s.jsxs(lr,{className:"h-5 w-5",children:[s.jsx(cr,{src:N.avatar_url||void 0}),s.jsx(ur,{className:"text-[10px]",children:or(N.first_name,N.last_name)})]}),s.jsx("span",{className:"text-sm",children:Kt(N.first_name,N.last_name)}),s.jsx("button",{onClick:()=>C(N.id),className:"ml-1 hover:text-destructive",children:s.jsx(Fs,{className:"h-3 w-3"})})]},N.id))})]}),s.jsxs("div",{className:"relative",children:[s.jsx(_g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ot,{placeholder:"Search connections...",className:"pl-10",value:v,onChange:N=>g(N.target.value)})]})]}),s.jsx(Hc,{className:"flex-1",children:y?s.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[s.jsx(qt,{className:"h-6 w-6 animate-spin mx-auto mb-2"}),s.jsx("p",{className:"text-sm",children:"Loading connections..."})]}):c.length===0?s.jsx("div",{className:"p-8 text-center text-muted-foreground",children:o.length===0?s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"No connections found"}),s.jsx("p",{className:"text-xs mt-2",children:"Connect with others first to start messaging"})]}):v?s.jsx("p",{className:"text-sm",children:"No matching connections"}):s.jsx("p",{className:"text-sm",children:"All connections selected"})}):s.jsx("div",{className:"p-2",children:c.map(N=>s.jsxs("button",{onClick:()=>k(N),className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-muted transition-colors text-left",children:[s.jsxs(lr,{className:"h-10 w-10",children:[s.jsx(cr,{src:N.avatar_url||void 0}),s.jsx(ur,{children:or(N.first_name,N.last_name)})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-1 mb-0.5",children:[s.jsx("p",{className:"font-medium truncate",children:Kt(N.first_name,N.last_name)}),N.user_is_admin&&s.jsx(qe,{variant:"destructive",className:"text-[10px] px-1 py-0 flex-shrink-0",children:"Admin"}),N.user_role&&s.jsx(qe,{variant:N.user_role==="employer"?"default":N.user_role==="mentor"?"secondary":"outline",className:"text-[10px] px-1 py-0 flex-shrink-0",children:N.user_role.charAt(0).toUpperCase()+N.user_role.slice(1)}),N.user_badges&&N.user_badges.length>0&&s.jsx(Rr,{children:N.user_badges.map(O=>{const R=O.badges;return R?s.jsxs(Ar,{delayDuration:100,children:[s.jsx(Pr,{asChild:!0,children:s.jsx("div",{className:"cursor-help",children:R.image_url?s.jsx("img",{src:R.image_url,alt:R.name,className:"w-4 h-4 object-contain"}):R.icon?s.jsx("span",{className:"text-sm",children:R.icon}):null})}),s.jsxs(Nr,{side:"top",className:"text-xs",children:[s.jsx("div",{className:"font-semibold",children:R.name}),R.description&&s.jsx("div",{className:"text-xs mt-1",children:R.description})]})]},O.id):null})})]}),N.university&&s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:N.university})]})]},N.id))})}),h.length>0&&s.jsx("div",{className:"p-4 border-t border-border",children:s.jsx(de,{onClick:E,disabled:S,className:"w-full",children:S?s.jsxs(s.Fragment,{children:[s.jsx(qt,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):s.jsxs(s.Fragment,{children:["Start ",h.length>1?"Group ":"","Conversation"]})})})]})},o6=({date:e,onDeleteBefore:t})=>{const[r,n]=f.useState(!1),o=typeof e=="string"?new Date(e):e,l=new Date,c=p=>{const v=p.getFullYear(),g=String(p.getMonth()+1).padStart(2,"0"),y=String(p.getDate()).padStart(2,"0");return`${v}-${g}-${y}`},d=(()=>{const p=c(o),v=c(l),g=new Date(l);g.setDate(l.getDate()-1);const y=c(g);return p===v?"Today":p===y?"Yesterday":na(o)})(),h=()=>{t?.(o),n(!1)};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"my-6 flex items-center gap-2","aria-label":d,role:"separator",children:[s.jsx("div",{className:"flex-1 border-t border-border"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-muted-foreground bg-muted px-3 py-1 rounded-full",children:d}),t&&s.jsxs(Zi,{children:[s.jsx(Xi,{asChild:!0,children:s.jsx("button",{className:"p-1 rounded-md hover:bg-muted text-muted-foreground hover:text-foreground transition-colors",title:`Options for ${d}`,"aria-label":`Options for ${d}`,children:s.jsx(ch,{className:"w-4 h-4"})})}),s.jsx(Lo,{align:"center",side:"top",children:s.jsxs(Zn,{onClick:()=>n(!0),className:"text-destructive focus:text-destructive cursor-pointer",children:[s.jsx(ws,{className:"w-4 h-4 mr-2"}),"Delete Before ",d]})})]})]}),s.jsx("div",{className:"flex-1 border-t border-border"})]}),s.jsx($h,{open:r,onOpenChange:n,children:s.jsxs(Fc,{children:[s.jsxs(Uc,{children:[s.jsxs(zc,{children:["Delete Messages Before ",d,"?"]}),s.jsxs(Wc,{children:["This will permanently delete all your messages before ",d,". This action cannot be undone."]})]}),s.jsxs(Bc,{children:[s.jsx(qc,{children:"Cancel"}),s.jsx(Vc,{onClick:h,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})},i6=({message:e})=>s.jsx("div",{className:"flex justify-center my-4",children:s.jsx("div",{className:"bg-muted px-3 py-1.5 rounded-full",children:s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:e.text})})}),l6=()=>{const[e,t]=Ag(),[r,n]=f.useState(null),[o,l]=f.useState(null),[c,d]=f.useState(!0),[h,p]=f.useState(!1),[v,g]=f.useState(!0),[y,b]=f.useState(""),[S,_]=f.useState(!1),j=f.useRef(null),{filteredConversations:k,loading:C,searchQuery:E,setSearchQuery:N,isSearching:O,conversations:R,refetch:P,renameGroupChat:I,markConversationAsReadLocally:Z}=N8(r),B=R.find(De=>De.id===o),[X,z]=f.useState(null);f.useEffect(()=>{if(!o||o.startsWith("thread:")||!$r(o)){z(null);return}if(R.find(Y=>Y.id===o)){z(null);return}(async()=>{try{const{data:Y}=await M.from("profiles").select("id, first_name, last_name, avatar_url, university, degree").eq("id",o).single();Y&&z(Y)}catch(Y){xs.error("Failed to fetch partner profile",Y)}})()},[o,R]);const F=B||(o?.startsWith("thread:")?{id:o,threadId:o.replace("thread:",""),name:"Group Chat",avatar:"GC",avatarUrl:null,role:"Loading...",connectionType:"peer",lastMessage:"",time:"",isConnected:!0,userId:"",isGroup:!0,participants:[]}:o&&$r(o)?X?{id:o,name:`${X.first_name||""} ${X.last_name||""}`.trim()||"Unknown User",avatar:or(X.first_name,X.last_name),avatarUrl:X.avatar_url,role:X.university||"LaceUP Member",connectionType:"peer",lastMessage:"",time:"",isConnected:!0,userId:o,isGroup:!1,participants:[X]}:{id:o,name:"Loading...",avatar:"?",avatarUrl:null,role:"Loading...",connectionType:"peer",lastMessage:"",time:"",isConnected:!0,userId:o,isGroup:!1,participants:[]}:null),{messages:U,loadingMessages:le,sendMessage:V,deleteMessage:ee,markConversationAsRead:D,refetchMessages:H}=E8(r,o,F?.isGroup),{selectedFile:te,filePreview:A,uploading:$,fileInputRef:J,handleFileSelect:ce,uploadFile:G,clearFileSelection:pe,openFilePicker:oe}=J1();f.useEffect(()=>{(async()=>{const{data:{user:Ze}}=await M.auth.getUser();Ze&&n(Ze.id)})()},[]),f.useEffect(()=>{const De=e.get("userId");if(De&&R.length>0&&$r(De)){const Ze=R.find(Y=>Y.id===De||Y.userId===De);if(Ze){l(Ze.id),d(!1),p(!1),e.delete("userId"),t(e,{replace:!0});return}}R.length>0&&!o&&!h&&(l(R[0].id),d(!1))},[R,o,e,t,h]),f.useEffect(()=>{j.current?.scrollIntoView({behavior:"smooth"})},[U]),f.useEffect(()=>{o&&(le||requestAnimationFrame(()=>{j.current?.scrollIntoView({behavior:"smooth"})}))},[o,le]);const ue=async De=>{l(De),g(!0),d(!1),p(!1),Z(De),D()},Re=()=>{p(!0),d(!1),l(null)},ve=async De=>{console.log("Conversation created, selecting:",De),p(!1),d(!1),g(!0),l(De),Z(De),D(),P()},re=()=>{p(!1),d(!0),R.length>0&&!o&&l(R[0].id)},he=De=>{if(!De||!$r(De))return;const Ze=R.find(Y=>!Y.isGroup&&Y.userId===De);Ze?ue(Ze.id):ve(De)},Ne=De=>{b(Ze=>Ze+De),_(!1)},dt=async()=>{if(!y.trim()&&!te||!r)return;let De=null,Ze=null,Y=null;if(te){const at=await G(r);at&&(at.type.startsWith("image/")?De=at.url:(Ze=at.url,Y=at.name))}(await V(y||(De?"[Image]":Ze?"[File]":""),De,Ze,Y)).success&&(b(""),pe(),g(!1),P())},pt=async De=>{(await V(De==="mentorship"?"Hi! I'd love to request your mentorship. I'm really interested in learning from your experience and would appreciate any guidance you could provide.":"Hi! I saw your recent opportunity post and I'm very interested in discussing it further. I believe my skills and background would be a great fit.")).success&&g(!1)},jt=async()=>{l(null);const De=await P();De&&De.length>0?(l(De[0].id),d(!1)):d(!0)},St=async De=>{const Ze=at=>{const nt=at.getFullYear(),dr=String(at.getMonth()+1).padStart(2,"0"),er=String(at.getDate()).padStart(2,"0");return`${nt}-${dr}-${er}`},Y=Ze(De);if(!r){xs.warn("No current user ID for hiding messages");return}const me=U.filter(at=>{const nt=at.created_at||at.createdAt||null,dr=nt?Ze(new Date(nt)):null;return nt&&dr?dr<Y:!1});if(me.length===0)return;const He=me.map(at=>({user_id:r,message_id:at.id}));try{const{error:at}=await M.from("user_hidden_messages").upsert(He,{onConflict:"user_id,message_id"});if(at)throw at;xs.info("Messages hidden successfully",{count:me.length}),await H(),await P()}catch(at){xs.error("Failed to hide messages",at)}};return C?s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6",children:s.jsx(Ye,{className:"h-[calc(100vh-10rem)] flex items-center justify-center",children:s.jsx(oa,{text:"Loading conversations..."})})}):s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6",children:s.jsxs(Ye,{className:"h-[calc(100vh-10rem)] flex overflow-hidden",children:[s.jsx(T8,{conversations:k,selectedConversation:o,searchQuery:E,isSearching:O,onSearchChange:N,onSelectConversation:ue,onComposeClick:Re,className:`${c?"flex":"hidden"} md:flex w-full md:w-fit md:max-w-[30rem] border-r border-border flex-col`}),h&&s.jsx(a6,{currentUserId:r,onBack:re,onConversationCreated:ve,className:`${!c||h?"flex":"hidden"} md:flex flex-1 flex-col`}),!h&&F?s.jsxs("div",{className:`${c?"hidden":"flex"} md:flex flex-1 flex-col`,children:[s.jsx(R8,{conversation:F,onBack:async()=>{o&&Z(o),D(),d(!0)},showBackButton:!0,onDeleteConversation:jt,onRenameGroup:F.isGroup?I:void 0,onStartDirectMessage:F.isGroup?he:void 0}),s.jsx(Hc,{className:"flex-1 p-4",children:s.jsx("div",{className:"space-y-4",children:le?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(oa,{text:"Loading messages..."})}):s.jsxs(s.Fragment,{children:[v&&U.length<=1&&F&&!F.isGroup&&s.jsx(s6,{conversation:F,onSelectPrompt:pt}),(()=>{const De=[];let Ze=null;const Y=me=>{const He=me.getFullYear(),at=String(me.getMonth()+1).padStart(2,"0"),nt=String(me.getDate()).padStart(2,"0");return`${He}-${at}-${nt}`};for(const me of U){const He=me.created_at||me.createdAt||null,at=He?new Date(He):null,nt=at?Y(at):null;nt&&nt!==Ze&&(De.push(s.jsx(o6,{date:at,onDeleteBefore:r?St:void 0},`day-${nt}`)),Ze=nt),De.push(me.isSystemMessage?s.jsx(i6,{message:me},me.id):s.jsx(D8,{message:me,onDelete:ee,recipientAvatarUrl:F?.avatarUrl,recipientInitials:F?.avatar},me.id))}return De})(),s.jsx("div",{ref:j})]})})}),s.jsx(n6,{messageText:y,onMessageChange:b,onSend:dt,onFileClick:oe,fileInputRef:J,onFileSelect:ce,selectedFile:te,filePreview:A,onClearFile:pe,uploading:$,showEmojiPicker:S,onEmojiPickerChange:_,onEmojiSelect:Ne})]}):!h&&s.jsx("div",{className:"flex-1 hidden md:flex items-center justify-center text-muted-foreground",children:s.jsx("p",{children:"Select a conversation to start messaging"})})]})})};var zh="Tabs",[c6]=vn(zh,[Ji]),dE=Ji(),[u6,wv]=c6(zh),hE=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:o,defaultValue:l,orientation:c="horizontal",dir:d,activationMode:h="automatic",...p}=e,v=Ki(d),[g,y]=Is({prop:n,onChange:o,defaultProp:l??"",caller:zh});return s.jsx(u6,{scope:r,baseId:Qn(),value:g,onValueChange:y,orientation:c,dir:v,activationMode:h,children:s.jsx(st.div,{dir:v,"data-orientation":c,...p,ref:t})})});hE.displayName=zh;var fE="TabsList",mE=f.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...o}=e,l=wv(fE,r),c=dE(r);return s.jsx(nv,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:n,children:s.jsx(st.div,{role:"tablist","aria-orientation":l.orientation,...o,ref:t})})});mE.displayName=fE;var pE="TabsTrigger",gE=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:o=!1,...l}=e,c=wv(pE,r),d=dE(r),h=yE(c.baseId,n),p=wE(c.baseId,n),v=n===c.value;return s.jsx(sv,{asChild:!0,...d,focusable:!o,active:v,children:s.jsx(st.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":p,"data-state":v?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:h,...l,ref:t,onMouseDown:Ee(e.onMouseDown,g=>{!o&&g.button===0&&g.ctrlKey===!1?c.onValueChange(n):g.preventDefault()}),onKeyDown:Ee(e.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&c.onValueChange(n)}),onFocus:Ee(e.onFocus,()=>{const g=c.activationMode!=="manual";!v&&!o&&g&&c.onValueChange(n)})})})});gE.displayName=pE;var vE="TabsContent",xE=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:o,children:l,...c}=e,d=wv(vE,r),h=yE(d.baseId,n),p=wE(d.baseId,n),v=n===d.value,g=f.useRef(v);return f.useEffect(()=>{const y=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(y)},[]),s.jsx(qr,{present:o||v,children:({present:y})=>s.jsx(st.div,{"data-state":v?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":h,hidden:!y,id:p,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:g.current?"0s":void 0},children:y&&l})})});xE.displayName=vE;function yE(e,t){return`${e}-trigger-${t}`}function wE(e,t){return`${e}-content-${t}`}var d6=hE,_E=mE,bE=gE,jE=xE;const Kc=d6,tl=f.forwardRef(({className:e,...t},r)=>s.jsx(_E,{ref:r,className:Ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));tl.displayName=_E.displayName;const dn=f.forwardRef(({className:e,...t},r)=>s.jsx(bE,{ref:r,className:Ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));dn.displayName=bE.displayName;const kn=f.forwardRef(({className:e,...t},r)=>s.jsx(jE,{ref:r,className:Ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));kn.displayName=jE.displayName;const h6=()=>{const[e,t]=f.useState([]),[r,n]=f.useState([]),[o,l]=f.useState([]),[c,d]=f.useState({}),h=async Y=>{const{data:me,error:He}=await M.from("opportunity_applications").select("*, user:applicant_id(id, full_name, email, avatar_url)").eq("opportunity_id",Y);if(!He&&me){const at=me.filter(nt=>nt.user&&typeof nt.user=="object"&&"id"in nt.user).map(nt=>({opportunity_id:nt.opportunity_id,applicant_id:nt.applicant_id,cover_letter:nt.cover_letter,created_at:nt.created_at,user:{id:nt.user.id,full_name:nt.user.full_name,email:nt.user.email,avatar_url:nt.user.avatar_url}}));d(nt=>({...nt,[Y]:at}))}},[p,v]=f.useState(!0),[g,y]=f.useState(null),[b,S]=f.useState(null),[_,j]=f.useState("all"),[k,C]=f.useState(""),[E,N]=f.useState("all"),[O,R]=f.useState(""),[P,I]=f.useState({type:"job",title:"",company_name:"",location:"",location_type:"on-site",employment_level:"full-time",career_interest:"",description:"",requirements:"",compensation:"",mentorship_slots:"",application_deadline:""}),[Z,B]=f.useState(!1),[X,z]=f.useState(null),[F,U]=f.useState(null),[le,V]=f.useState(""),{toast:ee}=Or(),D=Y=>{if(!Y)return"Not set";const me=new Date(Y);return Number.isNaN(me.getTime())?"Not set":me.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})},[H,te]=f.useState(null),{selectedFile:A,uploading:$,fileInputRef:J,handleFileSelect:ce,uploadFile:G,clearFileSelection:pe}=J1();f.useEffect(()=>{(async()=>{const{data:{user:me}}=await M.auth.getUser();if(!me)return;const{data:He}=await M.from("profiles").select("resume_url").eq("id",me.id).single();te(He?.resume_url??null)})()},[]);const oe=f.useCallback(()=>{let Y=[...e];_!=="all"&&(Y=Y.filter(me=>me.type===_)),k&&(Y=Y.filter(me=>me.location?.toLowerCase().includes(k.toLowerCase())||me.location_type?.toLowerCase().includes(k.toLowerCase()))),E!=="all"&&(Y=Y.filter(me=>me.employment_level===E)),O&&(Y=Y.filter(me=>me.career_interest?.toLowerCase().includes(O.toLowerCase())||me.title.toLowerCase().includes(O.toLowerCase()))),n(Y)},[e,_,k,E,O]);f.useEffect(()=>{oe()},[oe]);const ue=async()=>{const{data:Y,error:me}=await M.from("opportunities").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(!me&&Y){const He=[...new Set(Y.map(_e=>_e.posted_by))],{data:at}=await M.from("profiles").select("id, first_name, last_name").in("id",He),nt=new Map(at?.map(_e=>[_e.id,_e])||[]),dr=await ea(He),{data:er}=await M.from("user_badges").select("user_id, badge_id, badges(id, name, description, image_url, icon)").in("user_id",He),zt=new Map;er&&er.forEach(_e=>{const Oe=_e.user_id,Se=_e.badges;Se&&(zt.has(Oe)||zt.set(Oe,[]),zt.get(Oe).push({id:Se.id,name:Se.name,description:Se.description||void 0,image_url:Se.image_url||void 0,icon:Se.icon||void 0}))});const se=Y.map(_e=>{const Oe=nt.get(_e.posted_by),Se=dr.get(_e.posted_by)||{baseRole:null,hasAdminRole:!1};return{..._e,posted_by_name:Oe?`${Oe.first_name||""} ${Oe.last_name||""}`.trim():null,posted_by_role:Se.baseRole,posted_by_is_admin:Se.hasAdminRole,user_badges:zt.get(_e.posted_by)||[]}});t(se)}v(!1)},Re=async()=>{const{data:{user:Y}}=await M.auth.getUser();if(!Y)return;const{data:me,error:He}=await M.from("opportunity_applications").select(`
        opportunity_id,
        created_at,
        opportunity:opportunity_id (
          id,
          type,
          title,
          company_name,
          location,
          location_type,
          employment_level,
          career_interest,
          description,
          compensation,
          mentorship_slots,
          application_deadline,
          created_at,
          posted_by
        )
      `).eq("applicant_id",Y.id).order("created_at",{ascending:!1});!He&&me&&l(me)},ve=async()=>{const{data:{user:Y}}=await M.auth.getUser();if(!Y){S(null);return}const{baseRole:me}=await wc(Y.id);S(me)};f.useEffect(()=>{(async()=>{const{data:{user:me}}=await M.auth.getUser();y(me?.id??null),await ve(),await ue(),await Re()})()},[]);const re=async Y=>{Y.preventDefault();const{data:{user:me}}=await M.auth.getUser();if(!me)return;if(!De){ee({title:"Not allowed",description:"Only mentors, employers, and admins can post opportunities.",variant:"destructive"});return}const He=P.requirements.split(`
`).filter(nt=>nt.trim()!=="");let at=null;if(X){const{error:nt}=await M.from("opportunities").update({type:P.type,title:P.title,company_name:P.company_name,location:P.location||null,location_type:P.location_type,employment_level:P.employment_level,career_interest:P.career_interest||null,description:P.description,requirements:He.length>0?He:null,compensation:P.compensation||null,mentorship_slots:P.mentorship_slots?parseInt(P.mentorship_slots):null,application_deadline:P.application_deadline||null}).eq("id",X);at=nt}else{const{error:nt}=await M.from("opportunities").insert({posted_by:me.id,type:P.type,title:P.title,company_name:P.company_name,location:P.location||null,location_type:P.location_type,employment_level:P.employment_level,career_interest:P.career_interest||null,description:P.description,requirements:He.length>0?He:null,compensation:P.compensation||null,mentorship_slots:P.mentorship_slots?parseInt(P.mentorship_slots):null,application_deadline:P.application_deadline||null});at=nt}if(at){ee({title:"Error",description:"Failed to post opportunity.",variant:"destructive"});return}ee({title:"Success!",description:"Opportunity posted successfully."}),B(!1),I({type:"job",title:"",company_name:"",location:"",location_type:"on-site",employment_level:"full-time",career_interest:"",description:"",requirements:"",compensation:"",mentorship_slots:"",application_deadline:""}),z(null),ue()},he=async Y=>{if(!window.confirm("Are you sure you want to delete this opportunity?"))return;const{error:He}=await M.from("opportunities").update({is_active:!1}).eq("id",Y);if(He){ee({title:"Error",description:"Failed to delete opportunity.",variant:"destructive"});return}ee({title:"Deleted",description:"Opportunity removed."}),ue()},Ne=Y=>{I({type:Y.type,title:Y.title,company_name:Y.company_name,location:Y.location||"",location_type:Y.location_type||"on-site",employment_level:Y.employment_level||"full-time",career_interest:Y.career_interest||"",description:Y.description,requirements:Y.requirements?Y.requirements.join(`
`):"",compensation:Y.compensation||"",mentorship_slots:Y.mentorship_slots?String(Y.mentorship_slots):"",application_deadline:Y.application_deadline||""}),z(Y.id),B(!0)},dt=async Y=>{const{data:{user:me}}=await M.auth.getUser();if(!me){ee({title:"Error",description:"You must be logged in to apply.",variant:"destructive"});return}if(!Ze){ee({title:"Not allowed",description:"Only athletes and admins can apply to opportunities.",variant:"destructive"}),U(null);return}let He=H;if(!H&&A){const nt=await G(me.id);nt&&nt.url&&(He=nt.url,await M.from("profiles").update({resume_url:He}).eq("id",me.id),te(He),pe())}const{error:at}=await M.from("opportunity_applications").insert({opportunity_id:Y,applicant_id:me.id,cover_letter:le||null});if(at){ee({title:"Error",description:at.message.includes("duplicate")?"You've already applied to this opportunity.":"Failed to apply.",variant:"destructive"}),U(null),V("");return}ee({title:"Success!",description:"Your application has been submitted."}),U(null),V(""),Re()},pt=Y=>o.some(me=>me.opportunity_id===Y),jt=Y=>{switch(Y){case"job":return s.jsx(ys,{className:"h-5 w-5"});case"internship":return s.jsx(tc,{className:"h-5 w-5"});case"mentorship":return s.jsx(Vr,{className:"h-5 w-5"});default:return s.jsx(ys,{className:"h-5 w-5"})}},St=Y=>{switch(Y){case"job":return"default";case"internship":return"secondary";case"mentorship":return"outline";default:return"default"}},De=b==="mentor"||b==="employer"||b==="admin",Ze=b==="athlete"||b==="admin";return p?s.jsx("div",{className:"container mx-auto p-8 pt-24",children:s.jsx(oa,{fullPage:!0,text:"Loading opportunities..."})}):s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-4xl font-heading font-bold text-foreground mb-2",children:"Opportunities Board"}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Find mentorships, internships, and career opportunities tailored for athletes"})]}),De?s.jsxs(hn,{open:Z,onOpenChange:B,children:[s.jsx(Ei,{asChild:!0,children:s.jsxs(de,{className:"bg-gold hover:bg-gold/90 text-navy",children:[s.jsx(ko,{className:"h-4 w-4 mr-2"}),"Post Opportunity"]})}),s.jsxs(fn,{className:"w-[95vw] sm:w-full sm:max-w-2xl max-h-[90vh] overflow-y-auto bg-background border-border",children:[s.jsxs(Cn,{children:[s.jsx(mn,{children:"Post an Opportunity"}),s.jsx(Tn,{children:"Share a job, internship, or mentorship opportunity with athletes"})]}),s.jsxs("form",{onSubmit:re,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{children:"Opportunity Type"}),s.jsxs(Ua,{value:P.type,onValueChange:Y=>I({...P,type:Y}),children:[s.jsx(ta,{children:s.jsx(Ba,{})}),s.jsxs(ra,{className:"bg-background border border-border z-50",children:[s.jsx(Vt,{value:"job",children:"Job"}),s.jsx(Vt,{value:"internship",children:"Internship"}),s.jsx(Vt,{value:"mentorship",children:"Mentorship"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Me,{htmlFor:"title",children:["Title ",s.jsx("span",{style:{color:"red"},children:"*"})]}),s.jsx(ot,{id:"title",value:P.title,onChange:Y=>I({...P,title:Y.target.value}),placeholder:"e.g., Marketing Intern",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Me,{htmlFor:"company",children:["Company/Organization ",s.jsx("span",{style:{color:"red"},children:"*"})]}),s.jsx(ot,{id:"company",value:P.company_name,onChange:Y=>I({...P,company_name:Y.target.value}),placeholder:"e.g., Nike",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{htmlFor:"location",children:"Location"}),s.jsx(ot,{id:"location",value:P.location,onChange:Y=>I({...P,location:Y.target.value}),placeholder:"e.g., New York, NY"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{children:"Location Type"}),s.jsxs(Ua,{value:P.location_type,onValueChange:Y=>I({...P,location_type:Y}),children:[s.jsx(ta,{children:s.jsx(Ba,{})}),s.jsxs(ra,{className:"bg-background border border-border z-50",children:[s.jsx(Vt,{value:"on-site",children:"On-site"}),s.jsx(Vt,{value:"remote",children:"Remote"}),s.jsx(Vt,{value:"hybrid",children:"Hybrid"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{children:"Employment Level"}),s.jsxs(Ua,{value:P.employment_level,onValueChange:Y=>I({...P,employment_level:Y}),children:[s.jsx(ta,{children:s.jsx(Ba,{})}),s.jsxs(ra,{className:"bg-background border border-border z-50",children:[s.jsx(Vt,{value:"internship",children:"Internship"}),s.jsx(Vt,{value:"part-time",children:"Part-time"}),s.jsx(Vt,{value:"full-time",children:"Full-time"}),s.jsx(Vt,{value:"mentorship",children:"Mentorship"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{htmlFor:"career",children:"Career Interest"}),s.jsx(ot,{id:"career",value:P.career_interest,onChange:Y=>I({...P,career_interest:Y.target.value}),placeholder:"e.g., Sports Marketing"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Me,{htmlFor:"description",children:["Description ",s.jsx("span",{style:{color:"red"},children:"*"})]}),s.jsx(Zr,{id:"description",value:P.description,onChange:Y=>I({...P,description:Y.target.value}),placeholder:"Describe the opportunity...",rows:4,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{htmlFor:"requirements",children:"Requirements (one per line)"}),s.jsx(Zr,{id:"requirements",value:P.requirements,onChange:Y=>I({...P,requirements:Y.target.value}),placeholder:`Bachelor's degree
2+ years experience
Strong communication skills`,rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{htmlFor:"compensation",children:"Compensation"}),s.jsx(ot,{id:"compensation",value:P.compensation,onChange:Y=>I({...P,compensation:Y.target.value}),placeholder:"e.g., $50,000 - $70,000"})]}),P.type==="mentorship"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{htmlFor:"slots",children:"Available Slots"}),s.jsx(ot,{id:"slots",type:"number",value:P.mentorship_slots,onChange:Y=>I({...P,mentorship_slots:Y.target.value}),placeholder:"e.g., 5"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{htmlFor:"deadline",children:"Application Deadline"}),s.jsx(ot,{id:"deadline",type:"date",value:P.application_deadline,onChange:Y=>I({...P,application_deadline:Y.target.value})})]})]}),s.jsx(de,{type:"submit",className:"w-full bg-gold hover:bg-gold/90 text-navy",children:"Post Opportunity"})]})]})]}):s.jsx("div",{className:"text-sm text-muted-foreground text-right",children:"Only mentors, employers, and admins can post opportunities."})]}),s.jsxs(Kc,{defaultValue:"available",className:"space-y-6",children:[s.jsxs(tl,{className:"bg-muted",children:[s.jsx(dn,{value:"available",children:"Available Opportunities"}),s.jsx(dn,{value:"applications",children:"My Applications"})]}),s.jsxs(kn,{value:"available",className:"space-y-6",children:[s.jsxs(Ye,{className:"bg-card border-border",children:[s.jsx(yr,{children:s.jsxs(wr,{className:"flex items-center gap-2 text-lg",children:[s.jsx(Z_,{className:"h-5 w-5"}),"Filter Opportunities"]})}),s.jsxs(Jt,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{children:"Opportunity Type"}),s.jsxs("div",{className:"flex gap-2 p-1 bg-muted rounded-lg",children:[s.jsx("button",{onClick:()=>j("all"),className:`flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded transition-all font-medium ${_==="all"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"All"}),s.jsx("button",{onClick:()=>j("job"),className:`flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded transition-all font-medium ${_==="job"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"Jobs"}),s.jsx("button",{onClick:()=>j("internship"),className:`flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded transition-all font-medium ${_==="internship"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"Internships"}),s.jsx("button",{onClick:()=>j("mentorship"),className:`flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded transition-all font-medium ${_==="mentorship"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"Mentorships"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{htmlFor:"location-filter",children:"Location"}),s.jsx(ot,{id:"location-filter",placeholder:"Search location...",value:k,onChange:Y=>C(Y.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{children:"Level"}),s.jsxs(Ua,{value:E,onValueChange:N,children:[s.jsx(ta,{children:s.jsx(Ba,{placeholder:"All levels"})}),s.jsxs(ra,{className:"bg-background border border-border z-50",children:[s.jsx(Vt,{value:"all",children:"All levels"}),s.jsx(Vt,{value:"internship",children:"Internship"}),s.jsx(Vt,{value:"part-time",children:"Part-time"}),s.jsx(Vt,{value:"full-time",children:"Full-time"}),s.jsx(Vt,{value:"mentorship",children:"Mentorship"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{htmlFor:"career-filter",children:"Career Interest"}),s.jsx(ot,{id:"career-filter",placeholder:"Search career field...",value:O,onChange:Y=>R(Y.target.value)})]})]})]})]}),s.jsx("div",{className:"space-y-4",children:r.length===0?s.jsxs(Ye,{className:"p-8 text-center bg-card border-border",children:[s.jsx(ys,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),s.jsx("p",{className:"text-muted-foreground",children:"No opportunities found matching your filters."})]}):r.map(Y=>s.jsxs(Ye,{className:"bg-card border-border hover:border-gold transition-colors",children:[s.jsx(yr,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-navy/10 text-navy",children:jt(Y.type)}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(wr,{className:"text-xl",children:Y.title}),s.jsx(qe,{variant:St(Y.type),children:Y.type.charAt(0).toUpperCase()+Y.type.slice(1)}),pt(Y.id)&&s.jsxs(qe,{variant:"outline",className:"border-green-500 text-green-600",children:[s.jsx(rc,{className:"h-3 w-3 mr-1 fill-current"}),"Applied"]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(hw,{className:"h-4 w-4"}),Y.company_name]}),Y.location&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ad,{className:"h-4 w-4"}),Y.location]}),Y.location_type&&s.jsx(qe,{variant:"secondary",className:"text-xs",children:Y.location_type})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[Ze&&g!==Y.posted_by&&s.jsxs(hn,{open:F===Y.id,onOpenChange:me=>!me&&U(null),children:[s.jsx(Ei,{asChild:!0,children:s.jsx(de,{variant:pt(Y.id)?"outline":"default",className:pt(Y.id)?"":"bg-gold hover:bg-gold/90 text-navy",disabled:pt(Y.id),onClick:()=>U(Y.id),children:pt(Y.id)?"Applied":"Express Interest"})}),s.jsxs(fn,{className:"w-[95vw] sm:w-full sm:max-w-md max-h-[90vh] overflow-y-auto bg-background border-border",children:[s.jsxs(Cn,{children:[s.jsxs(mn,{children:["Apply to ",Y.title]}),s.jsxs(Tn,{children:["Submit your application for this ",Y.type]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{htmlFor:"cover-letter",children:"Cover Letter (Optional)"}),s.jsx(Zr,{id:"cover-letter",value:le,onChange:me=>V(me.target.value),placeholder:"Tell them why you're interested...",rows:6})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{children:"Resume"}),H?s.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:s.jsx("a",{href:H,target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-700",children:"View My Resume"})}):s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("input",{id:"resume-upload",type:"file",accept:".pdf,.doc,.docx,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",ref:J,onChange:ce,className:"block w-full text-sm text-muted-foreground file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-muted file:text-navy hover:file:bg-muted/80",disabled:$}),A&&s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx("span",{children:A.name}),s.jsx(de,{size:"sm",variant:"outline",onClick:pe,type:"button",children:"Remove"})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"No resume uploaded in your profile. Upload to use for this and future applications."})]})]}),s.jsx(de,{onClick:()=>dt(Y.id),className:"w-full bg-gold hover:bg-gold/90 text-navy",disabled:$,children:$?s.jsx(oa,{text:"Uploading..."}):s.jsxs(s.Fragment,{children:[s.jsx(bg,{className:"h-4 w-4 mr-2"}),"Submit Application"]})})]})]})]}),!Ze&&g!==Y.posted_by&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Only athletes and admins can apply to opportunities."}),g===Y.posted_by&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(hn,{children:[s.jsx(Ei,{asChild:!0,children:s.jsxs(de,{variant:"secondary",size:"sm",onClick:async()=>{c[Y.id]||await h(Y.id)},title:"View Applicants",children:[s.jsx(Vr,{className:"h-4 w-4 mr-1"}),"View Applicants"]})}),s.jsxs(fn,{className:"w-[95vw] sm:w-full sm:max-w-lg max-h-[90vh] overflow-y-auto bg-background border-border",children:[s.jsxs(Cn,{children:[s.jsxs(mn,{children:["Applicants for ",Y.title]}),s.jsx(Tn,{children:"See all users who have applied to this opportunity."})]}),s.jsx("div",{className:"space-y-4",children:c[Y.id]&&c[Y.id].length>0?s.jsx("ul",{className:"divide-y divide-border",children:c[Y.id].map((me,He)=>s.jsxs("li",{className:"py-3 flex items-center gap-3",children:[me.user?.avatar_url?s.jsx("img",{src:me.user.avatar_url,alt:"avatar",className:"w-8 h-8 rounded-full"}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center text-lg font-bold text-navy",children:me.user?.full_name?.[0]||me.user?.email?.[0]||"?"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-foreground",children:me.user?.full_name||me.user?.email||"Unknown"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:me.user?.email}),me.cover_letter&&s.jsxs("div",{className:"mt-1 text-xs text-muted-foreground",children:[s.jsx("span",{className:"font-semibold",children:"Cover Letter:"})," ",me.cover_letter]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Applied ",me.created_at?new Date(me.created_at).toLocaleString():""]})]})]},me.applicant_id||He))}):s.jsx("div",{className:"text-muted-foreground text-center",children:"No applicants yet."})})]})]}),s.jsx(de,{variant:"outline",size:"sm",onClick:()=>Ne(Y),title:"Edit",children:s.jsx(Ng,{className:"h-4 w-4"})}),s.jsx(de,{variant:"destructive",size:"sm",onClick:()=>he(Y.id),title:"Delete",children:s.jsx(ws,{className:"h-4 w-4"})})]})]})]})}),s.jsxs(Jt,{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-3 text-sm",children:[Y.employment_level&&s.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[s.jsx(J_,{className:"h-4 w-4"}),Y.employment_level.charAt(0).toUpperCase()+Y.employment_level.slice(1)]}),Y.compensation&&s.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[s.jsx(fw,{className:"h-4 w-4"}),Y.compensation]}),Y.mentorship_slots&&s.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[s.jsx(Vr,{className:"h-4 w-4"}),Y.mentorship_slots," slots available"]}),Y.application_deadline&&s.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[s.jsx(xg,{className:"h-4 w-4"}),"Apply by ",D(Y.application_deadline)]})]}),Y.career_interest&&s.jsx("div",{children:s.jsx(qe,{variant:"outline",className:"border-gold text-gold",children:Y.career_interest})}),s.jsx(nn,{className:"text-sm leading-relaxed",children:Y.description}),Y.requirements&&Y.requirements.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold mb-2",children:"Requirements:"}),s.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground",children:Y.requirements.map((me,He)=>s.jsx("li",{children:me},He))})]}),s.jsx("div",{className:"text-xs text-muted-foreground pt-2 border-t border-border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{children:["Posted ",D(Y.created_at)]}),Y.posted_by_name&&s.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[s.jsxs("span",{children:["by ",Y.posted_by_name]}),Y.posted_by_is_admin&&s.jsx(qe,{variant:"destructive",className:"text-xs px-1.5 py-0.5",children:"Admin"}),Y.posted_by_role&&s.jsx(qe,{variant:Y.posted_by_role==="employer"?"default":Y.posted_by_role==="mentor"?"secondary":"outline",className:"text-xs px-1.5 py-0.5",children:Y.posted_by_role.charAt(0).toUpperCase()+Y.posted_by_role.slice(1)}),Y.user_badges&&Y.user_badges.length>0&&s.jsx(Rr,{children:Y.user_badges.map(me=>s.jsxs(Ar,{delayDuration:100,children:[s.jsx(Pr,{asChild:!0,children:s.jsx("div",{className:"cursor-help",children:me.image_url?s.jsx("img",{src:me.image_url,alt:me.name,className:"w-6 h-6 object-contain"}):me.icon?s.jsx("span",{className:"text-lg",children:me.icon}):null})}),s.jsxs(Nr,{side:"top",className:"text-xs",children:[s.jsx("div",{className:"font-semibold",children:me.name}),me.description&&s.jsx("div",{className:"text-xs mt-1",children:me.description})]})]},me.id))})]})]})})]})]},Y.id))})]}),s.jsx(kn,{value:"applications",children:s.jsxs(Ye,{className:"bg-card border-border",children:[s.jsxs(yr,{children:[s.jsxs(wr,{className:"flex items-center gap-2 text-lg",children:[s.jsx(rc,{className:"h-5 w-5"}),"My Applications"]}),s.jsx(nn,{children:"See every opportunity you have applied to."})]}),s.jsxs(Jt,{children:[o.length===0&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"You have not applied to any opportunities yet."}),o.length>0&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map(Y=>{const me=Y.opportunity;return me?s.jsxs(Ye,{className:"border-border",children:[s.jsx(yr,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qe,{variant:St(me.type),children:me.type.charAt(0).toUpperCase()+me.type.slice(1)}),me.application_deadline&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Deadline ",D(me.application_deadline)]})]}),s.jsx(wr,{className:"text-lg leading-tight",children:me.title}),s.jsxs(nn,{className:"flex flex-wrap items-center gap-3 text-sm",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(hw,{className:"h-4 w-4"}),me.company_name]}),me.location&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ad,{className:"h-4 w-4"}),me.location]}),me.employment_level&&s.jsx(qe,{variant:"secondary",className:"text-xs",children:me.employment_level})]})]}),s.jsxs("div",{className:"text-xs text-muted-foreground text-right whitespace-nowrap",children:["Applied ",D(Y.created_at||me.created_at)]})]})}),s.jsxs(Jt,{className:"space-y-3 pt-0",children:[me.career_interest&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(qe,{variant:"outline",className:"text-xs",children:"Career"}),s.jsx("span",{children:me.career_interest})]}),me.compensation&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(fw,{className:"h-4 w-4"}),s.jsx("span",{children:me.compensation})]}),s.jsx("p",{className:"text-sm text-foreground line-clamp-3",children:me.description})]})]},`${Y.opportunity_id}-${Y.created_at}`):s.jsx(Ye,{className:"border-border",children:s.jsx(Jt,{className:"p-4 text-sm text-muted-foreground",children:"This opportunity is no longer available."})},Y.opportunity_id)})})]})]})})]})]})})},jo=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:Ae("w-full caption-bottom text-sm",e),...t})}));jo.displayName="Table";const No=f.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:Ae("[&_tr]:border-b",e),...t}));No.displayName="TableHeader";const So=f.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:Ae("[&_tr:last-child]:border-0",e),...t}));So.displayName="TableBody";const f6=f.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:Ae("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));f6.displayName="TableFooter";const En=f.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:Ae("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));En.displayName="TableRow";const Pt=f.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:Ae("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Pt.displayName="TableHead";const Rt=f.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:Ae("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Rt.displayName="TableCell";const m6=f.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:Ae("mt-4 text-sm text-muted-foreground",e),...t}));m6.displayName="TableCaption";var _v="Radio",[p6,NE]=vn(_v),[g6,v6]=p6(_v),SE=f.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:o=!1,required:l,disabled:c,value:d="on",onCheck:h,form:p,...v}=e,[g,y]=f.useState(null),b=wt(t,j=>y(j)),S=f.useRef(!1),_=g?p||!!g.closest("form"):!0;return s.jsxs(g6,{scope:r,checked:o,disabled:c,children:[s.jsx(st.button,{type:"button",role:"radio","aria-checked":o,"data-state":TE(o),"data-disabled":c?"":void 0,disabled:c,value:d,...v,ref:b,onClick:Ee(e.onClick,j=>{o||h?.(),_&&(S.current=j.isPropagationStopped(),S.current||j.stopPropagation())})}),_&&s.jsx(CE,{control:g,bubbles:!S.current,name:n,value:d,checked:o,required:l,disabled:c,form:p,style:{transform:"translateX(-100%)"}})]})});SE.displayName=_v;var EE="RadioIndicator",kE=f.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...o}=e,l=v6(EE,r);return s.jsx(qr,{present:n||l.checked,children:s.jsx(st.span,{"data-state":TE(l.checked),"data-disabled":l.disabled?"":void 0,...o,ref:t})})});kE.displayName=EE;var x6="RadioBubbleInput",CE=f.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...o},l)=>{const c=f.useRef(null),d=wt(c,l),h=AS(r),p=uN(t);return f.useEffect(()=>{const v=c.current;if(!v)return;const g=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(g,"checked").set;if(h!==r&&b){const S=new Event("click",{bubbles:n});b.call(v,r),v.dispatchEvent(S)}},[h,r,n]),s.jsx(st.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:d,style:{...o.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});CE.displayName=x6;function TE(e){return e?"checked":"unchecked"}var y6=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Wh="RadioGroup",[w6]=vn(Wh,[Ji,NE]),RE=Ji(),AE=NE(),[_6,b6]=w6(Wh),PE=f.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:o,value:l,required:c=!1,disabled:d=!1,orientation:h,dir:p,loop:v=!0,onValueChange:g,...y}=e,b=RE(r),S=Ki(p),[_,j]=Is({prop:l,defaultProp:o??null,onChange:g,caller:Wh});return s.jsx(_6,{scope:r,name:n,required:c,disabled:d,value:_,onValueChange:j,children:s.jsx(nv,{asChild:!0,...b,orientation:h,dir:S,loop:v,children:s.jsx(st.div,{role:"radiogroup","aria-required":c,"aria-orientation":h,"data-disabled":d?"":void 0,dir:S,...y,ref:t})})})});PE.displayName=Wh;var OE="RadioGroupItem",DE=f.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...o}=e,l=b6(OE,r),c=l.disabled||n,d=RE(r),h=AE(r),p=f.useRef(null),v=wt(t,p),g=l.value===o.value,y=f.useRef(!1);return f.useEffect(()=>{const b=_=>{y6.includes(_.key)&&(y.current=!0)},S=()=>y.current=!1;return document.addEventListener("keydown",b),document.addEventListener("keyup",S),()=>{document.removeEventListener("keydown",b),document.removeEventListener("keyup",S)}},[]),s.jsx(sv,{asChild:!0,...d,focusable:!c,active:g,children:s.jsx(SE,{disabled:c,required:l.required,checked:g,...h,...o,name:l.name,ref:v,onCheck:()=>l.onValueChange(o.value),onKeyDown:Ee(b=>{b.key==="Enter"&&b.preventDefault()}),onFocus:Ee(o.onFocus,()=>{y.current&&p.current?.click()})})})});DE.displayName=OE;var j6="RadioGroupIndicator",IE=f.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,o=AE(r);return s.jsx(kE,{...o,...n,ref:t})});IE.displayName=j6;var ME=PE,LE=DE,N6=IE;const $E=f.forwardRef(({className:e,...t},r)=>s.jsx(ME,{className:Ae("grid gap-2",e),...t,ref:r}));$E.displayName=ME.displayName;const og=f.forwardRef(({className:e,...t},r)=>s.jsx(LE,{ref:r,className:Ae("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(N6,{className:"flex items-center justify-center",children:s.jsx(lh,{className:"h-2.5 w-2.5 fill-current text-current"})})}));og.displayName=LE.displayName;var Ut;(function(e){e.assertEqual=o=>{};function t(o){}e.assertIs=t;function r(o){throw new Error}e.assertNever=r,e.arrayToEnum=o=>{const l={};for(const c of o)l[c]=c;return l},e.getValidEnumValues=o=>{const l=e.objectKeys(o).filter(d=>typeof o[o[d]]!="number"),c={};for(const d of l)c[d]=o[d];return e.objectValues(c)},e.objectValues=o=>e.objectKeys(o).map(function(l){return o[l]}),e.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const l=[];for(const c in o)Object.prototype.hasOwnProperty.call(o,c)&&l.push(c);return l},e.find=(o,l)=>{for(const c of o)if(l(c))return c},e.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function n(o,l=" | "){return o.map(c=>typeof c=="string"?`'${c}'`:c).join(l)}e.joinValues=n,e.jsonStringifyReplacer=(o,l)=>typeof l=="bigint"?l.toString():l})(Ut||(Ut={}));var X0;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(X0||(X0={}));const Ke=Ut.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ma=e=>{switch(typeof e){case"undefined":return Ke.undefined;case"string":return Ke.string;case"number":return Number.isNaN(e)?Ke.nan:Ke.number;case"boolean":return Ke.boolean;case"function":return Ke.function;case"bigint":return Ke.bigint;case"symbol":return Ke.symbol;case"object":return Array.isArray(e)?Ke.array:e===null?Ke.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ke.promise:typeof Map<"u"&&e instanceof Map?Ke.map:typeof Set<"u"&&e instanceof Set?Ke.set:typeof Date<"u"&&e instanceof Date?Ke.date:Ke.object;default:return Ke.unknown}},Te=Ut.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ls extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(l){return l.message},n={_errors:[]},o=l=>{for(const c of l.issues)if(c.code==="invalid_union")c.unionErrors.map(o);else if(c.code==="invalid_return_type")o(c.returnTypeError);else if(c.code==="invalid_arguments")o(c.argumentsError);else if(c.path.length===0)n._errors.push(r(c));else{let d=n,h=0;for(;h<c.path.length;){const p=c.path[h];h===c.path.length-1?(d[p]=d[p]||{_errors:[]},d[p]._errors.push(r(c))):d[p]=d[p]||{_errors:[]},d=d[p],h++}}};return o(this),n}static assert(t){if(!(t instanceof Ls))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ut.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const o of this.issues)if(o.path.length>0){const l=o.path[0];r[l]=r[l]||[],r[l].push(t(o))}else n.push(t(o));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ls.create=e=>new Ls(e);const ig=(e,t)=>{let r;switch(e.code){case Te.invalid_type:e.received===Ke.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Te.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Ut.jsonStringifyReplacer)}`;break;case Te.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ut.joinValues(e.keys,", ")}`;break;case Te.invalid_union:r="Invalid input";break;case Te.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ut.joinValues(e.options)}`;break;case Te.invalid_enum_value:r=`Invalid enum value. Expected ${Ut.joinValues(e.options)}, received '${e.received}'`;break;case Te.invalid_arguments:r="Invalid function arguments";break;case Te.invalid_return_type:r="Invalid function return type";break;case Te.invalid_date:r="Invalid date";break;case Te.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Ut.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Te.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Te.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Te.custom:r="Invalid input";break;case Te.invalid_intersection_types:r="Intersection results could not be merged";break;case Te.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Te.not_finite:r="Number must be finite";break;default:r=t.defaultError,Ut.assertNever(e)}return{message:r}};let S6=ig;function E6(){return S6}const k6=e=>{const{data:t,path:r,errorMaps:n,issueData:o}=e,l=[...r,...o.path||[]],c={...o,path:l};if(o.message!==void 0)return{...o,path:l,message:o.message};let d="";const h=n.filter(p=>!!p).slice().reverse();for(const p of h)d=p(c,{data:t,defaultError:d}).message;return{...o,path:l,message:d}};function $e(e,t){const r=E6(),n=k6({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===ig?void 0:ig].filter(o=>!!o)});e.common.issues.push(n)}class Bn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const o of r){if(o.status==="aborted")return xt;o.status==="dirty"&&t.dirty(),n.push(o.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const o of r){const l=await o.key,c=await o.value;n.push({key:l,value:c})}return Bn.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const o of r){const{key:l,value:c}=o;if(l.status==="aborted"||c.status==="aborted")return xt;l.status==="dirty"&&t.dirty(),c.status==="dirty"&&t.dirty(),l.value!=="__proto__"&&(typeof c.value<"u"||o.alwaysSet)&&(n[l.value]=c.value)}return{status:t.value,value:n}}}const xt=Object.freeze({status:"aborted"}),Ql=e=>({status:"dirty",value:e}),ns=e=>({status:"valid",value:e}),e_=e=>e.status==="aborted",t_=e=>e.status==="dirty",Li=e=>e.status==="valid",Zd=e=>typeof Promise<"u"&&e instanceof Promise;var Je;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(Je||(Je={}));class Ka{constructor(t,r,n,o){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const r_=(e,t)=>{if(Li(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ls(e.common.issues);return this._error=r,this._error}}};function At(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:o}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:o}:{errorMap:(c,d)=>{const{message:h}=e;return c.code==="invalid_enum_value"?{message:h??d.defaultError}:typeof d.data>"u"?{message:h??n??d.defaultError}:c.code!=="invalid_type"?{message:d.defaultError}:{message:h??r??d.defaultError}},description:o}}class $t{get description(){return this._def.description}_getType(t){return Ma(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Ma(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Bn,ctx:{common:t.parent.common,data:t.data,parsedType:Ma(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Zd(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ma(t)},o=this._parseSync({data:t,path:n.path,parent:n});return r_(n,o)}"~validate"(t){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ma(t)};if(!this["~standard"].async)try{const n=this._parseSync({data:t,path:[],parent:r});return Li(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(n=>Li(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ma(t)},o=this._parse({data:t,path:n.path,parent:n}),l=await(Zd(o)?o:Promise.resolve(o));return r_(n,l)}refine(t,r){const n=o=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(o):r;return this._refinement((o,l)=>{const c=t(o),d=()=>l.addIssue({code:Te.custom,...n(o)});return typeof Promise<"u"&&c instanceof Promise?c.then(h=>h?!0:(d(),!1)):c?!0:(d(),!1)})}refinement(t,r){return this._refinement((n,o)=>t(n)?!0:(o.addIssue(typeof r=="function"?r(n,o):r),!1))}_refinement(t){return new Fi({schema:this,typeName:yt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Va.create(this,this._def)}nullable(){return Ui.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ds.create(this)}promise(){return rh.create(this,this._def)}or(t){return eh.create([this,t],this._def)}and(t){return th.create(this,t,this._def)}transform(t){return new Fi({...At(this._def),schema:this,typeName:yt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new ug({...At(this._def),innerType:this,defaultValue:r,typeName:yt.ZodDefault})}brand(){return new Q6({typeName:yt.ZodBranded,type:this,...At(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new dg({...At(this._def),innerType:this,catchValue:r,typeName:yt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return bv.create(this,t)}readonly(){return hg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const C6=/^c[^\s-]{8,}$/i,T6=/^[0-9a-z]+$/,R6=/^[0-9A-HJKMNP-TV-Z]{26}$/i,A6=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,P6=/^[a-z0-9_-]{21}$/i,O6=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,D6=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,I6=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,M6="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let up;const L6=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$6=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,F6=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,U6=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,B6=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,z6=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,FE="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",W6=new RegExp(`^${FE}$`);function UE(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function V6(e){return new RegExp(`^${UE(e)}$`)}function q6(e){let t=`${FE}T${UE(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function H6(e,t){return!!((t==="v4"||!t)&&L6.test(e)||(t==="v6"||!t)&&F6.test(e))}function G6(e,t){if(!O6.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),o=JSON.parse(atob(n));return!(typeof o!="object"||o===null||"typ"in o&&o?.typ!=="JWT"||!o.alg||t&&o.alg!==t)}catch{return!1}}function K6(e,t){return!!((t==="v4"||!t)&&$6.test(e)||(t==="v6"||!t)&&U6.test(e))}class za extends $t{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ke.string){const l=this._getOrReturnCtx(t);return $e(l,{code:Te.invalid_type,expected:Ke.string,received:l.parsedType}),xt}const n=new Bn;let o;for(const l of this._def.checks)if(l.kind==="min")t.data.length<l.value&&(o=this._getOrReturnCtx(t,o),$e(o,{code:Te.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),n.dirty());else if(l.kind==="max")t.data.length>l.value&&(o=this._getOrReturnCtx(t,o),$e(o,{code:Te.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),n.dirty());else if(l.kind==="length"){const c=t.data.length>l.value,d=t.data.length<l.value;(c||d)&&(o=this._getOrReturnCtx(t,o),c?$e(o,{code:Te.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):d&&$e(o,{code:Te.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),n.dirty())}else if(l.kind==="email")I6.test(t.data)||(o=this._getOrReturnCtx(t,o),$e(o,{validation:"email",code:Te.invalid_string,message:l.message}),n.dirty());else if(l.kind==="emoji")up||(up=new RegExp(M6,"u")),up.test(t.data)||(o=this._getOrReturnCtx(t,o),$e(o,{validation:"emoji",code:Te.invalid_string,message:l.message}),n.dirty());else if(l.kind==="uuid")A6.test(t.data)||(o=this._getOrReturnCtx(t,o),$e(o,{validation:"uuid",code:Te.invalid_string,message:l.message}),n.dirty());else if(l.kind==="nanoid")P6.test(t.data)||(o=this._getOrReturnCtx(t,o),$e(o,{validation:"nanoid",code:Te.invalid_string,message:l.message}),n.dirty());else if(l.kind==="cuid")C6.test(t.data)||(o=this._getOrReturnCtx(t,o),$e(o,{validation:"cuid",code:Te.invalid_string,message:l.message}),n.dirty());else if(l.kind==="cuid2")T6.test(t.data)||(o=this._getOrReturnCtx(t,o),$e(o,{validation:"cuid2",code:Te.invalid_string,message:l.message}),n.dirty());else if(l.kind==="ulid")R6.test(t.data)||(o=this._getOrReturnCtx(t,o),$e(o,{validation:"ulid",code:Te.invalid_string,message:l.message}),n.dirty());else if(l.kind==="url")try{new URL(t.data)}catch{o=this._getOrReturnCtx(t,o),$e(o,{validation:"url",code:Te.invalid_string,message:l.message}),n.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),$e(o,{validation:"regex",code:Te.invalid_string,message:l.message}),n.dirty())):l.kind==="trim"?t.data=t.data.trim():l.kind==="includes"?t.data.includes(l.value,l.position)||(o=this._getOrReturnCtx(t,o),$e(o,{code:Te.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),n.dirty()):l.kind==="toLowerCase"?t.data=t.data.toLowerCase():l.kind==="toUpperCase"?t.data=t.data.toUpperCase():l.kind==="startsWith"?t.data.startsWith(l.value)||(o=this._getOrReturnCtx(t,o),$e(o,{code:Te.invalid_string,validation:{startsWith:l.value},message:l.message}),n.dirty()):l.kind==="endsWith"?t.data.endsWith(l.value)||(o=this._getOrReturnCtx(t,o),$e(o,{code:Te.invalid_string,validation:{endsWith:l.value},message:l.message}),n.dirty()):l.kind==="datetime"?q6(l).test(t.data)||(o=this._getOrReturnCtx(t,o),$e(o,{code:Te.invalid_string,validation:"datetime",message:l.message}),n.dirty()):l.kind==="date"?W6.test(t.data)||(o=this._getOrReturnCtx(t,o),$e(o,{code:Te.invalid_string,validation:"date",message:l.message}),n.dirty()):l.kind==="time"?V6(l).test(t.data)||(o=this._getOrReturnCtx(t,o),$e(o,{code:Te.invalid_string,validation:"time",message:l.message}),n.dirty()):l.kind==="duration"?D6.test(t.data)||(o=this._getOrReturnCtx(t,o),$e(o,{validation:"duration",code:Te.invalid_string,message:l.message}),n.dirty()):l.kind==="ip"?H6(t.data,l.version)||(o=this._getOrReturnCtx(t,o),$e(o,{validation:"ip",code:Te.invalid_string,message:l.message}),n.dirty()):l.kind==="jwt"?G6(t.data,l.alg)||(o=this._getOrReturnCtx(t,o),$e(o,{validation:"jwt",code:Te.invalid_string,message:l.message}),n.dirty()):l.kind==="cidr"?K6(t.data,l.version)||(o=this._getOrReturnCtx(t,o),$e(o,{validation:"cidr",code:Te.invalid_string,message:l.message}),n.dirty()):l.kind==="base64"?B6.test(t.data)||(o=this._getOrReturnCtx(t,o),$e(o,{validation:"base64",code:Te.invalid_string,message:l.message}),n.dirty()):l.kind==="base64url"?z6.test(t.data)||(o=this._getOrReturnCtx(t,o),$e(o,{validation:"base64url",code:Te.invalid_string,message:l.message}),n.dirty()):Ut.assertNever(l);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(o=>t.test(o),{validation:r,code:Te.invalid_string,...Je.errToObj(n)})}_addCheck(t){return new za({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Je.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Je.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Je.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Je.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Je.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Je.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Je.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Je.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Je.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Je.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Je.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Je.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Je.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...Je.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...Je.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...Je.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Je.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...Je.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Je.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Je.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Je.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Je.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Je.errToObj(r)})}nonempty(t){return this.min(1,Je.errToObj(t))}trim(){return new za({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new za({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new za({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}za.create=e=>new za({checks:[],typeName:yt.ZodString,coerce:e?.coerce??!1,...At(e)});function Y6(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,o=r>n?r:n,l=Number.parseInt(e.toFixed(o).replace(".","")),c=Number.parseInt(t.toFixed(o).replace(".",""));return l%c/10**o}class _c extends $t{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ke.number){const l=this._getOrReturnCtx(t);return $e(l,{code:Te.invalid_type,expected:Ke.number,received:l.parsedType}),xt}let n;const o=new Bn;for(const l of this._def.checks)l.kind==="int"?Ut.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),$e(n,{code:Te.invalid_type,expected:"integer",received:"float",message:l.message}),o.dirty()):l.kind==="min"?(l.inclusive?t.data<l.value:t.data<=l.value)&&(n=this._getOrReturnCtx(t,n),$e(n,{code:Te.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?t.data>l.value:t.data>=l.value)&&(n=this._getOrReturnCtx(t,n),$e(n,{code:Te.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="multipleOf"?Y6(t.data,l.value)!==0&&(n=this._getOrReturnCtx(t,n),$e(n,{code:Te.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):l.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),$e(n,{code:Te.not_finite,message:l.message}),o.dirty()):Ut.assertNever(l);return{status:o.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Je.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Je.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Je.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Je.toString(r))}setLimit(t,r,n,o){return new _c({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Je.toString(o)}]})}_addCheck(t){return new _c({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Je.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Je.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Je.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Je.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Je.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Je.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Je.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Je.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Je.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ut.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}_c.create=e=>new _c({checks:[],typeName:yt.ZodNumber,coerce:e?.coerce||!1,...At(e)});class bc extends $t{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ke.bigint)return this._getInvalidInput(t);let n;const o=new Bn;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?t.data<l.value:t.data<=l.value)&&(n=this._getOrReturnCtx(t,n),$e(n,{code:Te.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?t.data>l.value:t.data>=l.value)&&(n=this._getOrReturnCtx(t,n),$e(n,{code:Te.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="multipleOf"?t.data%l.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),$e(n,{code:Te.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):Ut.assertNever(l);return{status:o.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return $e(r,{code:Te.invalid_type,expected:Ke.bigint,received:r.parsedType}),xt}gte(t,r){return this.setLimit("min",t,!0,Je.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Je.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Je.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Je.toString(r))}setLimit(t,r,n,o){return new bc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Je.toString(o)}]})}_addCheck(t){return new bc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Je.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Je.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Je.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Je.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Je.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}bc.create=e=>new bc({checks:[],typeName:yt.ZodBigInt,coerce:e?.coerce??!1,...At(e)});class n_ extends $t{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ke.boolean){const n=this._getOrReturnCtx(t);return $e(n,{code:Te.invalid_type,expected:Ke.boolean,received:n.parsedType}),xt}return ns(t.data)}}n_.create=e=>new n_({typeName:yt.ZodBoolean,coerce:e?.coerce||!1,...At(e)});class Xd extends $t{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ke.date){const l=this._getOrReturnCtx(t);return $e(l,{code:Te.invalid_type,expected:Ke.date,received:l.parsedType}),xt}if(Number.isNaN(t.data.getTime())){const l=this._getOrReturnCtx(t);return $e(l,{code:Te.invalid_date}),xt}const n=new Bn;let o;for(const l of this._def.checks)l.kind==="min"?t.data.getTime()<l.value&&(o=this._getOrReturnCtx(t,o),$e(o,{code:Te.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),n.dirty()):l.kind==="max"?t.data.getTime()>l.value&&(o=this._getOrReturnCtx(t,o),$e(o,{code:Te.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),n.dirty()):Ut.assertNever(l);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Xd({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Je.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Je.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Xd.create=e=>new Xd({checks:[],coerce:e?.coerce||!1,typeName:yt.ZodDate,...At(e)});class s_ extends $t{_parse(t){if(this._getType(t)!==Ke.symbol){const n=this._getOrReturnCtx(t);return $e(n,{code:Te.invalid_type,expected:Ke.symbol,received:n.parsedType}),xt}return ns(t.data)}}s_.create=e=>new s_({typeName:yt.ZodSymbol,...At(e)});class a_ extends $t{_parse(t){if(this._getType(t)!==Ke.undefined){const n=this._getOrReturnCtx(t);return $e(n,{code:Te.invalid_type,expected:Ke.undefined,received:n.parsedType}),xt}return ns(t.data)}}a_.create=e=>new a_({typeName:yt.ZodUndefined,...At(e)});class o_ extends $t{_parse(t){if(this._getType(t)!==Ke.null){const n=this._getOrReturnCtx(t);return $e(n,{code:Te.invalid_type,expected:Ke.null,received:n.parsedType}),xt}return ns(t.data)}}o_.create=e=>new o_({typeName:yt.ZodNull,...At(e)});class i_ extends $t{constructor(){super(...arguments),this._any=!0}_parse(t){return ns(t.data)}}i_.create=e=>new i_({typeName:yt.ZodAny,...At(e)});class l_ extends $t{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ns(t.data)}}l_.create=e=>new l_({typeName:yt.ZodUnknown,...At(e)});class Ya extends $t{_parse(t){const r=this._getOrReturnCtx(t);return $e(r,{code:Te.invalid_type,expected:Ke.never,received:r.parsedType}),xt}}Ya.create=e=>new Ya({typeName:yt.ZodNever,...At(e)});class c_ extends $t{_parse(t){if(this._getType(t)!==Ke.undefined){const n=this._getOrReturnCtx(t);return $e(n,{code:Te.invalid_type,expected:Ke.void,received:n.parsedType}),xt}return ns(t.data)}}c_.create=e=>new c_({typeName:yt.ZodVoid,...At(e)});class Ds extends $t{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),o=this._def;if(r.parsedType!==Ke.array)return $e(r,{code:Te.invalid_type,expected:Ke.array,received:r.parsedType}),xt;if(o.exactLength!==null){const c=r.data.length>o.exactLength.value,d=r.data.length<o.exactLength.value;(c||d)&&($e(r,{code:c?Te.too_big:Te.too_small,minimum:d?o.exactLength.value:void 0,maximum:c?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),n.dirty())}if(o.minLength!==null&&r.data.length<o.minLength.value&&($e(r,{code:Te.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),n.dirty()),o.maxLength!==null&&r.data.length>o.maxLength.value&&($e(r,{code:Te.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((c,d)=>o.type._parseAsync(new Ka(r,c,r.path,d)))).then(c=>Bn.mergeArray(n,c));const l=[...r.data].map((c,d)=>o.type._parseSync(new Ka(r,c,r.path,d)));return Bn.mergeArray(n,l)}get element(){return this._def.type}min(t,r){return new Ds({...this._def,minLength:{value:t,message:Je.toString(r)}})}max(t,r){return new Ds({...this._def,maxLength:{value:t,message:Je.toString(r)}})}length(t,r){return new Ds({...this._def,exactLength:{value:t,message:Je.toString(r)}})}nonempty(t){return this.min(1,t)}}Ds.create=(e,t)=>new Ds({type:e,minLength:null,maxLength:null,exactLength:null,typeName:yt.ZodArray,...At(t)});function _i(e){if(e instanceof Tr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Va.create(_i(n))}return new Tr({...e._def,shape:()=>t})}else return e instanceof Ds?new Ds({...e._def,type:_i(e.element)}):e instanceof Va?Va.create(_i(e.unwrap())):e instanceof Ui?Ui.create(_i(e.unwrap())):e instanceof Oo?Oo.create(e.items.map(t=>_i(t))):e}class Tr extends $t{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Ut.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Ke.object){const p=this._getOrReturnCtx(t);return $e(p,{code:Te.invalid_type,expected:Ke.object,received:p.parsedType}),xt}const{status:n,ctx:o}=this._processInputParams(t),{shape:l,keys:c}=this._getCached(),d=[];if(!(this._def.catchall instanceof Ya&&this._def.unknownKeys==="strip"))for(const p in o.data)c.includes(p)||d.push(p);const h=[];for(const p of c){const v=l[p],g=o.data[p];h.push({key:{status:"valid",value:p},value:v._parse(new Ka(o,g,o.path,p)),alwaysSet:p in o.data})}if(this._def.catchall instanceof Ya){const p=this._def.unknownKeys;if(p==="passthrough")for(const v of d)h.push({key:{status:"valid",value:v},value:{status:"valid",value:o.data[v]}});else if(p==="strict")d.length>0&&($e(o,{code:Te.unrecognized_keys,keys:d}),n.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const v of d){const g=o.data[v];h.push({key:{status:"valid",value:v},value:p._parse(new Ka(o,g,o.path,v)),alwaysSet:v in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const p=[];for(const v of h){const g=await v.key,y=await v.value;p.push({key:g,value:y,alwaysSet:v.alwaysSet})}return p}).then(p=>Bn.mergeObjectSync(n,p)):Bn.mergeObjectSync(n,h)}get shape(){return this._def.shape()}strict(t){return Je.errToObj,new Tr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{const o=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:Je.errToObj(t).message??o}:{message:o}}}:{}})}strip(){return new Tr({...this._def,unknownKeys:"strip"})}passthrough(){return new Tr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Tr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Tr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:yt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Tr({...this._def,catchall:t})}pick(t){const r={};for(const n of Ut.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Tr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Ut.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Tr({...this._def,shape:()=>r})}deepPartial(){return _i(this)}partial(t){const r={};for(const n of Ut.objectKeys(this.shape)){const o=this.shape[n];t&&!t[n]?r[n]=o:r[n]=o.optional()}return new Tr({...this._def,shape:()=>r})}required(t){const r={};for(const n of Ut.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let l=this.shape[n];for(;l instanceof Va;)l=l._def.innerType;r[n]=l}return new Tr({...this._def,shape:()=>r})}keyof(){return BE(Ut.objectKeys(this.shape))}}Tr.create=(e,t)=>new Tr({shape:()=>e,unknownKeys:"strip",catchall:Ya.create(),typeName:yt.ZodObject,...At(t)});Tr.strictCreate=(e,t)=>new Tr({shape:()=>e,unknownKeys:"strict",catchall:Ya.create(),typeName:yt.ZodObject,...At(t)});Tr.lazycreate=(e,t)=>new Tr({shape:e,unknownKeys:"strip",catchall:Ya.create(),typeName:yt.ZodObject,...At(t)});class eh extends $t{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function o(l){for(const d of l)if(d.result.status==="valid")return d.result;for(const d of l)if(d.result.status==="dirty")return r.common.issues.push(...d.ctx.common.issues),d.result;const c=l.map(d=>new Ls(d.ctx.common.issues));return $e(r,{code:Te.invalid_union,unionErrors:c}),xt}if(r.common.async)return Promise.all(n.map(async l=>{const c={...r,common:{...r.common,issues:[]},parent:null};return{result:await l._parseAsync({data:r.data,path:r.path,parent:c}),ctx:c}})).then(o);{let l;const c=[];for(const h of n){const p={...r,common:{...r.common,issues:[]},parent:null},v=h._parseSync({data:r.data,path:r.path,parent:p});if(v.status==="valid")return v;v.status==="dirty"&&!l&&(l={result:v,ctx:p}),p.common.issues.length&&c.push(p.common.issues)}if(l)return r.common.issues.push(...l.ctx.common.issues),l.result;const d=c.map(h=>new Ls(h));return $e(r,{code:Te.invalid_union,unionErrors:d}),xt}}get options(){return this._def.options}}eh.create=(e,t)=>new eh({options:e,typeName:yt.ZodUnion,...At(t)});function lg(e,t){const r=Ma(e),n=Ma(t);if(e===t)return{valid:!0,data:e};if(r===Ke.object&&n===Ke.object){const o=Ut.objectKeys(t),l=Ut.objectKeys(e).filter(d=>o.indexOf(d)!==-1),c={...e,...t};for(const d of l){const h=lg(e[d],t[d]);if(!h.valid)return{valid:!1};c[d]=h.data}return{valid:!0,data:c}}else if(r===Ke.array&&n===Ke.array){if(e.length!==t.length)return{valid:!1};const o=[];for(let l=0;l<e.length;l++){const c=e[l],d=t[l],h=lg(c,d);if(!h.valid)return{valid:!1};o.push(h.data)}return{valid:!0,data:o}}else return r===Ke.date&&n===Ke.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class th extends $t{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),o=(l,c)=>{if(e_(l)||e_(c))return xt;const d=lg(l.value,c.value);return d.valid?((t_(l)||t_(c))&&r.dirty(),{status:r.value,value:d.data}):($e(n,{code:Te.invalid_intersection_types}),xt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([l,c])=>o(l,c)):o(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}th.create=(e,t,r)=>new th({left:e,right:t,typeName:yt.ZodIntersection,...At(r)});class Oo extends $t{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ke.array)return $e(n,{code:Te.invalid_type,expected:Ke.array,received:n.parsedType}),xt;if(n.data.length<this._def.items.length)return $e(n,{code:Te.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),xt;!this._def.rest&&n.data.length>this._def.items.length&&($e(n,{code:Te.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const l=[...n.data].map((c,d)=>{const h=this._def.items[d]||this._def.rest;return h?h._parse(new Ka(n,c,n.path,d)):null}).filter(c=>!!c);return n.common.async?Promise.all(l).then(c=>Bn.mergeArray(r,c)):Bn.mergeArray(r,l)}get items(){return this._def.items}rest(t){return new Oo({...this._def,rest:t})}}Oo.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Oo({items:e,typeName:yt.ZodTuple,rest:null,...At(t)})};class u_ extends $t{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ke.map)return $e(n,{code:Te.invalid_type,expected:Ke.map,received:n.parsedType}),xt;const o=this._def.keyType,l=this._def.valueType,c=[...n.data.entries()].map(([d,h],p)=>({key:o._parse(new Ka(n,d,n.path,[p,"key"])),value:l._parse(new Ka(n,h,n.path,[p,"value"]))}));if(n.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const h of c){const p=await h.key,v=await h.value;if(p.status==="aborted"||v.status==="aborted")return xt;(p.status==="dirty"||v.status==="dirty")&&r.dirty(),d.set(p.value,v.value)}return{status:r.value,value:d}})}else{const d=new Map;for(const h of c){const p=h.key,v=h.value;if(p.status==="aborted"||v.status==="aborted")return xt;(p.status==="dirty"||v.status==="dirty")&&r.dirty(),d.set(p.value,v.value)}return{status:r.value,value:d}}}}u_.create=(e,t,r)=>new u_({valueType:t,keyType:e,typeName:yt.ZodMap,...At(r)});class jc extends $t{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ke.set)return $e(n,{code:Te.invalid_type,expected:Ke.set,received:n.parsedType}),xt;const o=this._def;o.minSize!==null&&n.data.size<o.minSize.value&&($e(n,{code:Te.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),r.dirty()),o.maxSize!==null&&n.data.size>o.maxSize.value&&($e(n,{code:Te.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),r.dirty());const l=this._def.valueType;function c(h){const p=new Set;for(const v of h){if(v.status==="aborted")return xt;v.status==="dirty"&&r.dirty(),p.add(v.value)}return{status:r.value,value:p}}const d=[...n.data.values()].map((h,p)=>l._parse(new Ka(n,h,n.path,p)));return n.common.async?Promise.all(d).then(h=>c(h)):c(d)}min(t,r){return new jc({...this._def,minSize:{value:t,message:Je.toString(r)}})}max(t,r){return new jc({...this._def,maxSize:{value:t,message:Je.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}jc.create=(e,t)=>new jc({valueType:e,minSize:null,maxSize:null,typeName:yt.ZodSet,...At(t)});class d_ extends $t{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}d_.create=(e,t)=>new d_({getter:e,typeName:yt.ZodLazy,...At(t)});class cg extends $t{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return $e(r,{received:r.data,code:Te.invalid_literal,expected:this._def.value}),xt}return{status:"valid",value:t.data}}get value(){return this._def.value}}cg.create=(e,t)=>new cg({value:e,typeName:yt.ZodLiteral,...At(t)});function BE(e,t){return new $i({values:e,typeName:yt.ZodEnum,...At(t)})}class $i extends $t{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return $e(r,{expected:Ut.joinValues(n),received:r.parsedType,code:Te.invalid_type}),xt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return $e(r,{received:r.data,code:Te.invalid_enum_value,options:n}),xt}return ns(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return $i.create(t,{...this._def,...r})}exclude(t,r=this._def){return $i.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}$i.create=BE;class h_ extends $t{_parse(t){const r=Ut.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Ke.string&&n.parsedType!==Ke.number){const o=Ut.objectValues(r);return $e(n,{expected:Ut.joinValues(o),received:n.parsedType,code:Te.invalid_type}),xt}if(this._cache||(this._cache=new Set(Ut.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const o=Ut.objectValues(r);return $e(n,{received:n.data,code:Te.invalid_enum_value,options:o}),xt}return ns(t.data)}get enum(){return this._def.values}}h_.create=(e,t)=>new h_({values:e,typeName:yt.ZodNativeEnum,...At(t)});class rh extends $t{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ke.promise&&r.common.async===!1)return $e(r,{code:Te.invalid_type,expected:Ke.promise,received:r.parsedType}),xt;const n=r.parsedType===Ke.promise?r.data:Promise.resolve(r.data);return ns(n.then(o=>this._def.type.parseAsync(o,{path:r.path,errorMap:r.common.contextualErrorMap})))}}rh.create=(e,t)=>new rh({type:e,typeName:yt.ZodPromise,...At(t)});class Fi extends $t{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===yt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),o=this._def.effect||null,l={addIssue:c=>{$e(n,c),c.fatal?r.abort():r.dirty()},get path(){return n.path}};if(l.addIssue=l.addIssue.bind(l),o.type==="preprocess"){const c=o.transform(n.data,l);if(n.common.async)return Promise.resolve(c).then(async d=>{if(r.value==="aborted")return xt;const h=await this._def.schema._parseAsync({data:d,path:n.path,parent:n});return h.status==="aborted"?xt:h.status==="dirty"||r.value==="dirty"?Ql(h.value):h});{if(r.value==="aborted")return xt;const d=this._def.schema._parseSync({data:c,path:n.path,parent:n});return d.status==="aborted"?xt:d.status==="dirty"||r.value==="dirty"?Ql(d.value):d}}if(o.type==="refinement"){const c=d=>{const h=o.refinement(d,l);if(n.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(n.common.async===!1){const d=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return d.status==="aborted"?xt:(d.status==="dirty"&&r.dirty(),c(d.value),{status:r.value,value:d.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(d=>d.status==="aborted"?xt:(d.status==="dirty"&&r.dirty(),c(d.value).then(()=>({status:r.value,value:d.value}))))}if(o.type==="transform")if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Li(c))return xt;const d=o.transform(c.value,l);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:d}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>Li(c)?Promise.resolve(o.transform(c.value,l)).then(d=>({status:r.value,value:d})):xt);Ut.assertNever(o)}}Fi.create=(e,t,r)=>new Fi({schema:e,typeName:yt.ZodEffects,effect:t,...At(r)});Fi.createWithPreprocess=(e,t,r)=>new Fi({schema:t,effect:{type:"preprocess",transform:e},typeName:yt.ZodEffects,...At(r)});class Va extends $t{_parse(t){return this._getType(t)===Ke.undefined?ns(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Va.create=(e,t)=>new Va({innerType:e,typeName:yt.ZodOptional,...At(t)});class Ui extends $t{_parse(t){return this._getType(t)===Ke.null?ns(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ui.create=(e,t)=>new Ui({innerType:e,typeName:yt.ZodNullable,...At(t)});class ug extends $t{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Ke.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}ug.create=(e,t)=>new ug({innerType:e,typeName:yt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...At(t)});class dg extends $t{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},o=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Zd(o)?o.then(l=>({status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new Ls(n.common.issues)},input:n.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Ls(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}dg.create=(e,t)=>new dg({innerType:e,typeName:yt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...At(t)});class f_ extends $t{_parse(t){if(this._getType(t)!==Ke.nan){const n=this._getOrReturnCtx(t);return $e(n,{code:Te.invalid_type,expected:Ke.nan,received:n.parsedType}),xt}return{status:"valid",value:t.data}}}f_.create=e=>new f_({typeName:yt.ZodNaN,...At(e)});class Q6 extends $t{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class bv extends $t{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?xt:l.status==="dirty"?(r.dirty(),Ql(l.value)):this._def.out._parseAsync({data:l.value,path:n.path,parent:n})})();{const o=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?xt:o.status==="dirty"?(r.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:n.path,parent:n})}}static create(t,r){return new bv({in:t,out:r,typeName:yt.ZodPipeline})}}class hg extends $t{_parse(t){const r=this._def.innerType._parse(t),n=o=>(Li(o)&&(o.value=Object.freeze(o.value)),o);return Zd(r)?r.then(o=>n(o)):n(r)}unwrap(){return this._def.innerType}}hg.create=(e,t)=>new hg({innerType:e,typeName:yt.ZodReadonly,...At(t)});var yt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(yt||(yt={}));const cn=za.create;Ya.create;Ds.create;const jv=Tr.create;eh.create;th.create;Oo.create;const zE=cg.create,J6=$i.create;rh.create;Va.create;Ui.create;const Zs={NEW:{label:"New",color:"bg-blue-100 text-blue-800",icon:lh,next:"REVIEWED"},REVIEWED:{label:"Reviewed",color:"bg-yellow-100 text-yellow-800",icon:Q_,next:"RESOLVED"},RESOLVED:{label:"Resolved",color:"bg-green-100 text-green-800",icon:cR,next:null}},Z6=({onFeedbackStatusChanged:e})=>{const[t,r]=f.useState([]),[n,o]=f.useState(!0),[l,c]=f.useState(""),[d,h]=f.useState(["NEW"]),[p,v]=f.useState([]),[g,y]=f.useState(null),[b,S]=f.useState(null),[_,j]=f.useState(!1),{toast:k}=Or();f.useEffect(()=>{C()},[]);const C=async()=>{try{o(!0);const{data:R,error:P}=await M.from("feedback").select("*").order("created_at",{ascending:!1});if(P)throw P;const I=await Promise.all((R||[]).map(async Z=>{const{data:B}=await M.from("profiles").select("email, first_name, last_name").eq("id",Z.user_id).single();return{...Z,user_email:B?.email,user_name:B?`${B.first_name||""} ${B.last_name||""}`.trim():"Unknown"}}));r(I)}catch(R){console.error("Error loading feedback:",R)}finally{o(!1)}},E=async(R,P)=>{try{y(R);const{error:I}=await M.from("feedback").update({status:P}).eq("id",R);if(I)throw I;r(Z=>Z.map(B=>B.id===R?{...B,status:P}:B)),b?.id===R&&S({...b,status:P}),e?.(),k({title:"Success",description:`Feedback marked as ${Zs[P].label}`})}catch(I){console.error("Error updating feedback status:",I),k({title:"Error",description:"Failed to update feedback status",variant:"destructive"})}finally{y(null)}},N=R=>{h(P=>P.includes(R)?P.filter(I=>I!==R):[...P,R])};f.useEffect(()=>{const R=t.filter(P=>(P.message.toLowerCase().includes(l.toLowerCase())||P.user_email?.toLowerCase().includes(l.toLowerCase())||P.user_name?.toLowerCase().includes(l.toLowerCase())||P.context_url.toLowerCase().includes(l.toLowerCase()))&&d.includes(P.status));v(R)},[l,t,d]);const O={NEW:t.filter(R=>R.status==="NEW").length,REVIEWED:t.filter(R=>R.status==="REVIEWED").length,RESOLVED:t.filter(R=>R.status==="RESOLVED").length};return s.jsxs(Ye,{children:[s.jsxs(yr,{children:[s.jsxs(wr,{className:"flex items-center gap-2",children:[s.jsx(Eo,{className:"h-5 w-5"}),"User Feedback"]}),s.jsx(nn,{children:"Manage and track user feedback across all pages"})]}),s.jsxs(Jt,{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center",children:[s.jsx(ot,{placeholder:"Search feedback by message, contact email, user name, or URL...",value:l,onChange:R=>c(R.target.value),className:"max-w-md"}),s.jsx("div",{className:"flex flex-wrap gap-2 ml-auto",children:["NEW","REVIEWED","RESOLVED"].map(R=>s.jsxs(de,{variant:d.includes(R)?"default":"outline",size:"sm",onClick:()=>N(R),className:d.includes(R)?"":"opacity-60 hover:opacity-100",children:[s.jsx(lh,{className:"h-3 w-3 mr-2 fill-current"}),Zs[R].label," (",O[R],")"]},R))})]}),n?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(qt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):p.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:l?"No feedback matches your search":"No feedback with selected status"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(jo,{children:[s.jsx(No,{children:s.jsxs(En,{children:[s.jsx(Pt,{children:"User"}),s.jsx(Pt,{children:"Contact Email"}),s.jsx(Pt,{children:"Feedback"}),s.jsx(Pt,{children:"Page URL"}),s.jsx(Pt,{children:"Submitted"}),s.jsx(Pt,{children:"Status"})]})}),s.jsx(So,{children:p.map(R=>{const P=Zs[R.status],I=P.icon;return s.jsxs(En,{onClick:()=>{S(R),j(!0)},className:"cursor-pointer hover:bg-secondary/50 transition-colors",children:[s.jsx(Rt,{className:"font-medium",children:R.user_name}),s.jsx(Rt,{className:"text-sm text-muted-foreground",children:R.user_email}),s.jsx(Rt,{className:"max-w-xs",children:s.jsx("div",{className:"truncate text-sm",children:R.message})}),s.jsx(Rt,{className:"max-w-xs",children:s.jsx("a",{href:R.context_url,target:"_blank",rel:"noopener noreferrer",onClick:Z=>Z.stopPropagation(),className:"text-sm text-blue-600 hover:underline truncate block",children:R.context_url})}),s.jsx(Rt,{className:"text-sm text-muted-foreground whitespace-nowrap",children:To(new Date(R.created_at),{addSuffix:!0})}),s.jsx(Rt,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:`px-2 py-1 rounded text-xs font-medium flex items-center gap-1 ${P.color}`,children:[s.jsx(I,{className:"h-3 w-3"}),P.label]}),P.next&&s.jsx(de,{size:"sm",variant:"ghost",onClick:Z=>{Z.stopPropagation(),E(R.id,P.next)},disabled:g===R.id,className:"text-xs h-7 px-2",children:g===R.id?s.jsx(qt,{className:"h-3 w-3 animate-spin"}):""})]})})]},R.id)})})]})})]}),b&&s.jsx(hn,{open:_,onOpenChange:j,children:s.jsxs(fn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Cn,{children:[s.jsx(mn,{children:"Feedback Details"}),s.jsx(Tn,{children:"View and manage this user feedback"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-muted-foreground",children:"User Name"}),s.jsx("p",{className:"text-base mt-1",children:b.user_name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-muted-foreground",children:"Contact Email"}),s.jsx("p",{className:"text-base mt-1",children:b.user_email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-muted-foreground",children:"Page URL"}),s.jsx("a",{href:b.context_url,target:"_blank",rel:"noopener noreferrer",className:"text-base text-blue-600 hover:underline mt-1 block break-all",children:b.context_url})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-muted-foreground",children:"Submitted"}),s.jsx("p",{className:"text-base mt-1",children:To(new Date(b.created_at),{addSuffix:!0})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-muted-foreground",children:"Status"}),s.jsx("div",{className:"mt-1",children:s.jsx(qe,{className:Zs[b.status].color,children:Zs[b.status].label})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-muted-foreground",children:"Message"}),s.jsx("div",{className:"border rounded-lg p-4 mt-1 bg-secondary/50 whitespace-pre-wrap break-words",children:b.message})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(de,{variant:"outline",onClick:()=>j(!1),children:"Close"}),Zs[b.status].next&&s.jsxs(de,{onClick:()=>{E(b.id,Zs[b.status].next)},disabled:g===b.id,className:"bg-blue-600 hover:bg-blue-700",children:[g===b.id?s.jsx(qt,{className:"h-4 w-4 animate-spin mr-2"}):null,"Mark as ",Zs[Zs[b.status].next].label]})]})]})]})})]})},X6=()=>{const[e,t]=f.useState([]),[r,n]=f.useState([]),[o,l]=f.useState(!0),[c,d]=f.useState(""),[h,p]=f.useState([]),[v,g]=f.useState([]),[y,b]=f.useState(!1),[S,_]=f.useState(""),[j,k]=f.useState(""),[C,E]=f.useState(""),[N,O]=f.useState(null),[R,P]=f.useState(null),[I,Z]=f.useState(!1),[B,X]=f.useState("bg-amber-100"),[z,F]=f.useState("text-amber-800"),[U,le]=f.useState(!1),[V,ee]=f.useState(null),[D,H]=f.useState(null),{toast:te}=Or(),A=f.useCallback(async()=>{try{const{data:re,error:he}=await M.from("badges").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(he)throw he;n(re||[])}catch(re){console.error("Error loading badges:",re)}},[]),$=f.useCallback(async()=>{try{const{data:re,error:he}=await M.from("profiles").select("id, email, first_name, last_name, created_at").order("created_at",{ascending:!1});if(he)throw he;const Ne=await Promise.all((re||[]).map(async dt=>{const{data:pt}=await M.from("user_badges").select("badges(*)").eq("user_id",dt.id);return{...dt,badges:(pt||[]).map(jt=>jt.badges).filter(Boolean)}}));t(Ne)}catch(re){console.error("Error loading users:",re),te({title:"Error",description:"Failed to load users",variant:"destructive"})}},[te]),J=f.useCallback(async()=>{try{l(!0),await Promise.all([A(),$()])}finally{l(!1)}},[A,$]);f.useEffect(()=>{J()},[J]);const ce=async()=>{if(!S.trim()){te({title:"Error",description:"Badge name is required",variant:"destructive"});return}try{le(!0);let re=null;if(N){const Ne=N.name.split(".").pop(),pt=`badges/${`${Date.now()}.${Ne}`}`,{error:jt}=await M.storage.from("badge-images").upload(pt,N);if(jt)throw jt;const{data:St}=M.storage.from("badge-images").getPublicUrl(pt);re=St.publicUrl}const{error:he}=await M.from("badges").insert({name:S,description:j||null,icon:C,image_url:re,color_bg:B,color_text:z,is_active:!0});if(he)throw he;te({title:"Success",description:"Badge created successfully"}),_(""),k(""),E(""),O(null),P(null),Z(!1),X("bg-amber-100"),F("text-amber-800"),b(!1),await A()}catch(re){console.error("Error creating badge:",re),te({title:"Error",description:re instanceof Error?re.message:"Failed to create badge",variant:"destructive"})}finally{le(!1)}},G=re=>{if(!re){O(null),P(null);return}if(!re.type.startsWith("image/")){te({title:"Invalid file",description:"Please select an image file",variant:"destructive"});return}if(re.size>5*1024*1024){te({title:"File too large",description:"Image must be smaller than 5MB",variant:"destructive"});return}O(re);const he=new FileReader;he.onload=Ne=>{P(Ne.target?.result)},he.readAsDataURL(re)},pe=async(re,he)=>{try{const{error:Ne}=await M.from("user_badges").insert({user_id:re,badge_id:he});if(Ne)throw Ne;te({title:"Success",description:"Badge assigned successfully"}),await $()}catch(Ne){console.error("Error assigning badge:",Ne),te({title:"Error",description:"Failed to assign badge",variant:"destructive"})}},oe=async(re,he)=>{try{ee(`${re}-${he}`);const{error:Ne}=await M.from("user_badges").delete().eq("user_id",re).eq("badge_id",he);if(Ne)throw Ne;te({title:"Success",description:"Badge removed successfully"}),await $()}catch(Ne){console.error("Error removing badge:",Ne),te({title:"Error",description:"Failed to remove badge",variant:"destructive"})}finally{ee(null)}},ue=async re=>{if(confirm("Are you sure you want to delete this badge? This will remove it from all users."))try{H(re);const{error:he}=await M.from("user_badges").delete().eq("badge_id",re);if(he)throw he;const{error:Ne}=await M.from("badges").delete().eq("id",re);if(Ne)throw Ne;te({title:"Success",description:"Badge deleted successfully"}),await J()}catch(he){console.error("Error deleting badge:",he),te({title:"Error",description:"Failed to delete badge",variant:"destructive"})}finally{H(null)}};f.useEffect(()=>{J()},[J]),f.useEffect(()=>{const re=e.filter(he=>{const Ne=he.email?.toLowerCase().includes(c.toLowerCase())||he.first_name?.toLowerCase().includes(c.toLowerCase())||he.last_name?.toLowerCase().includes(c.toLowerCase()),dt=h.length===0||he.badges.some(pt=>h.includes(pt.id));return Ne&&dt});g(re)},[c,e,h]);const Re=[{bg:"bg-amber-100",text:"text-amber-800",label:"Amber"},{bg:"bg-blue-100",text:"text-blue-800",label:"Blue"},{bg:"bg-green-100",text:"text-green-800",label:"Green"},{bg:"bg-red-100",text:"text-red-800",label:"Red"},{bg:"bg-purple-100",text:"text-purple-800",label:"Purple"},{bg:"bg-pink-100",text:"text-pink-800",label:"Pink"}];new Set(v.flatMap(re=>re.badges.map(he=>he.id)));const ve=re=>{const he=v.find(Ne=>Ne.id===re);return r.filter(Ne=>!he?.badges.some(dt=>dt.id===Ne.id))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Ye,{children:[s.jsxs(yr,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs(wr,{className:"flex items-center gap-2",children:[s.jsx(G_,{className:"h-5 w-5"}),"Available Badges"]}),s.jsx(nn,{children:"Create and manage user badges"})]}),s.jsxs(de,{onClick:()=>b(!0),className:"gap-2",children:[s.jsx(ko,{className:"h-4 w-4"}),"Create New Badge"]})]}),s.jsx(Jt,{className:"space-y-4",children:r.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No badges created yet. Create one to get started!"}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:r.map(re=>s.jsxs("div",{className:`p-3 rounded-lg border flex flex-col gap-2 ${re.color_bg}`,children:[s.jsxs("div",{className:"flex items-start justify-between",children:[re.image_url?s.jsx("img",{src:re.image_url,alt:re.name,className:"w-8 h-8 rounded object-cover"}):s.jsx("span",{className:"text-2xl",children:re.icon}),s.jsx(de,{variant:"ghost",size:"icon",className:"h-6 w-6 p-0",onClick:()=>ue(re.id),disabled:D===re.id,children:D===re.id?s.jsx(qt,{className:"h-4 w-4 animate-spin"}):s.jsx(ws,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("p",{className:`font-semibold text-sm ${re.color_text}`,children:re.name}),re.description&&s.jsx("p",{className:"text-xs text-muted-foreground",children:re.description})]})]},re.id))})})]}),s.jsxs(Ye,{children:[s.jsxs(yr,{children:[s.jsxs(wr,{className:"flex items-center gap-2",children:[s.jsx(Vr,{className:"h-5 w-5"}),"User Management"]}),s.jsx(nn,{children:"Manage user badges and settings"})]}),s.jsxs(Jt,{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx(ot,{placeholder:"Search users by email or name...",value:c,onChange:re=>d(re.target.value),className:"max-w-md"}),r.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(re=>s.jsxs(de,{variant:h.includes(re.id)?"default":"outline",size:"sm",onClick:()=>{p(he=>he.includes(re.id)?he.filter(Ne=>Ne!==re.id):[...he,re.id])},className:"gap-1",children:[re.image_url?s.jsx("img",{src:re.image_url,alt:re.name,className:"w-4 h-4 rounded object-cover"}):s.jsx("span",{children:re.icon}),re.name,h.includes(re.id)&&s.jsx("span",{className:"text-xs ml-1",children:""})]},re.id))})]}),o?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(qt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):v.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:c||h.length>0?"No users match your filters":"No users found"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(jo,{children:[s.jsx(No,{children:s.jsxs(En,{children:[s.jsx(Pt,{children:"User"}),s.jsx(Pt,{children:"Email"}),s.jsx(Pt,{children:"Joined"}),s.jsx(Pt,{children:"Badges"})]})}),s.jsx(So,{children:v.map(re=>s.jsxs(En,{children:[s.jsx(Rt,{className:"font-medium",children:s.jsx(Zt,{to:`/profile/${re.id}`,className:"hover:text-gold transition-colors hover:underline",children:re.first_name||re.last_name?`${re.first_name||""} ${re.last_name||""}`.trim():"No name"})}),s.jsx(Rt,{className:"text-sm text-muted-foreground",children:re.email}),s.jsx(Rt,{className:"text-sm text-muted-foreground whitespace-nowrap",children:re.created_at?na(re.created_at):"Unknown"}),s.jsx(Rt,{children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[re.badges.map(he=>s.jsxs("div",{className:`px-3 py-2 rounded text-xs font-medium flex items-center gap-2 ${he.color_bg} ${he.color_text}`,children:[he.image_url?s.jsx("img",{src:he.image_url,alt:he.name,className:"w-5 h-5 rounded object-cover"}):s.jsx("span",{className:"text-lg",children:he.icon}),he.name,s.jsx(de,{variant:"ghost",size:"icon",className:"h-3 w-3 p-0 ml-1 hover:bg-transparent",onClick:()=>oe(re.id,he.id),disabled:V===`${re.id}-${he.id}`,children:V===`${re.id}-${he.id}`?s.jsx(qt,{className:"h-3 w-3 animate-spin"}):s.jsx(ws,{className:"h-3 w-3"})})]},he.id)),ve(re.id).length>0&&s.jsxs(Zi,{children:[s.jsx(Xi,{asChild:!0,children:s.jsxs(de,{size:"sm",variant:"outline",className:"h-7 px-2 text-xs",children:[s.jsx(ko,{className:"h-3 w-3 mr-1"}),"Add Badge"]})}),s.jsx(Lo,{align:"start",children:ve(re.id).map(he=>s.jsxs(Zn,{onClick:()=>pe(re.id,he.id),children:[he.image_url?s.jsx("img",{src:he.image_url,alt:he.name,className:"w-5 h-5 mr-2 rounded object-cover"}):s.jsx("span",{className:"text-lg mr-2",children:he.icon}),he.name]},he.id))})]})]})})]},re.id))})]})})]})]}),s.jsx(hn,{open:y,onOpenChange:b,children:s.jsxs(fn,{className:"w-[95vw] sm:w-full sm:max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(Cn,{children:[s.jsx(mn,{children:"Create New Badge"}),s.jsx(Tn,{children:"Create a custom badge that can be assigned to users"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:`p-4 rounded-lg border text-center ${B} ${z}`,children:[R?s.jsx("img",{src:R,alt:"Badge preview",className:"w-20 h-20 mx-auto mb-2 rounded object-cover"}):s.jsx("div",{className:"text-4xl mb-2",children:C}),s.jsx("p",{className:"font-semibold",children:S||"Badge Name"}),j&&s.jsx("p",{className:"text-xs mt-1 opacity-75",children:j})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(Me,{htmlFor:"badge-name",children:"Badge Name"}),s.jsx(ot,{id:"badge-name",placeholder:"e.g., Founding Member",value:S,onChange:re=>_(re.target.value)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Me,{htmlFor:"badge-description",children:"Description (optional)"}),s.jsx(Zr,{id:"badge-description",placeholder:"Brief description of this badge",value:j,onChange:re=>k(re.target.value),className:"resize-none",rows:2})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{children:"Badge Type"}),s.jsxs("div",{className:"flex gap-2 p-1 bg-muted rounded-lg",children:[s.jsxs("button",{onClick:()=>Z(!1),className:`flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded transition-all font-medium ${I?"text-muted-foreground hover:text-foreground":"bg-primary text-primary-foreground shadow-sm"}`,children:[s.jsx(X_,{className:"h-4 w-4"}),s.jsx("span",{children:"Image"})]}),s.jsxs("button",{onClick:()=>Z(!0),className:`flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded transition-all font-medium ${I?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:[s.jsx(ab,{className:"h-4 w-4"}),s.jsx("span",{children:"Emoji"})]})]})]}),!I&&s.jsxs("div",{className:"space-y-1",children:[s.jsx(Me,{htmlFor:"badge-image",children:"Badge Image"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ot,{id:"badge-image",type:"file",accept:"image/*",onChange:re=>G(re.target.files?.[0]||null),className:"flex-1"}),N&&s.jsx(de,{type:"button",variant:"outline",size:"sm",onClick:()=>G(null),children:"Clear"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG, or GIF (max 5MB)"})]}),I&&s.jsxs("div",{className:"space-y-1",children:[s.jsx(Me,{children:"Select Icon"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-2xl font-bold text-center py-3 bg-muted rounded",children:C}),Object.entries(uE).map(([re,he])=>s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs font-semibold text-muted-foreground",children:re}),s.jsx("div",{className:"grid grid-cols-8 gap-1",children:he.map(Ne=>s.jsx("button",{onClick:()=>E(Ne),className:`text-xl p-2 rounded transition-all ${C===Ne?"ring-2 ring-primary bg-primary/10 scale-110":"hover:bg-muted"}`,children:Ne},Ne))})]},re))]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Me,{children:"Color"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:Re.map(re=>s.jsx("button",{onClick:()=>{X(re.bg),F(re.text)},className:`p-3 rounded border-2 text-center text-sm font-medium transition-all ${B===re.bg?"border-primary scale-105":"border-transparent hover:border-muted-foreground"} ${re.bg} ${re.text}`,children:re.label},re.bg))})]})]})]}),s.jsxs(qg,{children:[s.jsx(de,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),s.jsx(de,{onClick:ce,disabled:U||!S.trim(),children:U?s.jsxs(s.Fragment,{children:[s.jsx(qt,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):"Create Badge"})]})]})})]})},eB=jv({title:cn().trim().min(1,"Title is required").max(200,"Title must be less than 200 characters"),description:cn().trim().min(1,"Description is required").max(500,"Description must be less than 500 characters"),url:cn().trim().max(500,"URL must be less than 500 characters").optional().or(zE("")),category:cn().min(1,"Category is required"),content_type:cn().min(1,"Content type is required")}),tB=()=>{const[e,t]=f.useState(!1),[r,n]=f.useState(!0),[o,l]=f.useState([]),[c,d]=f.useState([]),[h,p]=f.useState(0),[v,g]=f.useState([]),[y,b]=f.useState(!1),[S,_]=f.useState(null),[j,k]=f.useState({title:"",description:"",url:"",category:"financial_literacy",content_type:"article"}),[C,E]=f.useState({}),[N,O]=f.useState("url"),[R,P]=f.useState(null),[I,Z]=f.useState(null),[B,X]=f.useState(!1),[z,F]=f.useState({totalUsers:0,activeUsers:0,pendingUsers:0,totalMessages:0,totalConnections:0}),[U,le]=f.useState([]),[V,ee]=f.useState(null),[D,H]=f.useState(null),[te,A]=f.useState(!1),[$,J]=f.useState([]),[ce,G]=f.useState(!1),[pe,oe]=f.useState(""),[ue,Re]=f.useState(null),{toast:ve}=Or(),re=ts(),he=f.useCallback(async()=>{const{data:Q}=await M.from("profiles").select("*").eq("approval_status","pending").order("created_at",{ascending:!1});if(Q&&Q.length>0){const _t=Q.map(br=>br.id),{data:Mt}=await M.from("user_roles").select("user_id, role").in("user_id",_t),Hr=new Map(Mt?.map(br=>[br.user_id,br.role])||[]),Fr=Q.map(br=>({...br,user_role:Hr.get(br.id)??null}));l(Fr)}else l([]);const{data:xe}=await M.from("profiles").select("*");d(xe||[]);const{data:Xe}=await M.from("messages").select("id",{count:"exact"}),{data:it}=await M.from("connections").select("id",{count:"exact"}),{data:Ot}=await M.from("feedback").select("id",{count:"exact"}).eq("status","NEW");p(Ot?.length||0),F({totalUsers:xe?.length||0,activeUsers:xe?.filter(_t=>_t.approval_status==="approved").length||0,pendingUsers:xe?.filter(_t=>_t.approval_status==="pending").length||0,totalMessages:Xe?.length||0,totalConnections:it?.length||0})},[]),Ne=f.useCallback(async()=>{try{const{data:Q,error:xe}=await M.from("resources").select("*").order("created_at",{ascending:!1});if(xe)throw xe;const{data:Xe}=await M.from("resource_clicks").select("resource_id"),it=Xe?.reduce((_t,Mt)=>(_t[Mt.resource_id]=(_t[Mt.resource_id]||0)+1,_t),{})||{},Ot=(Q||[]).map(_t=>({..._t,click_count:it[_t.id]||0}));g(Ot)}catch(Q){console.error("Error fetching resources:",Q),ve({title:"Error",description:"Failed to load resources",variant:"destructive"})}},[ve]),dt=f.useCallback(async()=>{try{const{data:Q,error:xe}=await M.from("role_change_requests").select(`
          *,
          profiles!role_change_requests_user_id_fkey(first_name, last_name, email)
        `).eq("status","pending").order("created_at",{ascending:!1});if(xe)throw xe;le(Q||[])}catch(Q){console.error("Error fetching role change requests:",Q),ve({title:"Error",description:"Failed to load role change requests",variant:"destructive"})}},[ve]),pt=f.useCallback(async()=>{try{const{data:Q,error:xe}=await M.from("preapproved_emails").select(`
          id,
          email,
          created_at,
          approver:profiles!preapproved_emails_approved_by_fkey(first_name, last_name, email)
        `).order("created_at",{ascending:!1});if(xe)throw xe;J(Q||[])}catch(Q){console.error("Error fetching pre-approved emails:",Q),ve({title:"Error",description:"Failed to load pre-approved emails",variant:"destructive"})}},[ve]),jt=f.useCallback(async()=>{try{const{data:{user:Q}}=await M.auth.getUser();if(!Q){re("/home");return}const{data:xe,error:Xe}=await M.from("user_roles").select("role").eq("user_id",Q.id).eq("role","admin").single();if(Xe||!xe){ve({title:"Access Denied",description:"You don't have permission to access this page.",variant:"destructive"}),re("/home");return}t(!0),he(),Ne(),dt(),pt()}catch(Q){console.error("Error checking admin access:",Q),re("/home")}finally{n(!1)}},[re,ve,Ne,he,dt,pt]);f.useEffect(()=>{jt()},[jt]);const St=(Q,xe,Xe)=>{try{eB.parse(Q);const it={};if(Xe==="url")if(!Q.url||Q.url.trim()==="")it.url="URL is required";else try{new URL(Q.url)}catch{it.url="Must be a valid URL"}else!xe&&!S?.url&&(it.file="Please select a file to upload");return Object.keys(it).length>0?(E(it),!1):(E({}),!0)}catch(it){if(it instanceof Ls){const Ot={};it.errors.forEach(_t=>{_t.path[0]&&(Ot[_t.path[0]]=_t.message)}),E(Ot)}return!1}},De=async()=>{if(!St(j,R,N)){ve({title:"Validation Error",description:"Please fix the errors in the form",variant:"destructive"});return}try{X(!0);const{data:{user:Q}}=await M.auth.getUser();if(!Q)return;let xe=j.url||"",Xe=null;if(N==="file"&&R){const it=R.name.split(".").pop(),_t=`resources/${`${Date.now()}-${Math.random().toString(36).substring(2)}.${it}`}`,{error:Mt}=await M.storage.from("resource-files").upload(_t,R);if(Mt)throw Mt;const{data:Hr}=M.storage.from("resource-files").getPublicUrl(_t);xe=Hr.publicUrl}if(I){const it=I.name.split(".").pop(),Ot=`logos/${Date.now()}-${Math.random().toString(36).substring(2)}.${it}`,{error:_t}=await M.storage.from("resource-files").upload(Ot,I);if(_t)throw _t;const{data:Mt}=M.storage.from("resource-files").getPublicUrl(Ot);Xe=Mt.publicUrl}if(S){const{error:it}=await M.from("resources").update({title:j.title,description:j.description,url:xe||S.url,category:j.category,content_type:j.content_type,...Xe&&{logo_url:Xe}}).eq("id",S.id);if(it)throw it;ve({title:"Success",description:"Resource updated successfully"})}else{const{error:it}=await M.from("resources").insert({title:j.title,description:j.description,url:xe,category:j.category,content_type:j.content_type,created_by:Q.id,...Xe&&{logo_url:Xe}});if(it)throw it;ve({title:"Success",description:"Resource created successfully"})}b(!1),nt(),Ne()}catch(Q){ve({title:"Error",description:Q instanceof Error?Q.message:"Failed to save resource",variant:"destructive"})}finally{X(!1)}},Ze=async Q=>{if(confirm("Are you sure you want to delete this resource?"))try{const{error:xe}=await M.from("resources").delete().eq("id",Q);if(xe)throw xe;ve({title:"Success",description:"Resource deleted successfully"}),Ne()}catch(xe){ve({title:"Error",description:xe instanceof Error?xe.message:"Failed to delete resource",variant:"destructive"})}},Y=async(Q,xe)=>{try{const{error:Xe}=await M.from("resources").update({is_active:!xe}).eq("id",Q);if(Xe)throw Xe;ve({title:"Success",description:`Resource ${xe?"deactivated":"activated"}`}),Ne()}catch(Xe){ve({title:"Error",description:Xe instanceof Error?Xe.message:"Failed to update resource",variant:"destructive"})}},me=async(Q,xe)=>{try{const{error:Xe}=await M.from("resources").update({is_featured:!xe}).eq("id",Q);if(Xe)throw Xe;ve({title:"Success",description:`Resource ${xe?"unfeatured":"featured"}`}),Ne()}catch(Xe){ve({title:"Error",description:Xe instanceof Error?Xe.message:"Failed to update resource",variant:"destructive"})}},He=async(Q,xe,Xe,it)=>{ee(Q);try{const{data:{user:Ot}}=await M.auth.getUser();if(!Ot)throw new Error("Not authenticated");const{error:_t}=await M.from("role_change_requests").update({status:xe,reviewed_by:Ot.id,reviewed_at:new Date().toISOString()}).eq("id",Q);if(_t)throw _t;if(xe==="approved"){const{error:Mt}=await M.rpc("assign_user_role",{p_user_id:Xe,p_role:it});if(Mt)throw console.error("Error updating role:",Mt),Mt}ve({title:xe==="approved"?"Request Approved":"Request Denied",description:xe==="approved"?"The user's role has been updated successfully":"The role change request has been denied"}),dt()}catch(Ot){console.error("Error processing role change request:",Ot),ve({title:"Error",description:Ot instanceof Error?Ot.message:"Failed to process request",variant:"destructive"})}finally{ee(null)}},at=Q=>{_(Q),k({title:Q.title,description:Q.description,url:Q.url,category:Q.category,content_type:Q.content_type}),E({}),b(!0)},nt=()=>{_(null),k({title:"",description:"",url:"",category:"financial_literacy",content_type:"article"}),E({}),O("url"),P(null),Z(null)},dr=async Q=>{const{error:xe}=await M.from("profiles").update({approval_status:"approved"}).eq("id",Q);if(xe){ve({title:"Error",description:"Failed to approve user.",variant:"destructive"});return}ve({title:"Success",description:"User approved successfully."}),he()},er=async Q=>{const{error:xe}=await M.from("profiles").update({approval_status:"rejected"}).eq("id",Q);if(xe){ve({title:"Error",description:"Failed to reject user.",variant:"destructive"});return}ve({title:"Success",description:"User rejected successfully."}),he()},zt=Q=>Q.split("_").map(xe=>xe.charAt(0).toUpperCase()+xe.slice(1)).join(" "),se=Q=>Kg.sanitize(Q,{ALLOWED_TAGS:[],ALLOWED_ATTR:[],KEEP_CONTENT:!0}).trim(),_e=Q=>{const xe=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,Xe=Q.split(/[\n,;]+/).map(it=>it.trim().toLowerCase()).filter(Boolean);return Array.from(new Set(Xe.filter(it=>xe.test(it))))},Oe=async Q=>{if(Q){G(!0);try{const xe=await Q.text(),Xe=_e(xe);if(Xe.length===0){ve({title:"No valid emails found",description:"Upload a CSV containing at least one valid email address.",variant:"destructive"});return}const{data:{user:it}}=await M.auth.getUser();if(!it)throw new Error("Not authenticated");const{data:Ot,error:_t}=await M.rpc("upsert_preapproved_emails",{p_emails:Xe,p_admin_id:it.id});if(_t)throw _t;const Mt=Ot?.[0];ve({title:"Pre-approvals updated",description:`Processed ${Mt?.processed_count??Xe.length} emails, auto-approved ${Mt?.auto_approved??0} pending users.`}),pt(),he()}catch(xe){console.error("Error uploading pre-approved emails:",xe),ve({title:"Error",description:xe instanceof Error?xe.message:"Failed to upload pre-approved emails",variant:"destructive"})}finally{G(!1)}}},Se=async()=>{const Q=_e(pe);if(Q.length===0){ve({title:"No valid emails found",description:"Enter a comma, semicolon, or newline separated list of emails.",variant:"destructive"});return}G(!0);try{const{data:{user:xe}}=await M.auth.getUser();if(!xe)throw new Error("Not authenticated");const{data:Xe,error:it}=await M.rpc("upsert_preapproved_emails",{p_emails:Q,p_admin_id:xe.id});if(it)throw it;const Ot=Xe?.[0];ve({title:"Pre-approvals updated",description:`Processed ${Ot?.processed_count??Q.length} emails, auto-approved ${Ot?.auto_approved??0} pending users.`}),oe(""),pt(),he()}catch(xe){console.error("Error submitting pre-approved emails:",xe),ve({title:"Error",description:xe instanceof Error?xe.message:"Failed to submit pre-approved emails",variant:"destructive"})}finally{G(!1)}},It=async Q=>{if(confirm("Are you sure you want to delete this pre-approved email?")){Re(Q);try{const{error:xe}=await M.from("preapproved_emails").delete().eq("id",Q);if(xe)throw xe;ve({title:"Success",description:"Pre-approved email deleted successfully."}),pt()}catch(xe){console.error("Error deleting pre-approved email:",xe),ve({title:"Error",description:xe instanceof Error?xe.message:"Failed to delete pre-approved email",variant:"destructive"})}finally{Re(null)}}};return r?s.jsx("div",{className:"container mx-auto p-8 flex items-center justify-center min-h-screen",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})}):e?s.jsxs("div",{className:"container mx-auto p-4 sm:p-8 space-y-6 sm:space-y-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-4xl font-bold mb-2",children:"Admin Dashboard"}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Manage users, resources, and monitor platform activity"})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4",children:[s.jsxs(Ye,{children:[s.jsxs(yr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(wr,{className:"text-sm font-medium",children:"Total Users"}),s.jsx(Vr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Jt,{children:s.jsx("div",{className:"text-2xl font-bold",children:z.totalUsers})})]}),s.jsxs(Ye,{children:[s.jsxs(yr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(wr,{className:"text-sm font-medium",children:"Active Users"}),s.jsx(bi,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Jt,{children:s.jsx("div",{className:"text-2xl font-bold",children:z.activeUsers})})]}),s.jsxs(Ye,{children:[s.jsxs(yr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(wr,{className:"text-sm font-medium",children:"Pending Approval"}),s.jsx(nd,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Jt,{children:s.jsx("div",{className:"text-2xl font-bold",children:z.pendingUsers})})]}),s.jsxs(Ye,{children:[s.jsxs(yr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(wr,{className:"text-sm font-medium",children:"Messages Sent"}),s.jsx(Eo,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Jt,{children:s.jsx("div",{className:"text-2xl font-bold",children:z.totalMessages})})]}),s.jsxs(Ye,{children:[s.jsxs(yr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(wr,{className:"text-sm font-medium",children:"Connections"}),s.jsx(UR,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Jt,{children:s.jsx("div",{className:"text-2xl font-bold",children:z.totalConnections})})]})]}),s.jsxs(Kc,{defaultValue:"users",className:"space-y-6",children:[s.jsxs(tl,{className:"w-full sm:w-auto flex-wrap h-auto",children:[s.jsxs(dn,{value:"users",className:"flex-1 sm:flex-none",children:[s.jsx(Vr,{className:"h-4 w-4 mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"User Management"}),s.jsx("span",{className:"sm:hidden",children:"Users"}),z.pendingUsers>0&&s.jsx(qe,{variant:"destructive",className:"ml-2 text-xs",children:z.pendingUsers})]}),s.jsxs(dn,{value:"preapprovals",className:"flex-1 sm:flex-none",children:[s.jsx(xR,{className:"h-4 w-4 mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Pre-Approvals"}),s.jsx("span",{className:"sm:hidden",children:"Pre-Approve"})]}),s.jsxs(dn,{value:"role-changes",className:"flex-1 sm:flex-none",children:[s.jsx(yp,{className:"h-4 w-4 mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Role Changes"}),s.jsx("span",{className:"sm:hidden",children:"Roles"}),U.length>0&&s.jsx(qe,{variant:"destructive",className:"ml-2 text-xs",children:U.length})]}),s.jsxs(dn,{value:"user-badges",className:"flex-1 sm:flex-none",children:[s.jsx(Vr,{className:"h-4 w-4 mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"User Badges"}),s.jsx("span",{className:"sm:hidden",children:"Badges"})]}),s.jsxs(dn,{value:"resources",className:"flex-1 sm:flex-none",children:[s.jsx(ys,{className:"h-4 w-4 mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"LaceHub Resources"}),s.jsx("span",{className:"sm:hidden",children:"Resources"})]}),s.jsxs(dn,{value:"feedback",className:"flex-1 sm:flex-none",children:[s.jsx(Eo,{className:"h-4 w-4 mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"User Feedback"}),s.jsx("span",{className:"sm:hidden",children:"Feedback"}),h>0&&s.jsx(qe,{variant:"destructive",className:"ml-2 text-xs",children:h})]})]}),s.jsx(kn,{value:"users",children:s.jsxs(Ye,{children:[s.jsxs(yr,{children:[s.jsx(wr,{children:"Pending User Approvals"}),s.jsx(nn,{children:"Review and approve new user registrations"})]}),s.jsx(Jt,{children:o.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Q_,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No pending approvals"})]}):s.jsx("div",{className:"overflow-x-auto -mx-6 px-6",children:s.jsxs(jo,{children:[s.jsx(No,{children:s.jsxs(En,{children:[s.jsx(Pt,{children:"Name"}),s.jsx(Pt,{children:"Role"}),s.jsx(Pt,{children:"Contact Email"}),s.jsx(Pt,{children:"University"}),s.jsx(Pt,{children:"Sport"}),s.jsx(Pt,{children:"Registered"}),s.jsx(Pt,{children:"Status"}),s.jsx(Pt,{className:"text-right",children:"Actions"})]})}),s.jsx(So,{children:o.map(Q=>s.jsxs(En,{children:[s.jsx(Rt,{children:Kt(Q.first_name,Q.last_name)||""}),s.jsx(Rt,{children:Q.user_role?s.jsx(qe,{variant:Q.user_role==="admin"?"destructive":Q.user_role==="employer"?"default":Q.user_role==="mentor"?"secondary":"outline",className:"text-xs",children:Q.user_role.charAt(0).toUpperCase()+Q.user_role.slice(1)}):s.jsx("span",{className:"text-muted-foreground",children:""})}),s.jsx(Rt,{className:"font-medium",children:Q.email}),s.jsx(Rt,{children:Q.university||""}),s.jsx(Rt,{children:Q.sport||""}),s.jsx(Rt,{children:na(Q.created_at)}),s.jsx(Rt,{children:s.jsx(qe,{variant:"secondary",children:"Pending"})}),s.jsxs(Rt,{className:"text-right space-x-2",children:[s.jsxs(de,{size:"sm",variant:"default",onClick:()=>dr(Q.id),children:[s.jsx(bi,{className:"h-4 w-4 mr-1"}),"Approve"]}),s.jsxs(de,{size:"sm",variant:"destructive",onClick:()=>er(Q.id),children:[s.jsx(nd,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]},Q.id))})]})})})]})}),s.jsx(kn,{value:"preapprovals",children:s.jsxs(Ye,{children:[s.jsxs(yr,{children:[s.jsx(wr,{children:"Pre-Approve Users by Email"}),s.jsx(nn,{children:"Upload a CSV of emails to auto-approve matching pending users and future signups"})]}),s.jsxs(Jt,{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[s.jsx(ot,{type:"file",accept:".csv",disabled:ce,onChange:Q=>{const xe=Q.target.files?.[0]||null;Oe(xe),Q.target.value=""}}),s.jsx(de,{type:"button",variant:"outline",disabled:!0,className:"justify-start flex-1 sm:flex-none",children:"CSV format: one email per cell/row"}),ce&&s.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[s.jsx(qt,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"sm:col-span-2 space-y-2",children:[s.jsx(Me,{htmlFor:"preapproval-text",children:"Or paste emails (comma, semicolon, or newline separated)"}),s.jsx(Zr,{id:"preapproval-text",placeholder:"user1@example.com, user2@example.com",value:pe,onChange:Q=>oe(Q.target.value),rows:4,disabled:ce})]}),s.jsxs("div",{className:"flex sm:flex-col gap-2 justify-end sm:justify-start",children:[s.jsxs(de,{type:"button",onClick:Se,disabled:ce,children:[ce&&s.jsx(qt,{className:"h-4 w-4 mr-2 animate-spin"}),"Submit Emails"]}),s.jsx(de,{type:"button",variant:"outline",onClick:()=>oe(""),disabled:ce||pe.length===0,children:"Clear"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Emails are deduplicated and stored with the admin who uploaded them. Pending users with matching emails are approved immediately, and new registrations using these emails will be approved on sign-in."}),s.jsx("div",{className:"overflow-x-auto -mx-6 px-6",children:s.jsxs(jo,{children:[s.jsx(No,{children:s.jsxs(En,{children:[s.jsx(Pt,{children:"Email"}),s.jsx(Pt,{children:"Status"}),s.jsx(Pt,{children:"Added By"}),s.jsx(Pt,{children:"Created"}),s.jsx(Pt,{className:"text-right",children:"Actions"})]})}),s.jsx(So,{children:$.length===0?s.jsx(En,{children:s.jsx(Rt,{colSpan:5,className:"text-center text-muted-foreground py-6",children:"No pre-approved emails yet."})}):$.map(Q=>{const xe=o.find(Xe=>Xe.email?.toLowerCase()===Q.email.toLowerCase())||c?.find(Xe=>Xe.email?.toLowerCase()===Q.email.toLowerCase()&&Xe.approval_status==="approved");return s.jsxs(En,{children:[s.jsx(Rt,{className:"font-medium",children:Q.email}),s.jsx(Rt,{children:xe?s.jsx(qe,{className:"bg-green-500/10 text-green-600 border border-green-500/20",children:"User signed up"}):s.jsx("span",{className:"text-muted-foreground text-sm",children:"Not yet used"})}),s.jsx(Rt,{children:Q.approver?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:Kt(Q.approver.first_name,Q.approver.last_name)||"Admin"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:Q.approver.email})]}):s.jsx("span",{className:"text-muted-foreground",children:""})}),s.jsx(Rt,{children:na(Q.created_at)}),s.jsx(Rt,{className:"text-right",children:s.jsx(de,{size:"sm",variant:"ghost",onClick:()=>It(Q.id),disabled:ue===Q.id,children:ue===Q.id?s.jsx(qt,{className:"h-4 w-4 animate-spin"}):s.jsx(ws,{className:"h-4 w-4"})})})]},Q.id)})})]})})]})]})}),s.jsx(kn,{value:"role-changes",children:s.jsxs(Ye,{children:[s.jsxs(yr,{children:[s.jsx(wr,{children:"Pending Role Change Requests"}),s.jsx(nn,{children:"Review and approve user role change requests"})]}),s.jsx(Jt,{children:U.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(yp,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No pending role change requests"})]}):s.jsx("div",{className:"overflow-x-auto -mx-6 px-6",children:s.jsxs(jo,{children:[s.jsx(No,{children:s.jsxs(En,{children:[s.jsx(Pt,{children:"User"}),s.jsx(Pt,{children:"Current Role"}),s.jsx(Pt,{children:"Requested Role"}),s.jsx(Pt,{children:"Reason"}),s.jsx(Pt,{children:"Submitted"}),s.jsx(Pt,{className:"text-right",children:"Actions"})]})}),s.jsx(So,{children:U.map(Q=>s.jsxs(En,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>{H(Q),A(!0)},children:[s.jsx(Rt,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:Kt(Q.profiles?.first_name,Q.profiles?.last_name)||""}),s.jsx("div",{className:"text-sm text-muted-foreground",children:Q.profiles?.email})]})}),s.jsx(Rt,{children:s.jsx(qe,{variant:"outline",className:"text-xs",children:Q.current_role.charAt(0).toUpperCase()+Q.current_role.slice(1)})}),s.jsx(Rt,{children:s.jsx(qe,{variant:Q.requested_role==="employer"?"default":Q.requested_role==="mentor"?"secondary":"outline",className:"text-xs",children:Q.requested_role.charAt(0).toUpperCase()+Q.requested_role.slice(1)})}),s.jsx(Rt,{className:"max-w-md",children:s.jsx("div",{className:"text-sm whitespace-pre-wrap line-clamp-3",children:Q.reason})}),s.jsx(Rt,{className:"text-sm",children:na(Q.created_at)}),s.jsxs(Rt,{className:"text-right space-x-2",children:[s.jsxs(de,{size:"sm",variant:"default",onClick:xe=>{xe.stopPropagation(),He(Q.id,"approved",Q.user_id,Q.requested_role)},disabled:V===Q.id,children:[V===Q.id?s.jsx(qt,{className:"h-4 w-4 mr-1 animate-spin"}):s.jsx(bi,{className:"h-4 w-4 mr-1"}),"Approve"]}),s.jsxs(de,{size:"sm",variant:"destructive",onClick:xe=>{xe.stopPropagation(),He(Q.id,"rejected",Q.user_id,Q.requested_role)},disabled:V===Q.id,children:[V===Q.id?s.jsx(qt,{className:"h-4 w-4 mr-1 animate-spin"}):s.jsx(nd,{className:"h-4 w-4 mr-1"}),"Deny"]})]})]},Q.id))})]})})})]})}),s.jsx(kn,{value:"resources",children:s.jsxs(Ye,{children:[s.jsx(yr,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(wr,{children:"LaceHub Resources"}),s.jsx(nn,{children:"Manage educational resources and track engagement"})]}),s.jsxs(hn,{open:y,onOpenChange:Q=>{b(Q),Q||nt()},children:[s.jsx(Ei,{asChild:!0,children:s.jsxs(de,{children:[s.jsx(ko,{className:"h-4 w-4 mr-2"}),"Add Resource"]})}),s.jsxs(fn,{className:"w-[95vw] sm:w-full sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Cn,{children:[s.jsx(mn,{children:S?"Edit Resource":"Create New Resource"}),s.jsx(Tn,{children:S?"Update resource details":"Add a new educational resource to LaceHub"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{htmlFor:"title",children:"Title *"}),s.jsx(ot,{id:"title",value:j.title,onChange:Q=>k({...j,title:Q.target.value}),placeholder:"e.g., Building Your Personal Brand"}),C.title&&s.jsx("p",{className:"text-sm text-destructive",children:C.title})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{htmlFor:"description",children:"Description *"}),s.jsx(Zr,{id:"description",value:j.description,onChange:Q=>k({...j,description:Q.target.value}),placeholder:"Brief description of what this resource covers...",rows:3}),C.description&&s.jsx("p",{className:"text-sm text-destructive",children:C.description})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Me,{children:"Resource Source *"}),s.jsxs($E,{value:N,onValueChange:Q=>{O(Q),E({})},className:"flex gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(og,{value:"url",id:"input-url"}),s.jsxs(Me,{htmlFor:"input-url",className:"flex items-center gap-1 cursor-pointer",children:[s.jsx(TR,{className:"h-4 w-4"}),"URL"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(og,{value:"file",id:"input-file"}),s.jsxs(Me,{htmlFor:"input-file",className:"flex items-center gap-1 cursor-pointer",children:[s.jsx(ob,{className:"h-4 w-4"}),"File Upload"]})]})]}),N==="url"?s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{id:"url",type:"url",value:j.url,onChange:Q=>k({...j,url:Q.target.value}),placeholder:"https://example.com/resource"}),C.url&&s.jsx("p",{className:"text-sm text-destructive",children:C.url})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(ot,{id:"file",type:"file",accept:".pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx,.mp4,.mp3,.jpg,.jpeg,.png,.gif,.webp",onChange:Q=>{const xe=Q.target.files?.[0];xe&&(P(xe),E({}))},className:"cursor-pointer"})}),R&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Selected: ",R.name]}),S&&!R&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Current: ",S.url.split("/").pop()]}),C.file&&s.jsx("p",{className:"text-sm text-destructive",children:C.file})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{htmlFor:"logo",children:"Logo Image (Optional)"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload a logo or thumbnail image to display on the resource card"}),s.jsx(ot,{id:"logo",type:"file",accept:".jpg,.jpeg,.png,.gif,.webp,.svg",onChange:Q=>{const xe=Q.target.files?.[0];xe&&Z(xe)},className:"cursor-pointer"}),I&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:URL.createObjectURL(I),alt:"Logo preview",className:"h-12 w-12 object-contain rounded border"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:I.name}),s.jsx(de,{type:"button",variant:"ghost",size:"sm",onClick:()=>Z(null),children:"Remove"})]}),S?.logo_url&&!I&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:S.logo_url,alt:"Current logo",className:"h-12 w-12 object-contain rounded border"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Current logo"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{htmlFor:"category",children:"Category *"}),s.jsxs(Ua,{value:j.category,onValueChange:Q=>k({...j,category:Q}),children:[s.jsx(ta,{children:s.jsx(Ba,{})}),s.jsxs(ra,{children:[s.jsx(Vt,{value:"academic",children:"Academic"}),s.jsx(Vt,{value:"financial_literacy",children:"Financial Literacy"}),s.jsx(Vt,{value:"personal_branding",children:"Personal Branding"}),s.jsx(Vt,{value:"career",children:"Career"}),s.jsx(Vt,{value:"networking",children:"Networking"}),s.jsx(Vt,{value:"resume_building",children:"Resume Building"}),s.jsx(Vt,{value:"interview_prep",children:"Interview Prep"})]})]}),C.category&&s.jsx("p",{className:"text-sm text-destructive",children:C.category})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Me,{htmlFor:"content_type",children:"Content Type *"}),s.jsxs(Ua,{value:j.content_type,onValueChange:Q=>k({...j,content_type:Q}),children:[s.jsx(ta,{children:s.jsx(Ba,{})}),s.jsxs(ra,{children:[s.jsx(Vt,{value:"article",children:"Article"}),s.jsx(Vt,{value:"service",children:"Service"}),s.jsx(Vt,{value:"content",children:"Content"})]})]}),C.content_type&&s.jsx("p",{className:"text-sm text-destructive",children:C.content_type})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(de,{variant:"outline",onClick:()=>{b(!1),nt()},children:"Cancel"}),s.jsxs(de,{onClick:De,disabled:B,children:[B&&s.jsx(qt,{className:"h-4 w-4 animate-spin mr-2"}),S?"Update":"Create"," Resource"]})]})]})]})]})}),s.jsx(Jt,{children:v.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(ys,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No resources yet. Create your first one!"})]}):s.jsx("div",{className:"overflow-x-auto -mx-6 px-6",children:s.jsxs(jo,{children:[s.jsx(No,{children:s.jsxs(En,{children:[s.jsx(Pt,{children:"Title"}),s.jsx(Pt,{children:"Category"}),s.jsx(Pt,{children:"Type"}),s.jsx(Pt,{children:"Status"}),s.jsxs(Pt,{className:"text-center",children:[s.jsx(XT,{className:"h-4 w-4 inline mr-1"}),"Clicks"]}),s.jsx(Pt,{className:"text-center",children:"Featured"}),s.jsx(Pt,{className:"text-right",children:"Actions"})]})}),s.jsx(So,{children:v.map(Q=>s.jsxs(En,{children:[s.jsx(Rt,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:se(Q.title)}),s.jsx("div",{className:"text-sm text-muted-foreground line-clamp-1",children:se(Q.description)})]})}),s.jsx(Rt,{children:s.jsx(qe,{variant:"outline",children:zt(Q.category)})}),s.jsx(Rt,{className:"capitalize",children:Q.content_type.replace("_"," ")}),s.jsx(Rt,{children:s.jsx(qe,{className:Q.is_active?"bg-green-100 text-green-800 hover:bg-green-200 cursor-pointer":"bg-red-100 text-red-800 hover:bg-red-200 cursor-pointer",children:Q.is_active?"Active":"Inactive"})}),s.jsx(Rt,{className:"text-center font-semibold",children:Q.click_count}),s.jsx(Rt,{className:"text-center",children:s.jsx(qe,{className:Q.is_featured?"bg-green-100 text-green-800 hover:bg-green-200 cursor-pointer":"bg-red-100 text-red-800 hover:bg-red-200 cursor-pointer",children:Q.is_featured?"Yes":"No"})}),s.jsxs(Rt,{className:"text-right space-x-2",children:[s.jsx(de,{size:"sm",variant:Q.is_featured?"default":"outline",onClick:()=>me(Q.id,Q.is_featured||!1),className:Q.is_featured?"bg-amber-500 hover:bg-amber-600":"",children:Q.is_featured?" Featured":"Feature"}),s.jsx(de,{size:"sm",variant:"outline",onClick:()=>Y(Q.id,Q.is_active),children:Q.is_active?"Deactivate":"Activate"}),s.jsx(de,{size:"sm",variant:"ghost",onClick:()=>at(Q),children:s.jsx(sb,{className:"h-4 w-4"})}),s.jsx(de,{size:"sm",variant:"ghost",onClick:()=>Ze(Q.id),children:s.jsx(ws,{className:"h-4 w-4"})})]})]},Q.id))})]})})})]})}),s.jsx(kn,{value:"user-badges",children:s.jsx(X6,{})}),s.jsx(kn,{value:"feedback",children:s.jsx(Z6,{onFeedbackStatusChanged:he})})]}),D&&s.jsx(hn,{open:te,onOpenChange:A,children:s.jsxs(fn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Cn,{children:[s.jsx(mn,{children:"Role Change Request Details"}),s.jsx(Tn,{children:"Review and manage this user's role change request"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-muted-foreground",children:"User Name"}),s.jsx("p",{className:"text-base mt-1",children:Kt(D.profiles?.first_name,D.profiles?.last_name)||""})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-muted-foreground",children:"Contact Email"}),s.jsx("p",{className:"text-base mt-1",children:D.profiles?.email||""})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-muted-foreground",children:"Current Role"}),s.jsx("div",{className:"mt-1",children:s.jsx(qe,{variant:"outline",className:"text-xs",children:D.current_role.charAt(0).toUpperCase()+D.current_role.slice(1)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-muted-foreground",children:"Requested Role"}),s.jsx("div",{className:"mt-1",children:s.jsx(qe,{variant:D.requested_role==="employer"?"default":D.requested_role==="mentor"?"secondary":"outline",className:"text-xs",children:D.requested_role.charAt(0).toUpperCase()+D.requested_role.slice(1)})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-muted-foreground",children:"Submitted"}),s.jsx("p",{className:"text-base mt-1",children:na(D.created_at)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-muted-foreground",children:"Reason for Request"}),s.jsx("div",{className:"border rounded-lg p-4 mt-1 bg-secondary/50 whitespace-pre-wrap break-words",children:D.reason})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(de,{variant:"outline",onClick:()=>A(!1),children:"Close"}),s.jsxs(de,{variant:"default",onClick:()=>{He(D.id,"approved",D.user_id,D.requested_role),A(!1)},disabled:V===D.id,children:[V===D.id?s.jsx(qt,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(bi,{className:"h-4 w-4 mr-2"}),"Approve Request"]}),s.jsxs(de,{variant:"destructive",onClick:()=>{He(D.id,"rejected",D.user_id,D.requested_role),A(!1)},disabled:V===D.id,children:[V===D.id?s.jsx(qt,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(nd,{className:"h-4 w-4 mr-2"}),"Deny Request"]})]})]})]})})]}):null};async function rB(e){try{const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-1",r),l=Array.from(new Uint8Array(n)).map(g=>g.toString(16).padStart(2,"0")).join("").toUpperCase(),c=l.substring(0,5),d=l.substring(5),h=await fetch(`https://api.pwnedpasswords.com/range/${c}`,{headers:{"User-Agent":"LaceUP-Security"}});if(!h.ok)return console.warn("HIBP API unavailable:",h.status),!1;const v=(await h.text()).split(`\r
`);for(const g of v){const[y,b]=g.split(":");if(y===d){const S=parseInt(b,10);return console.warn(`Password found in ${S} known breaches`),!0}}return!1}catch(t){return console.error("Error checking password exposure:",t),!1}}const Ti=new Map,WE={maxAttempts:5,windowMs:900*1e3,blockDurationMs:900*1e3};function m_(e,t={}){const{maxAttempts:r,windowMs:n}={...WE,...t},o=Date.now();let l=Ti.get(e);return l?.blockedUntil&&l.blockedUntil>o?{isLimited:!0,remainingTime:Math.ceil((l.blockedUntil-o)/1e3)}:((!l||o-l.firstAttempt>n)&&(l={attempts:0,firstAttempt:o,blockedUntil:null},Ti.set(e,l)),{isLimited:!1,attemptsRemaining:r-l.attempts})}function p_(e,t={}){const{maxAttempts:r,windowMs:n,blockDurationMs:o}={...WE,...t},l=Date.now();let c=Ti.get(e);return!c||l-c.firstAttempt>n?c={attempts:1,firstAttempt:l,blockedUntil:null}:c.attempts+=1,c.attempts>=r?(c.blockedUntil=l+o,Ti.set(e,c),{isLimited:!0,remainingTime:Math.ceil(o/1e3)}):(Ti.set(e,c),{isLimited:!1,attemptsRemaining:r-c.attempts})}function nB(e){Ti.delete(e)}function g_(e){if(e<60)return`${e} second${e!==1?"s":""}`;const t=Math.ceil(e/60);return`${t} minute${t!==1?"s":""}`}const sB=jv({email:cn().email("Invalid email address"),password:cn().min(6,"Password must be at least 6 characters")}),aB=jv({email:cn().email("Invalid email address"),password:cn().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[0-9]/,"Password must contain at least one number"),confirmPassword:cn().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[0-9]/,"Password must contain at least one number"),firstName:cn().min(1,"First name is required").max(50,"First name must not exceed 50 characters"),lastName:cn().min(1,"Last name is required").max(50,"Last name must not exceed 50 characters"),phone:cn().regex(/^\+?[\d\s\-()]+$/,"Invalid phone number format").optional().or(zE("")),university:cn().min(2,"University name must be at least 2 characters").max(100,"University name must not exceed 100 characters"),sport:cn().min(2,"Sport must be at least 2 characters").max(50,"Sport must not exceed 50 characters"),userType:J6(["athlete","mentor","employer"])}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}),oB=()=>{const[e,t]=f.useState(""),[r,n]=f.useState(""),[o,l]=f.useState(""),[c,d]=f.useState(""),[h,p]=f.useState(""),[v,g]=f.useState(""),[y,b]=f.useState(""),[S,_]=f.useState(""),[j,k]=f.useState("athlete"),[C,E]=f.useState(!1),N=ts(),[O]=Ag(),{toast:R}=Or(),I=O.get("tab")==="signup"?"signup":"signin",[Z,B]=f.useState(I);f.useEffect(()=>{(async()=>{const{data:{session:le}}=await M.auth.getSession();le&&N("/home")})();const{data:{subscription:U}}=M.auth.onAuthStateChange((le,V)=>{V&&N("/home")});return()=>U.unsubscribe()},[N]);const X=async F=>{F.preventDefault(),E(!0);const U=`signup:${e.toLowerCase()}`,le=m_(U,{maxAttempts:3,windowMs:3600*1e3});if(le.isLimited){E(!1),R({title:"Too Many Attempts",description:`Please wait ${g_(le.remainingTime)} before trying again.`,variant:"destructive"});return}try{const V=aB.safeParse({email:e,password:r,confirmPassword:o,firstName:c,lastName:h,phone:v,university:y,sport:S,userType:j});if(!V.success){const A=V.error.errors[0];throw new Error(A.message)}if(p_(U,{maxAttempts:3,windowMs:3600*1e3}),await rB(r))throw new Error("This password has been exposed in known data breaches. For your security, please choose a different password.");const{error:D,data:H}=await M.auth.signUp({email:e,password:r,options:{emailRedirectTo:`${window.location.origin}/`,data:{first_name:c,last_name:h,phone:v,university:y,sport:S}}});if(D)throw D;const te=H?.user;if(te){const{error:A}=await M.rpc("assign_user_role",{p_user_id:te.id,p_role:j});A&&(console.error("Error assigning role:",A),R({title:"Warning",description:"Account created but role assignment failed. Please contact support.",variant:"destructive"}));const{data:$,error:J}=await M.rpc("auto_approve_if_preapproved",{p_user_id:te.id,p_email:e});J&&console.error("Error checking/approving preapproved user:",J),R({title:"Success!",description:$===!0?"Account created and approved! You can now sign in after verifying your email.":"Account created. Please wait for admin approval to access the platform."})}else console.error("Error: No user returned from signup"),R({title:"Success!",description:"Account created. Please wait for admin approval to access the platform."});t(""),n(""),l(""),d(""),p(""),g(""),b(""),_(""),k("athlete")}catch(V){R({title:"Error",description:V instanceof Error?V.message:"An error occurred",variant:"destructive"})}finally{E(!1)}},z=async F=>{F.preventDefault(),E(!0);const U=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";if(!U){const le=`signin:${e.toLowerCase()}`,V=m_(le,{maxAttempts:5,windowMs:900*1e3});if(V.isLimited){E(!1),R({title:"Too Many Attempts",description:`Please wait ${g_(V.remainingTime)} before trying again.`,variant:"destructive"});return}}try{const le=sB.safeParse({email:e,password:r});if(!le.success){const $=le.error.errors[0];E(!1),R({title:"Validation Error",description:$.message,variant:"destructive"});return}const{error:V}=await M.auth.signInWithPassword({email:e,password:r});if(V){E(!1);let $=V.message;if(!U){const J=`signin:${e.toLowerCase()}`,ce=p_(J);ce.attemptsRemaining!==void 0&&ce.attemptsRemaining<=2&&($+=` (${ce.attemptsRemaining} attempt${ce.attemptsRemaining!==1?"s":""} remaining)`)}R({title:"Error",description:$,variant:"destructive"});return}if(!U){const $=`signin:${e.toLowerCase()}`;nB($)}E(!1);const{data:ee,error:D}=await M.rpc("check_user_approval");if(D||!ee||!ee[0]){await M.auth.signOut(),R({title:"Error",description:"Failed to verify account status. Please try again.",variant:"destructive"});return}const{is_approved:H,approval_status:te}=ee[0];if(!H){await M.auth.signOut(),te==="pending"?R({title:"Pending Approval",description:"Your account is pending admin approval. Please wait.",variant:"destructive"}):te==="rejected"&&R({title:"Access Denied",description:"Your account registration was not approved.",variant:"destructive"});return}const{data:{user:A}}=await M.auth.getUser();if(A){const{data:$}=await M.from("profiles").select("approval_status").eq("id",A.id).single();if($?.approval_status!=="approved"){await M.auth.signOut(),R({title:"Access Denied",description:"Your account status does not permit access.",variant:"destructive"});return}}}catch(le){E(!1),R({title:"Error",description:le instanceof Error?le.message:"An error occurred during sign in",variant:"destructive"})}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:s.jsxs(Ye,{className:"w-full max-w-md",children:[s.jsxs(yr,{children:[s.jsx(wr,{children:"Welcome"}),s.jsx(nn,{children:"Sign in or create an account to continue"})]}),s.jsx(Jt,{children:s.jsxs(Kc,{value:Z,onValueChange:B,className:"w-full",children:[s.jsxs(tl,{className:"grid w-full grid-cols-2",children:[s.jsx(dn,{value:"signin",children:"Sign In"}),s.jsx(dn,{value:"signup",children:"Sign Up"})]}),s.jsx(kn,{value:"signin",children:s.jsxs("form",{onSubmit:z,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Me,{htmlFor:"signin-email",children:["Email ",s.jsx("span",{style:{color:"red"},children:"*"})]}),s.jsx(ot,{id:"signin-email",type:"email",placeholder:"you@example.com",value:e,onChange:F=>t(F.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Me,{htmlFor:"signin-password",children:["Password ",s.jsx("span",{style:{color:"red"},children:"*"})]}),s.jsx(ot,{id:"signin-password",type:"password",value:r,onChange:F=>n(F.target.value),required:!0})]}),s.jsx(de,{type:"submit",className:"w-full",disabled:C,children:C?"Signing in...":"Sign In"})]})}),s.jsx(kn,{value:"signup",children:s.jsxs("form",{onSubmit:X,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Me,{htmlFor:"signup-firstname",children:["First Name ",s.jsx("span",{style:{color:"red"},children:"*"})]}),s.jsx(ot,{id:"signup-firstname",type:"text",placeholder:"John",value:c,onChange:F=>d(F.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Me,{htmlFor:"signup-lastname",children:["Last Name ",s.jsx("span",{style:{color:"red"},children:"*"})]}),s.jsx(ot,{id:"signup-lastname",type:"text",placeholder:"Doe",value:h,onChange:F=>p(F.target.value),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Me,{htmlFor:"signup-email",children:["Email ",s.jsx("span",{style:{color:"red"},children:"*"})]}),s.jsx(ot,{id:"signup-email",type:"email",placeholder:"you@example.com",value:e,onChange:F=>t(F.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Me,{htmlFor:"signup-phone",children:["Phone ",s.jsx("span",{style:{color:"red"},children:"*"})]}),s.jsx(ot,{id:"signup-phone",type:"tel",placeholder:"(555) 123-4567",value:v,onChange:F=>g(p1(F.target.value)),maxLength:14,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Me,{htmlFor:"signup-university",children:["University ",s.jsx("span",{style:{color:"red"},children:"*"})]}),s.jsx(ot,{id:"signup-university",type:"text",placeholder:"University Name",value:y,onChange:F=>b(F.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Me,{htmlFor:"signup-sport",children:["Sport ",s.jsx("span",{style:{color:"red"},children:"*"})]}),s.jsx(ot,{id:"signup-sport",type:"text",placeholder:"e.g., Basketball, Soccer, Track",value:S,onChange:F=>_(F.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Me,{htmlFor:"signup-usertype",children:["I am a ",s.jsx("span",{style:{color:"red"},children:"*"})]}),s.jsx("div",{className:"flex gap-2",children:["athlete","mentor","employer"].map(F=>s.jsx(de,{type:"button",variant:j===F?"default":"outline",className:"flex-1 capitalize",onClick:()=>k(F),children:F},F))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Me,{htmlFor:"signup-password",children:["Password ",s.jsx("span",{style:{color:"red"},children:"*"})]}),s.jsx(ot,{id:"signup-password",type:"password",value:r,onChange:F=>n(F.target.value),required:!0,minLength:8})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Me,{htmlFor:"signup-confirm-password",children:["Confirm Password ",s.jsx("span",{style:{color:"red"},children:"*"})]}),s.jsx(ot,{id:"signup-confirm-password",type:"password",value:o,onChange:F=>l(F.target.value),required:!0,minLength:8})]}),s.jsx(de,{type:"submit",className:"w-full",disabled:C,children:C?"Creating account...":"Sign Up"}),s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Your account will require admin approval before you can access the platform."})]})})]})})]})})},iB=()=>{const[e,t]=f.useState([]),[r,n]=f.useState(!0),[o,l]=f.useState("all"),{toast:c}=Or(),d=f.useCallback(async()=>{try{const{data:_,error:j}=await M.from("resources").select("*").eq("is_active",!0);if(j)throw j;const{data:k}=await M.from("resource_clicks").select("resource_id"),C=k?.reduce((N,O)=>(N[O.resource_id]=(N[O.resource_id]||0)+1,N),{})||{},E=(_||[]).map(N=>({...N,click_count:C[N.id]||0})).sort((N,O)=>N.is_featured!==O.is_featured?(O.is_featured?1:0)-(N.is_featured?1:0):N.click_count!==O.click_count?O.click_count-N.click_count:new Date(O.created_at).getTime()-new Date(N.created_at).getTime());t(E)}catch(_){console.error("Error fetching resources:",_),c({title:"Error",description:"Failed to load resources",variant:"destructive"})}finally{n(!1)}},[c]);f.useEffect(()=>{d()},[d]);const h=_=>_.includes("/storage/v1/object/public/resource-files/"),p=_=>(_.split("/").pop()||"").split(".").pop()?.toUpperCase()||null,v=async(_,j)=>{try{const{data:{user:k}}=await M.auth.getUser();if(k&&await M.from("resource_clicks").insert({resource_id:_,user_id:k.id}),h(j)){const C=document.createElement("a");C.href=j,C.download=j.split("/").pop()||"download",document.body.appendChild(C),C.click(),document.body.removeChild(C)}else window.open(j,"_blank")}catch(k){if(console.error("Error tracking click:",k),h(j)){const C=document.createElement("a");C.href=j,C.download=j.split("/").pop()||"download",document.body.appendChild(C),C.click(),document.body.removeChild(C)}else window.open(j,"_blank")}},g=_=>{switch(_){case"article":return s.jsx(dw,{className:"h-5 w-5"});case"video":return s.jsx(lb,{className:"h-5 w-5"});case"mentor_advice":return s.jsx(Eo,{className:"h-5 w-5"});default:return s.jsx(dw,{className:"h-5 w-5"})}},y=_=>_.split("_").map(j=>j.charAt(0).toUpperCase()+j.slice(1)).join(" "),b=o==="all"?e:e.filter(_=>_.category===o),S=["all",...Array.from(new Set(e.map(_=>_.category)))];return r?s.jsx("div",{className:"container mx-auto py-8 px-4 md:px-6",children:s.jsx(oa,{fullPage:!0,text:"Loading resources..."})}):s.jsxs("div",{className:"container mx-auto py-8 px-4 md:px-6",children:[s.jsxs("div",{className:"flex justify-center items-center gap-4 sm:gap-6 mb-8 sm:mb-10",children:[s.jsx("img",{src:"/LaceHub.PNG",alt:"LaceHub",className:"h-24 w-24 sm:h-36 sm:w-36 rounded-xl object-contain shadow-md flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col justify-center",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold tracking-tight",children:"LaceHub"}),s.jsx("p",{className:"text-muted-foreground text-sm sm:text-lg mt-1",children:"Your centralized resource hub for life beyond sports"})]})]}),s.jsx(Kc,{value:o,onValueChange:l,className:"mb-8",children:s.jsx(tl,{className:"flex flex-wrap h-auto gap-1",children:S.map(_=>s.jsx(dn,{value:_,className:"capitalize",children:_==="all"?"All Resources":y(_)},_))})}),b.length===0?s.jsx(Ye,{children:s.jsx(Jt,{className:"py-12 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"No resources available yet."})})}):s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:b.map(_=>s.jsxs(Ye,{className:"hover:shadow-lg transition-shadow overflow-hidden",children:[_.logo_url&&s.jsx("button",{onClick:()=>v(_.id,_.url),className:"w-full h-32 bg-muted flex items-center justify-center p-4 cursor-pointer hover:bg-muted/80 transition-colors",children:s.jsx("img",{src:_.logo_url,alt:`${_.title} logo`,className:"max-h-full max-w-full object-contain"})}),s.jsxs(yr,{children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[g(_.content_type),s.jsx(qe,{variant:"secondary",className:"capitalize",children:_.content_type.replace("_"," ")}),h(_.url)&&p(_.url)&&s.jsx(qe,{variant:"outline",className:"text-xs font-mono",children:p(_.url)})]}),s.jsx(qe,{variant:"outline",className:"capitalize",children:y(_.category)})]}),s.jsx(wr,{className:"line-clamp-2",children:_.title}),s.jsx(nn,{className:"line-clamp-3",children:_.description})]}),s.jsx(Jt,{children:s.jsx(de,{onClick:()=>v(_.id,_.url),className:"w-full",variant:"default",children:h(_.url)?s.jsxs(s.Fragment,{children:[s.jsx(yg,{className:"h-4 w-4 mr-2"}),"Download a Copy"]}):s.jsxs(s.Fragment,{children:[s.jsx(pp,{className:"h-4 w-4 mr-2"}),"View Resource"]})})})]},_.id))})]})},lB=()=>{const e=es(),[t,r]=f.useState([]),[n,o]=f.useState([]),[l,c]=f.useState([]),[d,h]=f.useState(!0),[p,v]=f.useState(""),{toast:g}=Or(),y=e.hash==="#connections"?"connections":"suggestions",b=f.useCallback(async()=>{try{const{data:{user:N}}=await M.auth.getUser();if(!N)return;v(N.id);const{data:O}=await M.from("profiles").select("*").eq("id",N.id).single();O&&await Promise.all([S(N.id,O),_(N.id),j(N.id)])}catch(N){console.error("Error loading hub data:",N)}finally{h(!1)}},[]);f.useEffect(()=>{b()},[b]);const S=async(N,O)=>{try{const{data:R}=await M.from("connections").select("connected_user_id").eq("user_id",N),P=R?.map(D=>D.connected_user_id)||[];let I=M.from("profiles").select("*").eq("approval_status","approved").neq("id",N);P.length>0&&(I=I.not("id","in",`(${P.join(",")})`));const{data:Z,error:B}=await I.limit(20);if(B)throw B;const X=(Z||[]).map(D=>{let H=0;D.university===O.university&&(H+=3),D.sport===O.sport&&(H+=3);const te=D.skills?.filter(A=>O.skills?.includes(A)).length||0;return H+=te*2,{...D,score:H}});X.sort((D,H)=>H.score-D.score);const z=X.slice(0,12),F=z.map(D=>D.id),U=await ea(F),{data:le}=await M.from("user_badges").select("*, badges(*)").in("user_id",F),V=new Map;le?.forEach(D=>{V.has(D.user_id)||V.set(D.user_id,[]),V.get(D.user_id).push(D)});const ee=z.map(D=>{const H=U.get(D.id)||{baseRole:null,hasAdminRole:!1};return{...D,user_role:H.baseRole,user_is_admin:H.hasAdminRole,user_badges:V.get(D.id)??[]}});r(ee)}catch(R){console.error("Error fetching suggestions:",R)}},_=async N=>{try{const{data:O,error:R}=await M.from("connections").select("connected_user_id").eq("user_id",N);if(R)throw R;if(O&&O.length>0){const{data:P,error:I}=await M.from("profiles").select("id, first_name, last_name, avatar_url, university, sport").in("id",O.map(U=>U.connected_user_id));if(I)throw I;const Z=O.map(U=>U.connected_user_id),B=await ea(Z),{data:X}=await M.from("user_badges").select("*, badges(*)").in("user_id",Z),z=new Map;X?.forEach(U=>{z.has(U.user_id)||z.set(U.user_id,[]),z.get(U.user_id).push(U)});const F=(P||[]).map(U=>{const le=B.get(U.id)||{baseRole:null,hasAdminRole:!1};return{...U,user_role:le.baseRole,user_is_admin:le.hasAdminRole,user_badges:z.get(U.id)??[]}});o(F)}}catch(O){console.error("Error fetching connections:",O)}},j=async N=>{try{const{data:O,error:R}=await M.from("groups").select("*").eq("is_active",!0);if(R)throw R;const{data:P}=await M.from("group_members").select("group_id").eq("user_id",N),I=P?.map(z=>z.group_id)||[],{data:Z}=await M.from("group_members").select("group_id"),B=Z?.reduce((z,F)=>(z[F.group_id]=(z[F.group_id]||0)+1,z),{})||{},X=(O||[]).map(z=>({...z,member_count:B[z.id]||0,is_member:I.includes(z.id)}));c(X)}catch(O){console.error("Error fetching groups:",O)}},k=async N=>{try{const{error:O}=await M.from("connections").insert({user_id:p,connected_user_id:N});if(O)throw O;g({title:"Connection sent!",description:"Your connection request has been sent."}),r(R=>R.filter(P=>P.id!==N)),await _(p)}catch(O){g({title:"Error",description:O instanceof Error?O.message:"Failed to connect",variant:"destructive"})}},C=async N=>{try{const{error:O}=await M.from("connections").delete().eq("user_id",p).eq("connected_user_id",N);if(O)throw O;g({title:"Disconnected",description:"You have been disconnected from this user."}),o(R=>R.filter(P=>P.id!==N))}catch(O){g({title:"Error",description:O instanceof Error?O.message:"Failed to disconnect",variant:"destructive"})}},E=async N=>{try{const{error:O}=await M.from("group_members").insert({group_id:N,user_id:p});if(O)throw O;g({title:"Joined group!",description:"You've successfully joined the group."}),c(R=>R.map(P=>P.id===N?{...P,is_member:!0,member_count:(P.member_count||0)+1}:P))}catch(O){g({title:"Error",description:O instanceof Error?O.message:"Failed to join group",variant:"destructive"})}};return d?s.jsx("div",{className:"container mx-auto py-8 px-4 md:px-6",children:s.jsx(oa,{fullPage:!0,text:"Loading your hub..."})}):s.jsxs("div",{className:"container mx-auto py-8 px-4 md:px-6",children:[s.jsxs("div",{className:"mb-6 sm:mb-8",children:[s.jsx("h1",{className:"text-2xl sm:text-4xl font-bold mb-2",children:"Network"}),s.jsxs("p",{className:"text-muted-foreground text-base sm:text-lg",children:["Connect with athletes and mentors who share your journey. ",s.jsx("br",{}),"Looking for career opportunities? Check out the"," ",s.jsx(Zt,{to:"/opportunities",className:"text-primary hover:underline font-medium",children:"Opportunities Board"}),"."]})]}),s.jsxs(Kc,{defaultValue:y,className:"space-y-6",children:[s.jsxs(tl,{className:"w-full sm:w-auto flex flex-wrap h-auto",children:[s.jsxs(dn,{value:"connections",className:"gap-2",children:[s.jsx(bi,{className:"h-4 w-4"}),"My Connections"]}),s.jsxs(dn,{value:"suggestions",className:"gap-2",children:[s.jsx(nc,{className:"h-4 w-4"}),"Suggested Connections"]}),s.jsxs(dn,{value:"groups",className:"gap-2",children:[s.jsx(Vr,{className:"h-4 w-4"}),"Groups"]})]}),s.jsx(kn,{value:"connections",className:"space-y-6",children:n.length===0?s.jsx(Ye,{children:s.jsxs(Jt,{className:"py-12 text-center",children:[s.jsx(bi,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground",children:"You don't have any connections yet."}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Check out the Suggested Connections tab to find people to connect with!"})]})}):s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:n.map(N=>s.jsxs(Ye,{children:[s.jsx(yr,{children:s.jsxs(Zt,{to:`/profile/${N.id}`,className:"flex items-center gap-4 hover:opacity-80 transition-opacity",children:[s.jsxs(lr,{className:"h-16 w-16",children:[s.jsx(cr,{src:N.avatar_url||void 0}),s.jsx(ur,{children:or(N.first_name,N.last_name)})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[s.jsx(wr,{className:"text-lg hover:text-primary transition-colors",children:Kt(N.first_name,N.last_name)||"User"}),N.user_is_admin&&s.jsx(qe,{variant:"destructive",className:"text-xs px-1.5 py-0.5",children:"Admin"}),N.user_role&&s.jsx(qe,{variant:N.user_role==="employer"?"default":N.user_role==="mentor"?"secondary":"outline",className:"text-xs px-1.5 py-0.5",children:N.user_role.charAt(0).toUpperCase()+N.user_role.slice(1)}),N.user_badges&&N.user_badges.map(O=>{const R=O.badges;return R?s.jsx(Rr,{children:s.jsxs(Ar,{delayDuration:100,children:[s.jsx(Pr,{asChild:!0,children:s.jsx("div",{className:"cursor-help",children:R.image_url?s.jsx("img",{src:R.image_url,alt:R.name,className:"w-5 h-5 object-contain"}):R.icon?s.jsx("span",{className:"text-base",children:R.icon}):null})}),s.jsx(Nr,{children:s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-semibold",children:R.name}),R.description&&s.jsx("p",{className:"text-xs mt-1",children:R.description})]})})]})},O.id):null})]}),s.jsx(nn,{className:"text-sm",children:N.university})]})]})}),s.jsxs(Jt,{className:"space-y-3",children:[N.sport&&s.jsx(qe,{variant:"secondary",children:N.sport}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(de,{variant:"outline",size:"sm",asChild:!0,className:"flex-1",children:s.jsx(Zt,{to:`/profile/${N.id}`,children:"View Profile"})}),s.jsx(de,{variant:"ghost",size:"sm",onClick:()=>C(N.id),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:s.jsx(ib,{className:"h-4 w-4"})})]})]})]},N.id))})}),s.jsx(kn,{value:"suggestions",className:"space-y-6",children:t.length===0?s.jsx(Ye,{children:s.jsxs(Jt,{className:"py-12 text-center",children:[s.jsx(a2,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground",children:"No suggestions available at the moment."})]})}):s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:t.map(N=>s.jsxs(Ye,{children:[s.jsx(yr,{children:s.jsxs(Zt,{to:`/profile/${N.id}`,className:"flex items-center gap-4 hover:opacity-80 transition-opacity",children:[s.jsxs(lr,{className:"h-16 w-16",children:[s.jsx(cr,{src:N.avatar_url}),s.jsx(ur,{children:or(N.first_name,N.last_name)})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[s.jsx(wr,{className:"text-lg hover:text-primary transition-colors",children:Kt(N.first_name,N.last_name)||"User"}),N.user_is_admin&&s.jsx(qe,{variant:"destructive",className:"text-xs px-1.5 py-0.5",children:"Admin"}),N.user_role&&s.jsx(qe,{variant:N.user_role==="employer"?"default":N.user_role==="mentor"?"secondary":"outline",className:"text-xs px-1.5 py-0.5",children:N.user_role.charAt(0).toUpperCase()+N.user_role.slice(1)}),N.user_badges&&N.user_badges.map(O=>{const R=O.badges;return R?s.jsx(Rr,{children:s.jsxs(Ar,{delayDuration:100,children:[s.jsx(Pr,{asChild:!0,children:s.jsx("div",{className:"cursor-help",children:R.image_url?s.jsx("img",{src:R.image_url,alt:R.name,className:"w-5 h-5 object-contain"}):R.icon?s.jsx("span",{className:"text-base",children:R.icon}):null})}),s.jsx(Nr,{children:s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-semibold",children:R.name}),R.description&&s.jsx("p",{className:"text-xs mt-1",children:R.description})]})})]})},O.id):null})]}),s.jsx(nn,{className:"text-sm",children:N.university})]})]})}),s.jsxs(Jt,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[N.sport&&s.jsx(qe,{variant:"secondary",children:N.sport}),N.skills?.slice(0,2).map((O,R)=>s.jsx(qe,{variant:"outline",className:"mr-1",children:O},R))]}),N.about&&s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:N.about}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(de,{variant:"outline",asChild:!0,className:"flex-1",children:s.jsx(Zt,{to:`/profile/${N.id}`,children:"View Profile"})}),s.jsxs(de,{onClick:()=>k(N.id),className:"flex-1",children:[s.jsx(nc,{className:"h-4 w-4 mr-2"}),"Connect"]})]})]})]},N.id))})}),s.jsx(kn,{value:"groups",className:"space-y-6",children:l.length===0?s.jsx(Ye,{children:s.jsxs(Jt,{className:"py-12 text-center",children:[s.jsx(Vr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground",children:"No groups available yet."})]})}):s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:l.map(N=>s.jsxs(Ye,{children:[s.jsxs(yr,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(wr,{className:"text-lg",children:N.name}),s.jsx(qe,{variant:"outline",className:"capitalize",children:N.category})]}),s.jsx(nn,{children:N.description})]}),s.jsxs(Jt,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Vr,{className:"h-4 w-4"}),s.jsxs("span",{children:[N.member_count," members"]})]}),s.jsx(de,{onClick:()=>E(N.id),disabled:N.is_member,className:"w-full",variant:N.is_member?"secondary":"default",children:N.is_member?"Joined":"Join Group"})]})]},N.id))})})]})]})},cB=()=>{const e=es();return f.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),s.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),s.jsx("a",{href:"/home",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},uB="/assets/laceupLogo-oU1S5S5i.png";function dB(){const e=ts(),[t,r]=f.useState(!1),n=o=>{document.getElementById(o)?.scrollIntoView({behavior:"smooth"}),r(!1)};return s.jsx("header",{className:"sticky top-0 z-50 bg-white backdrop-blur-md border-b border-[#0A2849]/10 shadow-sm",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex items-center justify-between h-20",children:[s.jsxs("div",{className:"flex items-center cursor-pointer",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[s.jsx("img",{src:uB,alt:"LaceUP",className:"h-12 w-auto"}),s.jsx("span",{className:"ml-3 text-2xl text-[#0A2849]",children:"LaceUP"})]}),s.jsxs("nav",{className:"hidden md:flex items-center gap-10",children:[s.jsx("button",{onClick:()=>n("how-it-works"),className:"text-[#0A2849]/70 hover:text-[#0A2849] transition-colors",children:"How It Works"}),s.jsx("button",{onClick:()=>n("benefits"),className:"text-[#0A2849]/70 hover:text-[#0A2849] transition-colors",children:"Benefits"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(de,{size:"default",variant:"outline",className:"border-[#0A2849] text-[#0A2849] hover:bg-[#0A2849]/5",onClick:()=>e("/auth"),children:"Sign In"}),s.jsx(de,{size:"default",className:"bg-[#E8B555] text-[#0A2849] hover:bg-[#F2C877] px-6 shadow-md hover:shadow-lg transition-all duration-300",onClick:()=>e("/auth?tab=signup"),children:"Sign Up"})]})]}),s.jsx("button",{className:"md:hidden p-2 text-[#0A2849]",onClick:()=>r(!t),children:t?s.jsx(Fs,{className:"w-6 h-6"}):s.jsx(tb,{className:"w-6 h-6"})})]}),t&&s.jsx("nav",{className:"md:hidden py-4 border-t border-[#0A2849]/10",children:s.jsxs("div",{className:"flex flex-col space-y-4",children:[s.jsx("button",{onClick:()=>n("how-it-works"),className:"text-left px-4 py-2 text-muted-foreground hover:text-[#0A2849] transition-colors",children:"How It Works"}),s.jsx("button",{onClick:()=>n("benefits"),className:"text-left px-4 py-2 text-muted-foreground hover:text-[#0A2849] transition-colors",children:"Benefits"}),s.jsx("button",{onClick:()=>n("about"),className:"text-left px-4 py-2 text-muted-foreground hover:text-[#0A2849] transition-colors",children:"About"}),s.jsxs("div",{className:"flex flex-col gap-3 px-4",children:[s.jsx(de,{onClick:()=>e("/auth"),children:"Sign In"}),s.jsx(de,{className:"bg-[#E8B555] text-[#0A2849] hover:bg-[#E8B555]/90",onClick:()=>e("/auth?tab=signup"),children:"Sign Up"})]})]})})]})})}function hB(){ts();const e=t=>{document.getElementById(t)?.scrollIntoView({behavior:"smooth"})};return s.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-[#0A2849] via-[#154170] to-[#0A2849]",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-32 lg:py-40 relative z-10",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h1",{className:"text-4xl lg:text-5xl xl:text-6xl text-white leading-tight",children:["Life beyond the game ",s.jsx("span",{className:"text-[#E8B555]",children:"starts here"})]}),s.jsx("p",{className:"text-xl lg:text-2xl text-white/80 max-w-3xl mx-auto leading-relaxed",children:"Built exclusively for athletes transitioning from their sport into their careers. Connecting talent with mentors, alumni, and real professional opportunities."})]}),s.jsx("div",{className:"flex justify-center pt-4",children:s.jsx(de,{size:"lg",className:"text-lg px-10 py-7 bg-[#E8B555] text-[#0A2849] hover:bg-[#F2C877] shadow-xl hover:shadow-2xl transition-all duration-300",onClick:()=>e("why-we-exist"),children:"Learn More"})})]})})})}function ec({children:e,className:t="",delay:r=0}){const[n,o]=f.useState(!1),l=f.useRef(null);return f.useEffect(()=>{const c=new IntersectionObserver(d=>{d.forEach(h=>{h.isIntersecting&&setTimeout(()=>{o(!0)},r)})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});return l.current&&c.observe(l.current),()=>{l.current&&c.unobserve(l.current)}},[r]),s.jsx("div",{ref:l,className:`transition-all duration-700 ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-8"} ${t}`,children:e})}function fB(){return s.jsx("div",{className:"py-20 bg-white",id:"why-we-exist",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx(ec,{children:s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl lg:text-4xl mb-4",children:"Why We Exist"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-3xl mx-auto",children:"Bridging the gap between athletic excellence and professional success"})]})}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[s.jsx(ec,{delay:100,children:s.jsxs(Ye,{className:"p-8 border-2 hover:border-[#E8B555] transition-colors h-full",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-[#E8B555]/20 rounded-lg flex items-center justify-center",children:s.jsx(G_,{className:"w-6 h-6 text-[#E8B555]"})}),s.jsx("h3",{className:"text-2xl text-[#0A2849]",children:"For Athletes"})]}),s.jsxs("ul",{className:"space-y-4",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-[#E8B555] rounded-full mt-2.5 flex-shrink-0"}),s.jsx("p",{className:"text-muted-foreground",children:"Build your professional identity beyond sports."})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-[#E8B555] rounded-full mt-2.5 flex-shrink-0"}),s.jsx("p",{className:"text-muted-foreground",children:"Connect with alumni, mentors, and recruiters who understand the athlete mindset."})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-[#E8B555] rounded-full mt-2.5 flex-shrink-0"}),s.jsx("p",{className:"text-muted-foreground",children:"Access opportunities curated for athletes, not buried on generic platforms."})]})]})]})}),s.jsx(ec,{delay:200,children:s.jsxs(Ye,{className:"p-8 border-2 hover:border-[#0A2849] transition-colors h-full",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-[#0A2849]/10 rounded-lg flex items-center justify-center",children:s.jsx(c2,{className:"w-6 h-6 text-[#0A2849]"})}),s.jsx("h3",{className:"text-2xl text-[#0A2849]",children:"For Businesses & Recruiters"})]}),s.jsxs("ul",{className:"space-y-4",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-[#0A2849] rounded-full mt-2.5 flex-shrink-0"}),s.jsx("p",{className:"text-muted-foreground",children:"Tap into disciplined, high-performing talent."})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-[#0A2849] rounded-full mt-2.5 flex-shrink-0"}),s.jsx("p",{className:"text-muted-foreground",children:"Reach athletes before they're visible on LinkedIn."})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-[#0A2849] rounded-full mt-2.5 flex-shrink-0"}),s.jsx("p",{className:"text-muted-foreground",children:"Build brand credibility through athlete engagement."})]})]})]})})]})]})})}function mB(){const e=[{number:"1",icon:nc,title:"Create Your Profile",description:"Highlight your athletic journey and professional skills.",color:"navy"},{number:"2",icon:Vr,title:"Make Real Connections",description:"Engage with alumni, advisors, and business leaders who want to invest in athletes.",color:"gold"},{number:"3",icon:ys,title:"Unlock Opportunities",description:"Internships, jobs, mentorships, and collaborations tailored to your strengths.",color:"navy"}];return s.jsx("div",{className:"py-20 bg-[#f8fafc]",id:"how-it-works",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl lg:text-4xl mb-4 text-[#0A2849]",children:"How LaceUp Works"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Three simple steps to start your professional journey"})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:e.map((t,r)=>{const n=t.icon,o=t.color==="navy"?"bg-[#0A2849]":"bg-[#E8B555]",l=t.color==="navy"?"border-[#0A2849]/20":"border-[#E8B555]/30",c=t.color==="navy"?"text-[#0A2849]":"text-[#E8B555]";return s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:`bg-white rounded-xl p-8 border-2 ${l} h-full transition-all hover:shadow-lg`,children:[s.jsx("div",{className:`w-16 h-16 ${o} rounded-xl flex items-center justify-center mb-6 text-white`,children:s.jsx(n,{className:"w-8 h-8"})}),s.jsx("div",{className:`absolute top-4 right-4 text-6xl opacity-20 ${c}`,children:t.number}),s.jsx("h3",{className:"text-xl mb-3 text-[#0A2849]",children:t.title}),s.jsx("p",{className:"text-muted-foreground",children:t.description})]}),r<e.length-1&&s.jsx("div",{className:"hidden md:block absolute top-1/2 -right-4 transform -translate-y-1/2 z-10",children:s.jsx("div",{className:"w-8 h-0.5 bg-gradient-to-r from-[#0A2849] to-[#E8B555]"})})]},r)})})]})})}function pB(){const e=[{icon:rc,title:"Mentorship that matters",description:"Athletes helping athletes.",color:"bg-[#E8B555]/20 text-[#E8B555]"},{icon:wg,title:"Equal visibility",description:"Not just for NIL stars.",color:"bg-[#0A2849]/10 text-[#0A2849]"},{icon:J_,title:"Time-efficient networking",description:"5 minutes a day.",color:"bg-[#E8B555]/20 text-[#E8B555]"},{icon:e2,title:"Career confidence",description:"Transition with purpose.",color:"bg-[#0A2849]/10 text-[#0A2849]"},{icon:jR,title:"Business credibility",description:"Partner with proven talent.",color:"bg-[#E8B555]/20 text-[#E8B555]"}];return s.jsx("div",{className:"py-20 bg-white",id:"benefits",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx(ec,{children:s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl lg:text-4xl mb-4 text-[#0A2849]",children:"The LaceUp Advantage"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Built for athletes, by athletes"})]})}),s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((t,r)=>{const n=t.icon;return s.jsx(ec,{delay:r*50,children:s.jsxs("div",{className:"flex items-start gap-4 bg-[#f8fafc] rounded-xl p-6 hover:shadow-lg transition-shadow border border-[#0A2849]/10 h-full",children:[s.jsx("div",{className:`w-12 h-12 ${t.color} rounded-lg flex items-center justify-center flex-shrink-0`,children:s.jsx(n,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"mb-1 text-[#0A2849]",children:t.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]})]})},r)})})]})})}function gB(){const e=ts();return s.jsxs("div",{className:"relative py-24 bg-gradient-to-br from-[#E8B555] via-[#F2C877] to-[#E8B555] overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiMwQTI4NDkiIGZpbGwtb3BhY2l0eT0iMC4wNSI+PHBhdGggZD0iTTM2IDEzNGgxMnYxMkgzNnptMjQgMGgxMnYxMkg2MHptMC0yNGgxMnYxMkg2MHptMCAxMmgxMnYxMkg2MHptMjQgMGgxMnYxMkg4NHptMC0xMmgxMnYxMkg4NHptMC0yNGgxMnYxMkg4NHptMCAxMmgxMnYxMkg4NHptMjQgMGgxMnYxMmgtMTJ6bTAtMTJoMTJ2MTJoLTEyem0wLTI0aDEydjEyaC0xMnptMCAxMmgxMnYxMmgtMTJ6bTI0IDBoMTJ2MTJoLTEyem0wLTEyaDEydjEyaC0xMnptMC0yNGgxMnYxMmgtMTJ6bTAgMTJoMTJ2MTJoLTEyeiIvPjwvZz48L2c+PC9zdmc+')] opacity-30"}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10",children:[s.jsx("h2",{className:"text-3xl lg:text-4xl mb-6 text-[#0A2849]",children:"Your Next Chapter Starts Here"}),s.jsx("p",{className:"text-xl lg:text-2xl text-[#0A2849]/90 mb-10 max-w-2xl mx-auto leading-relaxed",children:"Join the hundreds that have already signed up!"}),s.jsxs(de,{size:"lg",className:"bg-[#0A2849] text-white hover:bg-[#154170] text-xl px-12 py-7 shadow-2xl hover:shadow-3xl transition-all duration-300 hover:scale-105",onClick:()=>e("/auth?tab=signup"),children:["Join Now",s.jsx(qT,{className:"ml-2 w-6 h-6"})]})]})]})}const vB="/assets/laceup-logo-with-branding-B40Piuom.png";function xB(){const e=t=>{document.getElementById(t)?.scrollIntoView({behavior:"smooth"})};return s.jsx("footer",{className:"bg-white text-[#0A2849] pt-16 pb-8 border-t border-[#0A2849]/10",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"grid md:grid-cols-4 gap-12 mb-12",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("div",{className:"mb-6",children:s.jsx("img",{src:vB,alt:"LaceUp - Wealth Beyond The Field",className:"h-12 w-auto"})}),s.jsx("p",{className:"text-[#0A2849]/70 mb-6 max-w-md leading-relaxed",children:"Empowering athletes to transition beyond the game through meaningful connections, mentorship, and career opportunities."}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("a",{href:"https://www.linkedin.com/company/laceup-network",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-[#0A2849]/10 rounded-lg flex items-center justify-center hover:bg-[#E8B555] hover:text-white transition-colors","aria-label":"LinkedIn",children:s.jsx(AR,{className:"w-5 h-5"})}),s.jsx("a",{href:"https://twitter.com/laceupnetwork",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-[#0A2849]/10 rounded-lg flex items-center justify-center hover:bg-[#E8B555] hover:text-white transition-colors","aria-label":"Twitter/X",children:s.jsx(h2,{className:"w-5 h-5"})}),s.jsx("a",{href:"https://instagram.com/laceupnetwork",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-[#0A2849]/10 rounded-lg flex items-center justify-center hover:bg-[#E8B555] hover:text-white transition-colors","aria-label":"Instagram",children:s.jsx(kR,{className:"w-5 h-5"})}),s.jsx("a",{href:"mailto:contact@laceupnetwork.com",className:"w-10 h-10 bg-[#0A2849]/10 rounded-lg flex items-center justify-center hover:bg-[#E8B555] hover:text-white transition-colors","aria-label":"Email",children:s.jsx(eb,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"mb-4 text-[#E8B555] font-semibold",children:"Quick Links"}),s.jsxs("ul",{className:"space-y-3",children:[s.jsx("li",{children:s.jsx("button",{onClick:()=>e("how-it-works"),className:"text-[#0A2849]/70 hover:text-[#E8B555] transition-colors",children:"How It Works"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>e("benefits"),className:"text-[#0A2849]/70 hover:text-[#E8B555] transition-colors",children:"Benefits"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"mb-4 text-[#E8B555] font-semibold",children:"Who We Serve"}),s.jsxs("ul",{className:"space-y-3 text-[#0A2849]/70",children:[s.jsx("li",{children:"Athletes"}),s.jsx("li",{children:"Alumni"}),s.jsx("li",{children:"Recruiters"}),s.jsx("li",{children:"Businesses"})]})]})]}),s.jsxs("div",{className:"border-t border-[#0A2849]/10 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsx("p",{className:"text-[#0A2849]/60 text-sm",children:" 2025 LaceUp. All rights reserved."}),s.jsxs("div",{className:"flex gap-6 text-sm",children:[s.jsx("a",{href:"#",className:"text-[#0A2849]/60 hover:text-[#E8B555] transition-colors",children:"Privacy Policy"}),s.jsx("a",{href:"#",className:"text-[#0A2849]/60 hover:text-[#E8B555] transition-colors",children:"Terms of Service"})]})]})]})})}const yB=()=>(f.useEffect(()=>{document.title="LaceUP - Professional Networking for Athletes | Join the Waitlist";let e=document.querySelector('meta[name="description"]');e||(e=document.createElement("meta"),e.setAttribute("name","description"),document.head.appendChild(e)),e.setAttribute("content","Join LaceUP, the exclusive professional network for athletes. Connect with mentors, alumni, and career opportunities. Empowering student-athletes to transition beyond the game and succeed in business."),[{property:"og:title",content:"LaceUP - Professional Networking for Athletes"},{property:"og:description",content:"Life beyond the game starts here. Built exclusively for athletes transitioning from their sport into their careers. Connecting talent with mentors, alumni, and real professional opportunities."},{property:"og:type",content:"website"},{property:"og:url",content:window.location.href},{property:"og:site_name",content:"LaceUP"}].forEach(({property:l,content:c})=>{let d=document.querySelector(`meta[property="${l}"]`);d||(d=document.createElement("meta"),d.setAttribute("property",l),document.head.appendChild(d)),d.setAttribute("content",c)}),[{name:"twitter:card",content:"summary_large_image"},{name:"twitter:site",content:"@laceupnetwork"},{name:"twitter:creator",content:"@laceupnetwork"},{name:"twitter:title",content:"LaceUp - Professional Networking for Athletes"},{name:"twitter:description",content:"Connect. Transition. Succeed Beyond the Game. Join the exclusive network for athletes, mentors, and businesses."}].forEach(({name:l,content:c})=>{let d=document.querySelector(`meta[name="${l}"]`);d||(d=document.createElement("meta"),d.setAttribute("name",l),document.head.appendChild(d)),d.setAttribute("content",c)});let n=document.querySelector('meta[name="keywords"]');n||(n=document.createElement("meta"),n.setAttribute("name","keywords"),document.head.appendChild(n)),n.setAttribute("content","athlete networking, sports career transition, athlete jobs, athlete mentorship, college athletes, professional athletes, athlete career platform, sports to business, athlete recruitment");let o=document.querySelector('meta[name="theme-color"]');o||(o=document.createElement("meta"),o.setAttribute("name","theme-color"),document.head.appendChild(o)),o.setAttribute("content","#0A2849")},[]),null);function wB(){return s.jsxs("div",{className:"min-h-screen",children:[s.jsx(yB,{}),s.jsx(dB,{}),s.jsx(hB,{}),s.jsx(fB,{}),s.jsx(mB,{}),s.jsx(pB,{}),s.jsx(gB,{}),s.jsx(xB,{})]})}const _B=new yP,bB=()=>{L4();const t=es().pathname==="/";return s.jsxs("div",{className:"min-h-screen bg-background",children:[!t&&s.jsx(P4,{}),s.jsxs(hO,{children:[s.jsx(Yn,{path:"/",element:s.jsx(wB,{})}),s.jsx(Yn,{path:"/auth",element:s.jsx(oB,{})}),s.jsx(Yn,{path:"/home",element:s.jsx(Aa,{children:s.jsx(JU,{})})}),s.jsx(Yn,{path:"/profile",element:s.jsx(Aa,{children:s.jsx(F3,{})})}),s.jsx(Yn,{path:"/profile/:userId",element:s.jsx(Aa,{children:s.jsx(u8,{})})}),s.jsx(Yn,{path:"/messages",element:s.jsx(Aa,{children:s.jsx(l6,{})})}),s.jsx(Yn,{path:"/opportunities",element:s.jsx(Aa,{children:s.jsx(h6,{})})}),s.jsx(Yn,{path:"/admin",element:s.jsx(Aa,{children:s.jsx(tB,{})})}),s.jsx(Yn,{path:"/lace-hub",element:s.jsx(Aa,{children:s.jsx(iB,{})})}),s.jsx(Yn,{path:"/my-hub",element:s.jsx(Aa,{children:s.jsx(lB,{})})}),s.jsx(Yn,{path:"*",element:s.jsx(cB,{})})]}),!t&&s.jsx(I4,{})]})},jB=()=>s.jsx(_P,{client:_B,children:s.jsxs(Rr,{children:[s.jsx(mA,{}),s.jsx(HA,{}),s.jsx(_O,{children:s.jsx(bB,{})})]})});LC.createRoot(document.getElementById("root")).render(s.jsx(jB,{}));
